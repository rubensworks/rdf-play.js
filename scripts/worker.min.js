/*! For license information please see worker.min.js.LICENSE.txt */
(()=>{var t={608:(t,e,r)=>{var{Buffer:i}=r(8287),n={},s=n.LEFT_BRACE=1,o=n.RIGHT_BRACE=2,a=n.LEFT_BRACKET=3,c=n.RIGHT_BRACKET=4,u=n.COLON=5,l=n.COMMA=6,h=n.TRUE=7,d=n.FALSE=8,f=n.NULL=9,p=n.STRING=10,g=n.NUMBER=11,_=n.START=17,b=n.STOP=18,y=n.TRUE1=33,m=n.TRUE2=34,v=n.TRUE3=35,w=n.FALSE1=49,x=n.FALSE2=50,I=n.FALSE3=51,E=n.FALSE4=52,S=n.NULL1=65,T=n.NULL2=66,R=n.NULL3=67,A=n.NUMBER1=81,O=n.NUMBER3=83,N=n.STRING1=97,C=n.STRING2=98,D=n.STRING3=99,P=n.STRING4=100,j=n.STRING5=101,k=n.STRING6=102,L=n.VALUE=113,F=n.KEY=114,M=n.OBJECT=129,B=n.ARRAY=130,$="\\".charCodeAt(0),V="/".charCodeAt(0),U="\b".charCodeAt(0),q="\f".charCodeAt(0),H="\n".charCodeAt(0),G="\r".charCodeAt(0),z="\t".charCodeAt(0),K=65536;function W(t){return i.alloc?i.alloc(t):new i(t)}function Q(){this.tState=_,this.value=void 0,this.string=void 0,this.stringBuffer=W(K),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=L,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:W(2),3:W(3),4:W(4)},this.offset=-1}Q.toknam=function(t){for(var e=Object.keys(n),r=0,i=e.length;r<i;r++){var s=e[r];if(n[s]===t)return s}return t&&"0x"+t.toString(16)};var J=Q.prototype;J.onError=function(t){throw t},J.charError=function(t,e){this.tState=b,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+Q.toknam(this.tState)))},J.appendStringChar=function(t){this.stringBufferOffset>=K&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t},J.appendStringBuf=function(t,e,r){var i=t.length;"number"==typeof e&&(i="number"==typeof r?r<0?t.length-e+r:r-e:t.length-e),i<0&&(i=0),this.stringBufferOffset+i>K&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=i},J.write=function(t){var e;"string"==typeof t&&(t=new i(t));for(var r=0,n=t.length;r<n;r++)if(this.tState===_){if(e=t[r],this.offset++,123===e)this.onToken(s,"{");else if(125===e)this.onToken(o,"}");else if(91===e)this.onToken(a,"[");else if(93===e)this.onToken(c,"]");else if(58===e)this.onToken(u,":");else if(44===e)this.onToken(l,",");else if(116===e)this.tState=y;else if(102===e)this.tState=w;else if(110===e)this.tState=S;else if(34===e)this.string="",this.stringBufferOffset=0,this.tState=N;else if(45===e)this.string="-",this.tState=A;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=O;else if(32!==e&&9!==e&&10!==e&&13!==e)return this.charError(t,r)}else if(this.tState===N)if(e=t[r],this.bytes_remaining>0){for(var g=0;g<this.bytes_remaining;g++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+g]=t[g];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+g-1}else if(0===this.bytes_remaining&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+Q.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var b=0;b<=t.length-1-r;b++)this.temp_buffs[this.bytes_in_sequence][b]=t[r+b];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.appendStringBuf(t,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(34===e)this.tState=_,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(p,this.string),this.offset+=i.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===e)this.tState=C;else{if(!(e>=32))return this.charError(t,r);this.appendStringChar(e)}else if(this.tState===C)if(34===(e=t[r]))this.appendStringChar(e),this.tState=N;else if(92===e)this.appendStringChar($),this.tState=N;else if(47===e)this.appendStringChar(V),this.tState=N;else if(98===e)this.appendStringChar(U),this.tState=N;else if(102===e)this.appendStringChar(q),this.tState=N;else if(110===e)this.appendStringChar(H),this.tState=N;else if(114===e)this.appendStringChar(G),this.tState=N;else if(116===e)this.appendStringChar(z),this.tState=N;else{if(117!==e)return this.charError(t,r);this.unicode="",this.tState=D}else if(this.tState===D||this.tState===P||this.tState===j||this.tState===k){if(!((e=t[r])>=48&&e<64||e>64&&e<=70||e>96&&e<=102))return this.charError(t,r);if(this.unicode+=String.fromCharCode(e),this.tState++===k){var L=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&L>=56320&&L<57344?(this.appendStringBuf(new i(String.fromCharCode(this.highSurrogate,L))),this.highSurrogate=void 0):void 0===this.highSurrogate&&L>=55296&&L<56320?this.highSurrogate=L:(void 0!==this.highSurrogate&&(this.appendStringBuf(new i(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new i(String.fromCharCode(L)))),this.tState=N}}else if(this.tState===A||this.tState===O)switch(e=t[r]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=O;break;default:this.tState=_;var F=this.numberReviver(this.string,t,r);if(F)return F;this.offset+=this.string.length-1,this.string=void 0,r--}else if(this.tState===y){if(114!==t[r])return this.charError(t,r);this.tState=m}else if(this.tState===m){if(117!==t[r])return this.charError(t,r);this.tState=v}else if(this.tState===v){if(101!==t[r])return this.charError(t,r);this.tState=_,this.onToken(h,!0),this.offset+=3}else if(this.tState===w){if(97!==t[r])return this.charError(t,r);this.tState=x}else if(this.tState===x){if(108!==t[r])return this.charError(t,r);this.tState=I}else if(this.tState===I){if(115!==t[r])return this.charError(t,r);this.tState=E}else if(this.tState===E){if(101!==t[r])return this.charError(t,r);this.tState=_,this.onToken(d,!1),this.offset+=4}else if(this.tState===S){if(117!==t[r])return this.charError(t,r);this.tState=T}else if(this.tState===T){if(108!==t[r])return this.charError(t,r);this.tState=R}else if(this.tState===R){if(108!==t[r])return this.charError(t,r);this.tState=_,this.onToken(f,null),this.offset+=3}},J.onToken=function(t,e){},J.parseError=function(t,e){this.tState=b,this.onError(new Error("Unexpected "+Q.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+Q.toknam(this.state)))},J.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},J.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=L)},J.emit=function(t){this.mode&&(this.state=l),this.onValue(t)},J.onValue=function(t){},J.onToken=function(t,e){if(this.state===L)if(t===p||t===g||t===h||t===d||t===f)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===s)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=F,this.mode=M;else if(t===a)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=B,this.state=L;else if(t===o){if(this.mode!==M)return this.parseError(t,e);this.pop()}else{if(t!==c)return this.parseError(t,e);if(this.mode!==B)return this.parseError(t,e);this.pop()}else if(this.state===F)if(t===p)this.key=e,this.state=u;else{if(t!==o)return this.parseError(t,e);this.pop()}else if(this.state===u){if(t!==u)return this.parseError(t,e);this.state=L}else{if(this.state!==l)return this.parseError(t,e);if(t===l)this.mode===B?(this.key++,this.state=L):this.mode===M&&(this.state=F);else{if(!(t===c&&this.mode===B||t===o&&this.mode===M))return this.parseError(t,e);this.pop()}}},J.numberReviver=function(t,e,r){var i=Number(t);if(isNaN(i))return this.charError(e,r);t.match(/[0-9]+/)==t&&i.toString()!=t?this.onToken(p,t):this.onToken(g,i)},Q.C=n,t.exports=Q},8563:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorAbstractMediaTyped=void 0;const i=r(412);class n extends i.Actor{constructor(t){super(t)}async run(t){if("handle"in t){const e=t;return{handle:await this.runHandle(e.handle,e.handleMediaType,t.context)}}if("mediaTypes"in t)return{mediaTypes:await this.getMediaTypes(t.context)};if("mediaTypeFormats"in t)return{mediaTypeFormats:await this.getMediaTypeFormats(t.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(t){if("handle"in t){const e=t;return(await this.testHandle(e.handle,e.handleMediaType,t.context)).map((t=>({handle:t})))}return"mediaTypes"in t?(await this.testMediaType(t.context)).map((t=>({mediaTypes:t}))):"mediaTypeFormats"in t?(await this.testMediaTypeFormats(t.context)).map((t=>({mediaTypeFormats:t}))):(0,i.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}e.ActorAbstractMediaTyped=n},7633:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorAbstractMediaTypedFixed=void 0;const i=r(412),n=r(8563);class s extends n.ActorAbstractMediaTyped{constructor(t){super(t);const e=this.priorityScale||0===this.priorityScale?this.priorityScale:1;if(this.mediaTypePriorities)for(const[r,[i,n]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[i]=e*n;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(t,e,r){return e&&e in this.mediaTypePriorities?await this.testHandleChecked(t,r):(0,i.failTest)(`Unrecognized media type: ${e}`)}async testMediaType(t){return(0,i.passTestVoid)()}async getMediaTypes(t){return this.mediaTypePriorities}async testMediaTypeFormats(t){return(0,i.passTestVoid)()}async getMediaTypeFormats(t){return this.mediaTypeFormats}}e.ActorAbstractMediaTypedFixed=s},8092:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(8563),e),n(r(7633),e)},601:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceFallback=void 0;const i=r(2890),n=r(412);class s extends i.ActorDereference{constructor(t){super(t)}async test(t){return(0,n.passTestVoid)()}async run(t){return this.handleDereferenceErrors(t,new Error(`Could not dereference '${t.url}'`))}}e.ActorDereferenceFallback=s},7498:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(601),e)},7772:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceHttp=void 0;const i=r(4143);class n extends i.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}e.ActorDereferenceHttp=n},4143:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceHttpBase=e.mediaTypesToAcceptString=void 0;const i=r(2890),n=r(322),s=r(412),o=r(2728),a=r(742),c=/^[^ ;]*/u;function u(t,e){const r="*/*;q=0.1",i=[],n=Object.entries(t).map((([t,e])=>({mediaType:t,priority:e}))).sort(((t,e)=>e.priority===t.priority?t.mediaType.localeCompare(e.mediaType):e.priority-t.priority));let s=n.length-1;for(const{mediaType:o,priority:a}of n){const t=o+(1===a?"":`;q=${a.toFixed(3).replace(/0*$/u,"")}`);if(s+t.length>e){for(;s+9>e;){s-=(i.pop()??"").length+1}i.push(r);break}i.push(t),s+=t.length}return 0===i.length?"*/*":i.join(",")}e.mediaTypesToAcceptString=u;class l extends i.ActorDereference{constructor(t){super(t)}async test({url:t}){return/^https?:/u.test(t)?(0,s.passTestVoid)():(0,s.failTest)(`Cannot retrieve ${t} because it is not an HTTP(S) URL.`)}async run(t){let e=!0;const r=new Headers(t.headers);let s;r.append("Accept",u(await(t.mediaTypes?.())??{},this.getMaxAcceptHeaderLength()));const l=Date.now();try{s=await this.mediatorHttp.mediate({context:t.context,init:{headers:r,method:t.method},input:t.url})}catch(p){return this.handleDereferenceErrors(t,p)}const h=(0,a.resolve)(s.url,t.url),d=Date.now()-l;if(200!==s.status){e=!1;const r=s.body?await(0,o.stringify)(n.ActorHttp.toNodeReadable(s.body)):"empty response";if(!t.acceptErrors){const e=new Error(`Could not retrieve ${t.url} (HTTP status ${s.status}):\n${r}`);return this.handleDereferenceErrors(t,e,s.headers,d)}}const f=c.exec(s.headers.get("content-type")??"")?.[0];return{url:h,data:e?n.ActorHttp.toNodeReadable(s.body):(0,i.emptyReadable)(),exists:e,requestTime:d,headers:s.headers,mediaType:"text/plain"===f?void 0:f}}}e.ActorDereferenceHttpBase=l},8e3:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(7772),e),n(r(4143),e)},4424:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceRdfParse=void 0;const i=r(6475);class n extends i.ActorDereferenceRdf{constructor(t){super(t)}async getMetadata(t){return{baseIRI:t.url}}}e.ActorDereferenceRdfParse=n},1558:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(4424),e)},8951:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpFetch=void 0;const i=r(322),n=r(711),s=r(412),o=r(8393),a=r(7006);class c extends i.ActorHttp{constructor(t){super(t),this.fetchInitPreprocessor=new a.FetchInitPreprocessor(t.agentOptions)}async test(t){return(0,s.passTest)({time:Number.POSITIVE_INFINITY})}async run(t){const e=this.prepareRequestHeaders(t),r={method:"GET",...t.init,headers:e};this.logInfo(t.context,`Requesting ${i.ActorHttp.getInputUrl(t.input).href}`,(()=>({headers:i.ActorHttp.headersToHash(e),method:r.method}))),t.context.has(n.KeysHttp.fetch)&&(r.headers=i.ActorHttp.headersToHash(e)),t.context.get(n.KeysHttp.includeCredentials)&&(r.credentials="include");const s=t.context.get(n.KeysHttp.httpTimeout),o=t.context.get(n.KeysHttp.httpBodyTimeout),a=t.context.get(n.KeysHttp.fetch)??fetch,c=await this.fetchInitPreprocessor.handle(r);let u,l;if(s){const e=new AbortController;c.signal=e.signal,u=()=>e.abort(new Error(`Fetch timed out for ${i.ActorHttp.getInputUrl(t.input).href} after ${s} ms`)),l=setTimeout((()=>u()),s)}const h=await a(t.input,c);return!s||o&&h.body||clearTimeout(l),h}prepareRequestHeaders(t){const e=new Headers(t.init?.headers);i.ActorHttp.isBrowser()?e.delete("user-agent"):e.has("user-agent")||e.set("user-agent",c.userAgent);const r=t.context.get(n.KeysHttp.auth);return r&&e.set("Authorization",`Basic ${c.stringToBase64(r)}`),e}static stringToBase64(t){const e=(new TextEncoder).encode(t),r=Array.from(e,(t=>String.fromCodePoint(t))).join("");return btoa(r)}}e.ActorHttpFetch=c,c.userAgent=i.ActorHttp.createUserAgent("ActorHttpFetch",o.version)},7006:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FetchInitPreprocessor=void 0;e.FetchInitPreprocessor=class{async handle(t){if(t.body&&"string"!=typeof t.body&&"getReader"in t.body){const e=t.body.getReader(),r=[];for(;;){const{done:t,value:i}=await e.read();if(t)break;r.push(i)}t.body=r.join("")}return{...t,keepalive:!t.body}}}},178:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(8951),e)},4407:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttpProxy=void 0;const i=r(322),n=r(711),s=r(412);class o extends i.ActorHttp{constructor(t){super(t)}async test(t){const e=t.context.get(n.KeysHttpProxy.httpProxyHandler);return e?await e.getProxy(t)?(0,s.passTest)({time:Number.POSITIVE_INFINITY}):(0,s.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,s.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(t){const e="string"==typeof t.input?t.input:t.input.url,r=t.context.get(n.KeysHttpProxy.httpProxyHandler),i=await this.mediatorHttp.mediate({...await r.getProxy(t),context:t.context.delete(n.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(i,"url",{configurable:!0,enumerable:!0,get:()=>i.headers.get("x-final-url")??e}),i}}e.ActorHttpProxy=o},570:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyHandlerStatic=void 0;e.ProxyHandlerStatic=class{constructor(t){this.prefixUrl=t}async getProxy(t){return{init:t.init,input:this.modifyInput(t.input)}}modifyInput(t){return"string"==typeof t?this.prefixUrl+t:new Request(this.prefixUrl+t.url,t)}}},5050:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(4407),e),n(r(570),e)},7701:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlMicrodata=void 0;const i=r(242),n=r(711),s=r(412),o=r(1009);class a extends i.ActorRdfParseHtml{constructor(t){super(t)}async test(t){return(0,s.passTestVoid)()}async run(t){const e=t.context.getSafe(n.KeysInitQuery.dataFactory),r=t.headers?t.headers.get("content-type"):null,i=r?.includes("xml"),s=new o.MicrodataRdfParser({dataFactory:e,baseIRI:t.baseIRI,xmlMode:i});s.on("error",t.error),s.on("data",t.emit);const a=s.onEnd;return s.onEnd=()=>{a.call(s),t.end()},{htmlParseListener:s}}}e.ActorRdfParseHtmlMicrodata=a},7630:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(7701),e)},3657:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlRdfa=void 0;const i=r(242),n=r(711),s=r(412),o=r(9749);class a extends i.ActorRdfParseHtml{constructor(t){super(t)}async test(t){return(0,s.passTestVoid)()}async run(t){const e=t.context.getSafe(n.KeysInitQuery.dataFactory),r=t.headers?t.headers.get("content-type"):null,i=(t.headers&&t.headers.get("content-language"))??void 0,s=r&&r.includes("xml")?"xhtml":"html",a=new o.RdfaParser({dataFactory:e,baseIRI:t.baseIRI,profile:s,language:i});a.on("error",t.error),a.on("data",t.emit);const c=a.onEnd;return a.onEnd=()=>{c.call(a),t.end()},{htmlParseListener:a}}}e.ActorRdfParseHtmlRdfa=a},9453:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(3657),e)},9813:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtmlScript=void 0;const i=r(242),n=r(412),s=r(9311);class o extends i.ActorRdfParseHtml{constructor(t){super(t)}async test(t){return(0,n.passTestVoid)()}async run(t){const e=(await this.mediatorRdfParseMediatypes.mediate({context:t.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new s.HtmlScriptListener(this.mediatorRdfParseHandle,t.emit,t.error,t.end,e,t.context,t.baseIRI,t.headers)}}}e.ActorRdfParseHtmlScript=o},9311:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlScriptListener=void 0;const i=r(711),n=r(9198),s=r(742);class o{constructor(t,e,r,n,s,o,a,c){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=t,this.cbQuad=e,this.cbError=r,this.cbEnd=n,this.supportedTypes=s,this.context=o.set(i.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=a,this.headers=c,this.onlyFirstScript=!1===o.get(i.KeysRdfParseHtmlScript.extractAllScripts);const u=this.baseIRI.indexOf("#");this.targetScriptId=u>0?this.baseIRI.slice(u+1,this.baseIRI.length):null}static newErrorCoded(t,e){const r=new Error(t);return r.code=e,r}onEnd(){0==--this.endBarrier&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(0===this.passedScripts&&this.targetScriptId&&this.cbError(o.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const t=new n.Readable({objectMode:!0});t._read=()=>{};const e=this.textChunks,r={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:t,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(r).then((({handle:r})=>{r.data.on("error",(t=>this.cbError(o.newErrorCoded(t.message,"invalid script element")))).on("data",this.cbQuad).on("end",(()=>this.onEnd()));for(const i of e)t.push(i);t.push(null)})).catch((t=>{this.targetScriptId?this.cbError(o.newErrorCoded(t.message,"loading document failed")):this.onEnd()})),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(t,e){"base"===t&&e.href&&(this.baseIRI=(0,s.resolve)(e.href,this.baseIRI)),"script"!==t||this.targetScriptId&&e.id!==this.targetScriptId?this.handleMediaType=void 0:this.supportedTypes[e.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=e.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(0===this.textChunks.length?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(o.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed"))}onText(t){this.handleMediaType&&this.textChunks.push(t)}requiresCustomJsonLdHandling(t){return!this.onlyFirstScript&&!this.targetScriptId&&"application/ld+json"===t}}e.HtmlScriptListener=o},8505:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(9813),e)},9036:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const i=r(5124),n=r(1989),s=r(9198);class o extends i.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t,e,r){const i=new s.Readable({objectMode:!0});i._read=()=>{};let o=0,a=1;function c(t){i.emit("error",t)}function u(){0==--a&&i.push(null)}const l={baseIRI:t.metadata?.baseIRI??"",context:r,emit:t=>{o--,i.push(t)},end:u,error:c,headers:t.headers};try{const e=await Promise.all(this.busRdfParseHtml.publish(l));a+=e.length;const r=[];for(const t of e){const{htmlParseListener:e}=await t.actor.run(l,void 0);r.push(e)}const s=new n.Parser({onclosetag(){try{for(const t of r)t.onTagClose()}catch(t){c(t)}},onend(){try{for(const t of r)t.onEnd()}catch(t){c(t)}u()},onopentag(t,e){try{for(const i of r)i.onTagOpen(t,e)}catch(i){c(i)}},ontext(t){try{for(const e of r)e.onText(t)}catch(e){c(e)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),h=i._read=e=>{for(o=Math.max(e,o);o>0;){const e=t.data.read();if(null===e)return void t.data.once("readable",(()=>h(0)));s.write(e.toString())}};t.data.on("error",c).on("end",(()=>s.end()))}catch(h){setTimeout((()=>{i.emit("error",h)}))}return{data:i}}}e.ActorRdfParseHtml=o},7103:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(9036),e)},5898:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var o=s(r(6840)),a=r(9878),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),u=new Set(["p"]),l=new Set(["thead","tbody"]),h=new Set(["dd","dt"]),d=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",u],["h1",u],["h2",u],["h3",u],["h4",u],["h5",u],["h6",u],["select",c],["input",c],["output",c],["button",c],["datalist",c],["textarea",c],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",h],["dt",h],["address",u],["article",u],["aside",u],["blockquote",u],["details",u],["div",u],["dl",u],["fieldset",u],["figcaption",u],["figure",u],["footer",u],["form",u],["header",u],["hr",u],["main",u],["nav",u],["ol",u],["pre",u],["section",u],["table",u],["ul",u],["rt",d],["rp",d],["tbody",l],["tfoot",l]]),p=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),g=new Set(["math","svg"]),_=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,y=function(){function t(t,e){var r,i,n,s,a,c;void 0===e&&(e={}),this.options=e,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=t?t:{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=null!==(r=e.lowerCaseTags)&&void 0!==r?r:this.htmlMode,this.lowerCaseAttributeNames=null!==(i=e.lowerCaseAttributeNames)&&void 0!==i?i:this.htmlMode,this.recognizeSelfClosing=null!==(n=e.recognizeSelfClosing)&&void 0!==n?n:!this.htmlMode,this.tokenizer=new(null!==(s=e.Tokenizer)&&void 0!==s?s:o.default)(this.options,this),this.foreignContext=[!this.htmlMode],null===(c=(a=this.cbs).onparserinit)||void 0===c||c.call(a,this)}return t.prototype.ontext=function(t,e){var r,i,n=this.getSlice(t,e);this.endIndex=e-1,null===(i=(r=this.cbs).ontext)||void 0===i||i.call(r,n),this.startIndex=e},t.prototype.ontextentity=function(t,e){var r,i;this.endIndex=e-1,null===(i=(r=this.cbs).ontext)||void 0===i||i.call(r,(0,a.fromCodePoint)(t)),this.startIndex=e},t.prototype.isVoidElement=function(t){return this.htmlMode&&p.has(t)},t.prototype.onopentagname=function(t,e){this.endIndex=e;var r=this.getSlice(t,e);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)},t.prototype.emitOpenTag=function(t){var e,r,i,n;this.openTagStart=this.startIndex,this.tagname=t;var s=this.htmlMode&&f.get(t);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){var o=this.stack.shift();null===(r=(e=this.cbs).onclosetag)||void 0===r||r.call(e,o,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(g.has(t)?this.foreignContext.unshift(!0):_.has(t)&&this.foreignContext.unshift(!1))),null===(n=(i=this.cbs).onopentagname)||void 0===n||n.call(i,t),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(t){var e,r;this.startIndex=this.openTagStart,this.attribs&&(null===(r=(e=this.cbs).onopentag)||void 0===r||r.call(e,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1},t.prototype.onclosetag=function(t,e){var r,i,n,s,o,a,c,u;this.endIndex=e;var l=this.getSlice(t,e);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),this.htmlMode&&(g.has(l)||_.has(l))&&this.foreignContext.shift(),this.isVoidElement(l))this.htmlMode&&"br"===l&&(null===(s=(n=this.cbs).onopentagname)||void 0===s||s.call(n,"br"),null===(a=(o=this.cbs).onopentag)||void 0===a||a.call(o,"br",{},!0),null===(u=(c=this.cbs).onclosetag)||void 0===u||u.call(c,"br",!1));else{var h=this.stack.indexOf(l);if(-1!==h)for(var d=0;d<=h;d++){var f=this.stack.shift();null===(i=(r=this.cbs).onclosetag)||void 0===i||i.call(r,f,d!==h)}else this.htmlMode&&"p"===l&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=e+1},t.prototype.onselfclosingtag=function(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)},t.prototype.closeCurrentTag=function(t){var e,r,i=this.tagname;this.endOpenTag(t),this.stack[0]===i&&(null===(r=(e=this.cbs).onclosetag)||void 0===r||r.call(e,i,!t),this.stack.shift())},t.prototype.onattribname=function(t,e){this.startIndex=t;var r=this.getSlice(t,e);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r},t.prototype.onattribdata=function(t,e){this.attribvalue+=this.getSlice(t,e)},t.prototype.onattribentity=function(t){this.attribvalue+=(0,a.fromCodePoint)(t)},t.prototype.onattribend=function(t,e){var r,i;this.endIndex=e,null===(i=(r=this.cbs).onattribute)||void 0===i||i.call(r,this.attribname,this.attribvalue,t===o.QuoteType.Double?'"':t===o.QuoteType.Single?"'":t===o.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(t){var e=t.search(b),r=e<0?t:t.substr(0,e);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},t.prototype.ondeclaration=function(t,e){this.endIndex=e;var r=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(r))}this.startIndex=e+1},t.prototype.onprocessinginstruction=function(t,e){this.endIndex=e;var r=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(r))}this.startIndex=e+1},t.prototype.oncomment=function(t,e,r){var i,n,s,o;this.endIndex=e,null===(n=(i=this.cbs).oncomment)||void 0===n||n.call(i,this.getSlice(t,e-r)),null===(o=(s=this.cbs).oncommentend)||void 0===o||o.call(s),this.startIndex=e+1},t.prototype.oncdata=function(t,e,r){var i,n,s,o,a,c,u,l,h,d;this.endIndex=e;var f=this.getSlice(t,e-r);!this.htmlMode||this.options.recognizeCDATA?(null===(n=(i=this.cbs).oncdatastart)||void 0===n||n.call(i),null===(o=(s=this.cbs).ontext)||void 0===o||o.call(s,f),null===(c=(a=this.cbs).oncdataend)||void 0===c||c.call(a)):(null===(l=(u=this.cbs).oncomment)||void 0===l||l.call(u,"[CDATA[".concat(f,"]]")),null===(d=(h=this.cbs).oncommentend)||void 0===d||d.call(h)),this.startIndex=e+1},t.prototype.onend=function(){var t,e;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}null===(e=(t=this.cbs).onend)||void 0===e||e.call(t)},t.prototype.reset=function(){var t,e,r,i;null===(e=(t=this.cbs).onreset)||void 0===e||e.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(i=(r=this.cbs).onparserinit)||void 0===i||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(t){this.reset(),this.end(t)},t.prototype.getSlice=function(t,e){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var r=this.buffers[0].slice(t-this.bufferOffset,e-this.bufferOffset);e-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,e-this.bufferOffset);return r},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(t){var e,r;this.ended?null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,new Error(".write() after done!")):(this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++))},t.prototype.end=function(t){var e,r;this.ended?null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,new Error(".end() after done!")):(t&&this.write(t),this.ended=!0,this.tokenizer.end())},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(t){this.write(t)},t.prototype.done=function(t){this.end(t)},t}();e.Parser=y},6840:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var i,n,s,o=r(9878);function a(t){return t===i.Space||t===i.NewLine||t===i.Tab||t===i.FormFeed||t===i.CarriageReturn}function c(t){return t===i.Slash||t===i.Gt||a(t)}!function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"}(i||(i={})),function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"}(n||(n={})),function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"}(s||(e.QuoteType=s={}));var u={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])},l=function(){function t(t,e){var r=t.xmlMode,i=void 0!==r&&r,s=t.decodeEntities,a=void 0===s||s,c=this;this.cbs=e,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=i,this.decodeEntities=a,this.entityDecoder=new o.EntityDecoder(i?o.xmlDecodeTree:o.htmlDecodeTree,(function(t,e){return c.emitCodePoint(t,e)}))}return t.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},t.prototype.write=function(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()},t.prototype.end=function(){this.running&&this.finish()},t.prototype.pause=function(){this.running=!1},t.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},t.prototype.stateText=function(t){t===i.Lt||!this.decodeEntities&&this.fastForwardTo(i.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===i.Amp&&this.startEntity()},t.prototype.stateSpecialStartSequence=function(t){var e=this.sequenceIndex===this.currentSequence.length;if(e?c(t):(32|t)===this.currentSequence[this.sequenceIndex]){if(!e)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(t)},t.prototype.stateInSpecialTag=function(t){if(this.sequenceIndex===this.currentSequence.length){if(t===i.Gt||a(t)){var e=this.index-this.currentSequence.length;if(this.sectionStart<e){var r=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=r}return this.isSpecial=!1,this.sectionStart=e+2,void this.stateInClosingTagName(t)}this.sequenceIndex=0}(32|t)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===u.TitleEnd?this.decodeEntities&&t===i.Amp&&this.startEntity():this.fastForwardTo(i.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(t===i.Lt)},t.prototype.stateCDATASequence=function(t){t===u.Cdata[this.sequenceIndex]?++this.sequenceIndex===u.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=u.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(t))},t.prototype.fastForwardTo=function(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1},t.prototype.stateInCommentLike=function(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},t.prototype.isTagStartChar=function(t){return this.xmlMode?!c(t):function(t){return t>=i.LowerA&&t<=i.LowerZ||t>=i.UpperA&&t<=i.UpperZ}(t)},t.prototype.startSpecial=function(t,e){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=e,this.state=n.SpecialStartSequence},t.prototype.stateBeforeTagName=function(t){if(t===i.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===i.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){var e=32|t;this.sectionStart=this.index,this.xmlMode?this.state=n.InTagName:e===u.ScriptEnd[2]?this.state=n.BeforeSpecialS:e===u.TitleEnd[2]?this.state=n.BeforeSpecialT:this.state=n.InTagName}else t===i.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(t))},t.prototype.stateInTagName=function(t){c(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(t))},t.prototype.stateBeforeClosingTagName=function(t){a(t)||(t===i.Gt?this.state=n.Text:(this.state=this.isTagStartChar(t)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},t.prototype.stateInClosingTagName=function(t){(t===i.Gt||a(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(t))},t.prototype.stateAfterClosingTagName=function(t){(t===i.Gt||this.fastForwardTo(i.Gt))&&(this.state=n.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeAttributeName=function(t){t===i.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.sectionStart=this.index+1):t===i.Slash?this.state=n.InSelfClosingTag:a(t)||(this.state=n.InAttributeName,this.sectionStart=this.index)},t.prototype.stateInSelfClosingTag=function(t){t===i.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(t)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(t))},t.prototype.stateInAttributeName=function(t){(t===i.Eq||c(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=n.AfterAttributeName,this.stateAfterAttributeName(t))},t.prototype.stateAfterAttributeName=function(t){t===i.Eq?this.state=n.BeforeAttributeValue:t===i.Slash||t===i.Gt?(this.cbs.onattribend(s.NoValue,this.sectionStart),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(t)):a(t)||(this.cbs.onattribend(s.NoValue,this.sectionStart),this.state=n.InAttributeName,this.sectionStart=this.index)},t.prototype.stateBeforeAttributeValue=function(t){t===i.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):t===i.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(t)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))},t.prototype.handleInAttributeValue=function(t,e){t===e||!this.decodeEntities&&this.fastForwardTo(e)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===i.DoubleQuote?s.Double:s.Single,this.index+1),this.state=n.BeforeAttributeName):this.decodeEntities&&t===i.Amp&&this.startEntity()},t.prototype.stateInAttributeValueDoubleQuotes=function(t){this.handleInAttributeValue(t,i.DoubleQuote)},t.prototype.stateInAttributeValueSingleQuotes=function(t){this.handleInAttributeValue(t,i.SingleQuote)},t.prototype.stateInAttributeValueNoQuotes=function(t){a(t)||t===i.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===i.Amp&&this.startEntity()},t.prototype.stateBeforeDeclaration=function(t){t===i.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=t===i.Dash?n.BeforeComment:n.InDeclaration},t.prototype.stateInDeclaration=function(t){(t===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},t.prototype.stateInProcessingInstruction=function(t){(t===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeComment=function(t){t===i.Dash?(this.state=n.InCommentLike,this.currentSequence=u.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},t.prototype.stateInSpecialComment=function(t){(t===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeSpecialS=function(t){var e=32|t;e===u.ScriptEnd[3]?this.startSpecial(u.ScriptEnd,4):e===u.StyleEnd[3]?this.startSpecial(u.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(t))},t.prototype.stateBeforeSpecialT=function(t){var e=32|t;e===u.TitleEnd[3]?this.startSpecial(u.TitleEnd,4):e===u.TextareaEnd[3]?this.startSpecial(u.TextareaEnd,4):(this.state=n.InTagName,this.stateInTagName(t))},t.prototype.startEntity=function(){this.baseState=this.state,this.state=n.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?o.DecodingMode.Strict:this.baseState===n.Text||this.baseState===n.InSpecialTag?o.DecodingMode.Legacy:o.DecodingMode.Attribute)},t.prototype.stateInEntity=function(){var t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,0===t&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},t.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==n.InAttributeValueDq&&this.state!==n.InAttributeValueSq&&this.state!==n.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},t.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},t.prototype.parse=function(){for(;this.shouldContinue();){var t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:this.stateText(t);break;case n.SpecialStartSequence:this.stateSpecialStartSequence(t);break;case n.InSpecialTag:this.stateInSpecialTag(t);break;case n.CDATASequence:this.stateCDATASequence(t);break;case n.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(t);break;case n.InAttributeName:this.stateInAttributeName(t);break;case n.InCommentLike:this.stateInCommentLike(t);break;case n.InSpecialComment:this.stateInSpecialComment(t);break;case n.BeforeAttributeName:this.stateBeforeAttributeName(t);break;case n.InTagName:this.stateInTagName(t);break;case n.InClosingTagName:this.stateInClosingTagName(t);break;case n.BeforeTagName:this.stateBeforeTagName(t);break;case n.AfterAttributeName:this.stateAfterAttributeName(t);break;case n.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(t);break;case n.BeforeAttributeValue:this.stateBeforeAttributeValue(t);break;case n.BeforeClosingTagName:this.stateBeforeClosingTagName(t);break;case n.AfterClosingTagName:this.stateAfterClosingTagName(t);break;case n.BeforeSpecialS:this.stateBeforeSpecialS(t);break;case n.BeforeSpecialT:this.stateBeforeSpecialT(t);break;case n.InAttributeValueNq:this.stateInAttributeValueNoQuotes(t);break;case n.InSelfClosingTag:this.stateInSelfClosingTag(t);break;case n.InDeclaration:this.stateInDeclaration(t);break;case n.BeforeDeclaration:this.stateBeforeDeclaration(t);break;case n.BeforeComment:this.stateBeforeComment(t);break;case n.InProcessingInstruction:this.stateInProcessingInstruction(t);break;case n.InEntity:this.stateInEntity()}this.index++}this.cleanup()},t.prototype.finish=function(){this.state===n.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},t.prototype.handleTrailingData=function(){var t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===n.InCommentLike?this.currentSequence===u.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,t))},t.prototype.emitCodePoint=function(t,e){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+e,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+e,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))},t}();e.default=l},1989:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.QuoteType=e.Tokenizer=e.createDomStream=e.createDocumentStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=r(5898),c=r(5898);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return c.Parser}});var u=r(1141),l=r(1141);function h(t,e){var r=new u.DomHandler(void 0,e);return new a.Parser(r,e).end(t),r.root}function d(t,e){return h(t,e).children}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}}),e.parseDocument=h,e.parseDOM=d,e.createDocumentStream=function(t,e,r){var i=new u.DomHandler((function(e){return t(e,i.root)}),e,r);return new a.Parser(i,e)},e.createDomStream=function(t,e,r){var i=new u.DomHandler(t,e,r);return new a.Parser(i,e)};var f=r(6840);Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return o(f).default}}),Object.defineProperty(e,"QuoteType",{enumerable:!0,get:function(){return f.QuoteType}}),e.ElementType=s(r(5413));var p=r(8888),g=r(8888);Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return g.getFeed}});var _={xmlMode:!0};e.parseFeed=function(t,e){return void 0===e&&(e=_),(0,p.getFeed)(d(t,e))},e.DomUtils=s(r(8888))},5312:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseJsonLd=void 0;const i=r(5124),n=r(711),s=r(412),o=r(8690),a=r(4333);class c extends i.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async testHandle(t,e,r){return r.has(n.KeysRdfParseHtmlScript.processingHtmlScript)&&"application/ld+json"!==e?(0,s.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):e&&(e in this.mediaTypePriorities||e.endsWith("+json"))?await this.testHandleChecked(t):(0,s.failTest)(`Unrecognized media type: ${e}`)}async runHandle(t,e,r){const i=t.context.getSafe(n.KeysInitQuery.dataFactory);return{data:o.JsonLdParser.fromHttpResponse(t.metadata?.baseIRI??"",e,t.headers,{dataFactory:i,documentLoader:r.get(n.KeysRdfParseJsonLd.documentLoader)??new a.DocumentLoaderMediated(this.mediatorHttp,r),strictValues:r.get(n.KeysRdfParseJsonLd.strictValues),...r.get(n.KeysRdfParseJsonLd.parserOptions)}).import(t.data)}}}e.ActorRdfParseJsonLd=c},4333:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentLoaderMediated=void 0;const i=r(322),n=r(2728),s=r(2395);class o extends s.FetchDocumentLoader{constructor(t,e){super(o.createFetcher(t,e)),this.mediatorHttp=t,this.context=e}static createFetcher(t,e){return async(r,s)=>{const o=await t.mediate({input:r,init:s,context:e});return o.json=async()=>JSON.parse(await(0,n.stringify)(i.ActorHttp.toNodeReadable(o.body))),o}}}e.DocumentLoaderMediated=o},1108:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(5312),e),n(r(4333),e)},448:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseN3=void 0;const i=r(5124),n=r(711),s=r(482);class o extends i.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t,e,r){const i=t.context.getSafe(n.KeysInitQuery.dataFactory);t.data.on("error",(t=>o.emit("error",t)));const o=t.data.pipe(new s.StreamParser({factory:i,baseIRI:t.metadata?.baseIRI,format:e.endsWith("n3")?e:`${e}*`}));return{data:o,metadata:{triples:"text/turtle"===e||"application/n-triples"===e||"text/n3"===e}}}}e.ActorRdfParseN3=o},6361:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(448),e)},482:(t,e,r)=>{"use strict";r.r(e),r.d(e,{BlankNode:()=>R,DataFactory:()=>I,DefaultGraph:()=>O,EntityIndex:()=>ft,Lexer:()=>b,Literal:()=>T,NamedNode:()=>S,Parser:()=>V,Quad:()=>D,Reasoner:()=>mt,Store:()=>pt,StoreFactory:()=>bt,StreamParser:()=>xt,StreamWriter:()=>It,Term:()=>E,Triple:()=>D,Util:()=>i,Variable:()=>A,Writer:()=>st,default:()=>Et,getRulesFromDataset:()=>yt,termFromId:()=>N,termToId:()=>C});var i={};r.r(i),r.d(i,{inDefaultGraph:()=>Q,isBlankNode:()=>G,isDefaultGraph:()=>W,isLiteral:()=>z,isNamedNode:()=>H,isVariable:()=>K,prefix:()=>J,prefixes:()=>X});var n=r(8287),s=r(9596),o=r.n(s);const a="http://www.w3.org/1999/02/22-rdf-syntax-ns#",c="http://www.w3.org/2001/XMLSchema#",u="http://www.w3.org/2000/10/swap/",l={xsd:{decimal:`${c}decimal`,boolean:`${c}boolean`,double:`${c}double`,integer:`${c}integer`,string:`${c}string`},rdf:{type:`${a}type`,nil:`${a}nil`,first:`${a}first`,rest:`${a}rest`,langString:`${a}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${u}reify#forSome`,forAll:`${u}reify#forAll`},log:{implies:`${u}log#implies`}},{xsd:h}=l,d=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,f={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},p=/[\x00-\x20<>\\"\{\}\|\^\`]/,g={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},_=/$0^/;class b{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const t in this)!(t in g)&&this[t]instanceof RegExp&&(this[t]=_)}else this._n3Mode=!1!==t.n3;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,e){let r=this._input,i=r.length;for(;;){let t,o;for(;t=this._newline.exec(r);)this.comments&&(o=this._comment.exec(t[0]))&&n("comment",o[1],"",this._line,t[0].length),r=r.substr(t[0].length,r.length),i=r.length,this._line++;if(!t&&(t=this._whitespace.exec(r))&&(r=r.substr(t[0].length,r.length)),this._endOfFile.test(r))return e&&(this.comments&&(o=this._comment.exec(r))&&n("comment",o[1],"",this._line,r.length),r=null,n("eof","","",this._line,0)),this._input=r;const a=this._line,c=r[0];let u="",l="",d="",f=null,g=0,_=!1;switch(c){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(g=1,u="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){_=!0;break}case"<":if(f=this._unescapedIri.exec(r))u="IRI",l=f[1];else if(f=this._iri.exec(r)){if(l=this._unescape(f[1]),null===l||p.test(l))return s(this);u="IRI"}else r.length>1&&"<"===r[1]?(u="<<",g=2):this._n3Mode&&r.length>1&&"="===r[1]&&(u="inverse",g=2,l=">");break;case">":r.length>1&&">"===r[1]&&(u=">>",g=2);break;case"_":((f=this._blank.exec(r))||e&&(f=this._blank.exec(`${r} `)))&&(u="blank",d="_",l=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(r))l=f[1];else if(({value:l,matchLength:g}=this._parseLiteral(r)),null===l)return s(this);null===f&&0===g||(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(r))l=f[1];else if(({value:l,matchLength:g}=this._parseLiteral(r)),null===l)return s(this);null===f&&0===g||(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(r))&&(u="var",l=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(r))?(u="langcode",l=f[1]):(f=this._keyword.exec(r))&&(u=f[0]);break;case".":if(1===r.length?e:r[1]<"0"||r[1]>"9"){u=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(r)||e&&(f=this._number.exec(`${r} `)))&&(u="literal",l=f[0],d="string"==typeof f[1]?h.double:"string"==typeof f[2]?h.decimal:h.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(r))?u=f[0].toUpperCase():_=!0;break;case"f":case"t":(f=this._boolean.exec(r))?(u="literal",l=f[0],d=h.boolean):_=!0;break;case"a":(f=this._shortPredicates.exec(r))?(u="abbreviation",l="a"):_=!0;break;case"=":this._n3Mode&&r.length>1&&(u="abbreviation",">"!==r[1]?(g=1,l="="):(g=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,u=c);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(u="{|",g=2):(u=c,g=1));break;case"|":r.length>=2&&"}"===r[1]&&(u="|}",g=2);break;default:_=!0}if(_&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(f=this._prefix.exec(r))?((f=this._prefixed.exec(r))||e&&(f=this._prefixed.exec(`${r} `)))&&(u="prefixed",d=f[1]||"",l=this._unescape(f[2])):(u="prefix",l=f[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const b=g||f[0].length,y=n(u,l,d,a,b);this.previousToken=y,this._previousMarker=u,r=r.substr(b,r.length)}function n(e,n,s,o,a){const c=r?i-r.length:i,u={type:e,value:n,prefix:s,line:o,start:c,end:c+a};return t(null,u),u}function s(e){t(e._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let e=!1;const r=t.replace(d,((t,r,i,n)=>{if("string"==typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"==typeof i){let t=Number.parseInt(i,16);return t<=65535?String.fromCharCode(Number.parseInt(i,16)):String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t))}return n in f?f[n]:(e=!0,"")}));return e?null:r}_parseLiteral(t){if(t.length>=3){const e=t.match(/^(?:"""|"|'''|'|)/)[0],r=e.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(e,i))>0;){let e=0;for(;"\\"===t[i-e-1];)e++;if(e%2==0){const e=t.substring(r,i),n=e.split(/\r\n|\r|\n/).length-1,s=i+r;if(1===r&&0!==n||3===r&&this._lineMode)break;return this._line+=n,{value:this._unescape(e),matchLength:s}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const e=new Error(`Unexpected "${t}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}_readStartingBom(t){return t.startsWith("\ufeff")?t.substr(1):t}tokenize(t,e){if(this._line=1,"string"==typeof t){if(this._input=this._readStartingBom(t),"function"!=typeof e){const t=[];let e;if(this._tokenizeToEnd(((r,i)=>r?e=r:t.push(i)),!0),e)throw e;return t}o()((()=>this._tokenizeToEnd(e,!0)))}else this._pendingBuffer=null,"function"==typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",(t=>{null!==this._input&&0!==t.length&&(this._pendingBuffer&&(t=n.Buffer.concat([this._pendingBuffer,t]),this._pendingBuffer=null),128&t[t.length-1]?this._pendingBuffer=t:(void 0===this._input?this._input=this._readStartingBom("string"==typeof t?t:t.toString()):this._input+=t,this._tokenizeToEnd(e,!1)))})),t.on("end",(()=>{"string"==typeof this._input&&this._tokenizeToEnd(e,!0)})),t.on("error",e)}}const{rdf:y,xsd:m}=l;let v,w=0;const x={namedNode:P,blankNode:j,variable:L,literal:k,defaultGraph:function(){return v},quad:F,triple:F,fromTerm:M,fromQuad:B},I=x;class E{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof E?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class S extends E{get termType(){return"NamedNode"}}class T extends E{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}get datatype(){return new S(this.datatypeString)}get datatypeString(){const t=this.id,e=t.lastIndexOf('"')+1,r=e<t.length?t[e]:"";return"^"===r?t.substr(e+2):"@"!==r?m.string:y.langString}equals(t){return t instanceof T?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class R extends E{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class A extends E{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class O extends E{constructor(){return super(""),v||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}function N(t,e,r){if(e=e||x,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===x)return new T(t);if('"'===t[t.length-1])return e.literal(t.substr(1,t.length-2));const i=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,i-1),"@"===t[i+1]?t.substr(i+2):e.namedNode(t.substr(i+3)));case"[":t=JSON.parse(t);break;default:if(!r||!Array.isArray(t))return e.namedNode(t)}return e.quad(N(t[0],e,!0),N(t[1],e,!0),N(t[2],e,!0),t[3]&&N(t[3],e,!0))}function C(t,e){if("string"==typeof t)return t;if(t instanceof E&&"Quad"!==t.termType)return t.id;if(!t)return v.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==m.string?`^^${t.datatype.value}`:""}`;case"Quad":const r=[C(t.subject,!0),C(t.predicate,!0),C(t.object,!0)];return t.graph&&"DefaultGraph"!==t.graph.termType&&r.push(C(t.graph,!0)),e?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${t.termType}`)}}v=new O;class D extends E{constructor(t,e,r,i){super(""),this._subject=t,this._predicate=e,this._object=r,this._graph=i||v}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function P(t){return new S(t)}function j(t){return new R(t||"n3-"+w++)}function k(t,e){if("string"==typeof e)return new T(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return""===r&&("boolean"==typeof t?r=m.boolean:"number"==typeof t&&(Number.isFinite(t)?r=Number.isInteger(t)?m.integer:m.double:(r=m.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),""===r||r===m.string?new T(`"${t}"`):new T(`"${t}"^^${r}`)}function L(t){return new A(t)}function F(t,e,r,i){return new D(t,e,r,i)}function M(t){if(t instanceof E)return t;switch(t.termType){case"NamedNode":return P(t.value);case"BlankNode":return j(t.value);case"Variable":return L(t.value);case"DefaultGraph":return v;case"Literal":return k(t.value,t.language||t.datatype);case"Quad":return B(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function B(t){if(t instanceof D)return t;if("Quad"!==t.termType)throw new Error(`Unexpected termType: ${t.termType}`);return F(M(t.subject),M(t.predicate),M(t.object),M(t.graph))}let $=0;class V{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&q(this,t.factory);const e="string"==typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(e),i=/trig/.test(e),n=/triple/.test(e),s=/quad/.test(e),o=this._n3Mode=/n3/.test(e),a=n||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||n||o),this._supportsRDFStar=""===e||/star|\*$/.test(e),a&&(this._resolveRelativeIRI=t=>null),this._blankNodePrefix="string"!=typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new b({lineMode:a,n3:o}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){$=0}_setBase(t){if(t){const e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}_saveContext(t,e,r,i,n){const s=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:n,graph:e,inverse:!!s&&this._inversePredicate,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,e){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${e.type}`,e);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,e){let r;switch(t.type){case"IRI":case"typeIRI":const e=this._resolveIRI(t.value);if(null===e)return this._error("Invalid IRI",t);r=this._namedNode(e);break;case"type":case"prefixed":const i=this._prefixes[t.prefix];if(void 0===i)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(i+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!e&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(0===t.prefix.length)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${e}`,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return"{"!==t.type?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=null===this._predicate;return this._restoreContext("blank",t),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let e=null,r=null,i=this._readListItem;const n=this._subject,s=this._contextStack,o=s[s.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=e=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),0!==s.length&&"list"===s[s.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(e=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(e=this._readEntity(t)))return}if(null===r&&(this._subject=r=this._blankNode()),null===n?null===o.predicate?o.subject=r:o.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,e,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let e=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(void 0===r)return;e=this._literal(this._literalValue,r),t=null;break;case"langcode":e=this._literal(this._literalValue,t.value),t=null}return{token:t,literal:e}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,e){const r=this._completeLiteral(t);if(r)return this._object=r.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let e,r=this._graph;const i=this._subject,n=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,n&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const s=this._predicate,o=this._object;this._subject=this._quad(i,s,o,this.DEFAULTGRAPH),e=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",t);this._subject=null,e=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(null!==i){const t=this._predicate,e=this._object;n?this._emit(e,t,i,r):this._emit(i,t,e,r)}return e}_readBlankNodePunctuation(t){let e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if("IRI"!==t.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(t){const e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,r=e.length&&e[e.length-1];if(r&&"item"===r.type){const e=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,e,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let e,r;const i=this._blankNode();if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=i):(e=this._object,this._object=i),this._emit(e,r,i,this._graph),this._readPath}_readBackwardPath(t){const e=this._blankNode();let r,i;if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(i=this._subject,this._subject=e):(i=this._object,this._object=e),this._emit(e,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return">>"!==t.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(t))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(">>"!==t.type)return this._error(`Expected >> but got ${t.type}`,t);const e=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),null===this._subject?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,e,r,i){this._callback(null,this._quad(t,e,r,i||this.DEFAULTGRAPH))}_error(t,e){const r=new Error(`${t} on line ${e.line}.`);r.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=U}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const e=t.length;let r="",i=-1,n=-1,s=0,o="/";for(;i<e;){switch(o){case":":if(n<0&&"/"===t[++i]&&"/"===t[++i])for(;(n=i+1)<e&&"/"!==t[n];)i=n;break;case"?":case"#":i=e;break;case"/":if("."===t[i+1])switch(o=t[1+ ++i],o){case"/":r+=t.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+t.substring(s,i)+t.substr(i+1);case".":if(o=t[1+ ++i],void 0===o||"/"===o||"?"===o||"#"===o){if(r+=t.substring(s,i-2),(s=r.lastIndexOf("/"))>=n&&(r=r.substr(0,s)),"/"!==o)return`${r}/${t.substr(i+1)}`;s=i+1}}}o=t[++i]}return r+t.substring(s)}parse(t,e,r){let i,n,s;if(e&&(e.onQuad||e.onPrefix||e.onComment)?(i=e.onQuad,n=e.onPrefix,s=e.onComment):(i=e,n=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${$++}_`,this._prefixCallback=n||U,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const e=[];let r;if(this._callback=(t,i)=>{t?r=t:i&&e.push(i)},this._lexer.tokenize(t).every((t=>this._readCallback=this._readCallback(t))),r)throw r;return e}let o=(t,e)=>{null!==t?(this._callback(t),this._callback=U):this._readCallback&&(this._readCallback=this._readCallback(e))};s&&(this._lexer.comments=!0,o=(t,e)=>{null!==t?(this._callback(t),this._callback=U):this._readCallback&&("comment"===e.type?s(e.value):this._readCallback=this._readCallback(e))}),this._callback=i,this._lexer.tokenize(t,o)}}function U(){}function q(t,e){const r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(l.rdf.first),t.RDF_REST=r(l.rdf.rest),t.RDF_NIL=r(l.rdf.nil),t.N3_FORALL=r(l.r.forAll),t.N3_FORSOME=r(l.r.forSome),t.ABBREVIATIONS={a:r(l.rdf.type),"=":r(l.owl.sameAs),">":r(l.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}function H(t){return!!t&&"NamedNode"===t.termType}function G(t){return!!t&&"BlankNode"===t.termType}function z(t){return!!t&&"Literal"===t.termType}function K(t){return!!t&&"Variable"===t.termType}function W(t){return!!t&&"DefaultGraph"===t.termType}function Q(t){return W(t.graph)}function J(t,e){return X({"":t.value||t},e)("")}function X(t,e){const r=Object.create(null);for(const n in t)i(n,t[n]);function i(t,i){if("string"==typeof i){const n=Object.create(null);r[t]=t=>n[t]||(n[t]=e.namedNode(i+t))}else if(!(t in r))throw new Error(`Unknown prefix: ${t}`);return r[t]}return e=e||I,i}q(V.prototype,I);const Y=I.defaultGraph(),{rdf:Z,xsd:tt}=l,et=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,rt=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,it={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class nt extends E{equals(t){return t===this}}class st{constructor(t,e){if(this._prefixRegex=/$0^/,t&&"function"!=typeof t.write&&(e=t,t=null),e=e||{},this._lists=e.lists,t)this._outputStream=t,this._endStream=void 0===e.end||!!e.end;else{let t="";this._outputStream={write(e,r,i){t+=e,i&&i()},end:e=>{e&&e(null,t)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(e.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Y,this._prefixIRIs=Object.create(null),e.prefixes&&this.addPrefixes(e.prefixes),e.baseIRI&&(this._baseMatcher=new RegExp(`^${at(e.baseIRI)}${e.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=e.baseIRI.length))}get _inDefaultGraph(){return Y.equals(this._graph)}_write(t,e){this._outputStream.write(t,"utf8",e)}_writeQuad(t,e,r,i,n){try{i.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(Y.equals(i)?"":`${this._encodeIriOrBlank(i)} {\n`)),this._graph=i,this._subject=null),t.equals(this._subject)?e.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,n):this._write(`;\n    ${this._encodePredicate(this._predicate=e)} ${this._encodeObject(r)}`,n):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=e)} ${this._encodeObject(r)}`,n)}catch(s){n&&n(s)}}_writeQuadLine(t,e,r,i,n){delete this._prefixMatch,this._write(this.quadToString(t,e,r,i),n)}quadToString(t,e,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(e)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .\n`:" .\n"}`}quadsToString(t){let e="";for(const r of t)e+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return e}_encodeSubject(t){return"Quad"===t.termType?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if("NamedNode"!==t.termType)return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let e=t.value;this._baseMatcher&&this._baseMatcher.test(e)&&(e=e.substr(this._baseLength)),et.test(e)&&(e=e.replace(rt,ot));const r=this._prefixRegex.exec(e);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:e:`<${e}>`}_encodeLiteral(t){let e=t.value;if(et.test(e)&&(e=e.replace(rt,ot)),t.language)return`"${e}"@${t.language}`;if(this._lineMode){if(t.datatype.value===tt.string)return`"${e}"`}else switch(t.datatype.value){case tt.string:return`"${e}"`;case tt.boolean:if("true"===e||"false"===e)return e;break;case tt.integer:if(/^[+-]?\d+$/.test(e))return e;break;case tt.decimal:if(/^[+-]?\d*\.\d+$/.test(e))return e;break;case tt.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(e))return e}return`"${e}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===Z.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:e,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(e)} ${this._encodeObject(r)}${W(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,e,r,i,n){void 0===r?this._writeQuad(t.subject,t.predicate,t.object,t.graph,e):"function"==typeof i?this._writeQuad(t,e,r,Y,i):this._writeQuad(t,e,r,i||Y,n)}addQuads(t){for(let e=0;e<t.length;e++)this.addQuad(t[e])}addPrefix(t,e,r){const i={};i[t]=e,this.addPrefixes(i,r)}addPrefixes(t,e){if(!this._prefixIRIs)return e&&e();let r=!1;for(let i in t){let e=t[i];"string"!=typeof e&&(e=e.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[e]=i+=":",this._write(`@prefix ${i} <${e}>.\n`)}if(r){let t="",e="";for(const r in this._prefixIRIs)t+=t?`|${r}`:r,e+=(e?"|":"")+this._prefixIRIs[r];t=at(t),this._prefixRegex=new RegExp(`^(?:${e})[^/]*$|^(${t})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?"\n":"",e)}blank(t,e){let r,i,n=t;switch(void 0===t?n=[]:t.termType?n=[{predicate:t,object:e}]:"length"in t||(n=[t]),i=n.length){case 0:return new nt("[]");case 1:if(r=n[0],!(r.object instanceof nt))return new nt(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let e="[";for(let s=0;s<i;s++)r=n[s],r.predicate.equals(t)?e+=`, ${this._encodeObject(r.object)}`:(e+=`${(s?";\n  ":"\n  ")+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,t=r.predicate);return new nt(`${e}\n]`)}}list(t){const e=t&&t.length||0,r=new Array(e);for(let i=0;i<e;i++)r[i]=this._encodeObject(t[i]);return new nt(`(${r.join(" ")})`)}end(t){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let e=t&&((r,i)=>{e=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(e)}catch(r){}e&&e()}}function ot(t){let e=it[t];return void 0===e&&(1===t.length?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function at(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var ct=r(9198);const ut=Symbol("iter");function lt(t,e,r=4){if(0===r)return Object.assign(t,e);for(const i in e)t[i]=lt(t[i]||Object.create(null),e[i],r-1);return t}function ht(t,e,r=4){let i=!1;for(const n in t)if(n in e){const s=0===r?null:ht(t[n],e[n],r-1);if(!1!==s)i=i||Object.create(null),i[n]=s;else if(3===r)return!1}return i}function dt(t,e,r=4){let i=!1;for(const n in t)if(n in e){if(0!==r){const s=dt(t[n],e[n],r-1);if(!1!==s)i=i||Object.create(null),i[n]=s;else if(3===r)return!1}}else i=i||Object.create(null),i[n]=0===r?null:lt({},t[n],r-1);return i}class ft{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||I}_termFromId(t){if("."===t[0]){const e=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(e[r[1]]),this._termFromId(e[r[2]]),this._termFromId(e[r[3]]),r[4]&&this._termFromId(e[r[4]]))}return N(t,this._factory)}_termToNumericId(t){if("Quad"===t.termType){const e=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let n;return e&&r&&i&&(W(t.graph)||(n=this._termToNumericId(t.graph)))&&this._ids[n?`.${e}.${r}.${i}.${n}`:`.${e}.${r}.${i}`]}return this._ids[C(t)]}_termToNewNumericId(t){const e=t&&"Quad"===t.termType?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${W(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:C(t);return this._ids[e]||(this._ids[this._entities[++this._id]=e]=this._id)}createBlankNode(t){let e,r;if(t)for(e=t=`_:${t}`,r=1;this._ids[e];)e=t+r++;else do{e="_:b"+this._blankNodeIndex++}while(this._ids[e]);return this._ids[e]=++this._id,this._entities[this._id]=e,this._factory.blankNode(e.substr(2))}}class pt{constructor(t,e){this._size=0,this._graphs=Object.create(null),e||!t||t[0]||(e=t,t=null),e=e||{},this._factory=e.factory||I,this._entityIndex=e.entityIndex||new ft({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(null!==t)return t;t=0;const e=this._graphs;let r,i;for(const n in e)for(const s in r=e[n].subjects)for(const e in i=r[s])t+=Object.keys(i[e]).length;return this._size=t}_addToIndex(t,e,r,i){const n=t[e]||(t[e]={}),s=n[r]||(n[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(t,e,r,i){const n=t[e],s=n[r];delete s[i];for(const o in s)return;delete n[r];for(const o in n)return;delete t[e]}*_findInIndex(t,e,r,i,n,s,o,a){let c,u,l;const h=this._entities,d=this._termFromId(h[a]),f={subject:null,predicate:null,object:null};e&&((c=t,t={})[e]=c[e]);for(const p in t)if(u=t[p]){f[n]=this._termFromId(h[p]),r&&((c=u,u={})[r]=c[r]);for(const t in u)if(l=u[t]){f[s]=this._termFromId(h[t]);const e=i?i in l?[i]:[]:Object.keys(l);for(let t=0;t<e.length;t++)f[o]=this._termFromId(h[e[t]]),yield this._factory.quad(f.subject,f.predicate,f.object,d)}}}_loop(t,e){for(const r in t)e(r)}_loopByKey0(t,e,r){let i,n;if(i=t[e])for(n in i)r(n)}_loopByKey1(t,e,r){let i,n;for(i in t)n=t[i],n[e]&&r(i)}_loopBy2Keys(t,e,r,i){let n,s,o;if((n=t[e])&&(s=n[r]))for(o in s)i(o)}_countInIndex(t,e,r,i){let n,s,o,a=0;e&&((n=t,t={})[e]=n[e]);for(const c in t)if(s=t[c]){r&&((n=s,s={})[r]=n[r]);for(const t in s)(o=s[t])&&(i?i in o&&a++:a+=Object.keys(o).length)}return a}_getGraphs(t){return"number"!=typeof(t=""===t?1:t&&(this._termToNumericId(t)||-1))?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const e=Object.create(null);return r=>{r in e||(e[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,e,r,i){e||(i=t.graph,r=t.object,e=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let n=this._graphs[i];return n||(n=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(n)),t=this._termToNewNumericId(t),e=this._termToNewNumericId(e),r=this._termToNewNumericId(r),!!this._addToIndex(n.subjects,t,e,r)&&(this._addToIndex(n.predicates,e,r,t),this._addToIndex(n.objects,r,t,e),this._size=null,!0)}addQuads(t){for(let e=0;e<t.length;e++)this.addQuad(t[e])}delete(t){return this.removeQuad(t),this}has(t,e,r,i){return t&&t.subject&&({subject:t,predicate:e,object:r,graph:i}=t),!this.readQuads(t,e,r,i).next().done}import(t){return t.on("data",(t=>{this.addQuad(t)})),t}removeQuad(t,e,r,i){e||({subject:t,predicate:e,object:r,graph:i}=t),i=i?this._termToNumericId(i):1;const n=this._graphs;let s,o,a;if(!((t=t&&this._termToNumericId(t))&&(e=e&&this._termToNumericId(e))&&(r=r&&this._termToNumericId(r))&&(s=n[i])&&(o=s.subjects[t])&&(a=o[e])&&r in a))return!1;for(t in this._removeFromIndex(s.subjects,t,e,r),this._removeFromIndex(s.predicates,e,r,t),this._removeFromIndex(s.objects,r,t,e),null!==this._size&&this._size--,s.subjects)return!0;return delete n[i],!0}removeQuads(t){for(let e=0;e<t.length;e++)this.removeQuad(t[e])}remove(t){return t.on("data",(t=>{this.removeQuad(t)})),t}removeMatches(t,e,r,i){const n=new ct.Readable({objectMode:!0}),s=this.readQuads(t,e,r,i);return n._read=t=>{for(;--t>=0;){const{done:t,value:e}=s.next();if(t)return void n.push(null);n.push(e)}},this.remove(n)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,e,r,i){return[...this.readQuads(t,e,r,i)]}*readQuads(t,e,r,i){const n=this._getGraphs(i);let s,o,a,c;if(!(t&&!(o=this._termToNumericId(t))||e&&!(a=this._termToNumericId(e))||r&&!(c=this._termToNumericId(r))))for(const u in n)(s=n[u])&&(o?c?yield*this._findInIndex(s.objects,c,o,a,"object","subject","predicate",u):yield*this._findInIndex(s.subjects,o,a,null,"subject","predicate","object",u):a?yield*this._findInIndex(s.predicates,a,c,null,"predicate","object","subject",u):c?yield*this._findInIndex(s.objects,c,null,null,"object","subject","predicate",u):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",u))}match(t,e,r,i){return new _t(this,t,e,r,i,{entityIndex:this._entityIndex})}countQuads(t,e,r,i){const n=this._getGraphs(i);let s,o,a,c,u=0;if(t&&!(o=this._termToNumericId(t))||e&&!(a=this._termToNumericId(e))||r&&!(c=this._termToNumericId(r)))return 0;for(const l in n)(s=n[l])&&(u+=t?r?this._countInIndex(s.objects,c,o,a):this._countInIndex(s.subjects,o,a,c):e?this._countInIndex(s.predicates,a,c,o):this._countInIndex(s.objects,c,o,a));return u}forEach(t,e,r,i,n){this.some((e=>(t(e,this),!1)),e,r,i,n)}every(t,e,r,i,n){return!this.some((e=>!t(e,this)),e,r,i,n)}some(t,e,r,i,n){for(const s of this.readQuads(e,r,i,n))if(t(s))return!0;return!1}getSubjects(t,e,r){const i=[];return this.forSubjects((t=>{i.push(t)}),t,e,r),i}forSubjects(t,e,r,i){const n=this._getGraphs(i);let s,o,a;if(t=this._uniqueEntities(t),!(e&&!(o=this._termToNumericId(e))||r&&!(a=this._termToNumericId(r))))for(i in n)(s=n[i])&&(o?a?this._loopBy2Keys(s.predicates,o,a,t):this._loopByKey1(s.subjects,o,t):a?this._loopByKey0(s.objects,a,t):this._loop(s.subjects,t))}getPredicates(t,e,r){const i=[];return this.forPredicates((t=>{i.push(t)}),t,e,r),i}forPredicates(t,e,r,i){const n=this._getGraphs(i);let s,o,a;if(t=this._uniqueEntities(t),!(e&&!(o=this._termToNumericId(e))||r&&!(a=this._termToNumericId(r))))for(i in n)(s=n[i])&&(o?a?this._loopBy2Keys(s.objects,a,o,t):this._loopByKey0(s.subjects,o,t):a?this._loopByKey1(s.predicates,a,t):this._loop(s.predicates,t))}getObjects(t,e,r){const i=[];return this.forObjects((t=>{i.push(t)}),t,e,r),i}forObjects(t,e,r,i){const n=this._getGraphs(i);let s,o,a;if(t=this._uniqueEntities(t),!(e&&!(o=this._termToNumericId(e))||r&&!(a=this._termToNumericId(r))))for(i in n)(s=n[i])&&(o?a?this._loopBy2Keys(s.subjects,o,a,t):this._loopByKey1(s.objects,o,t):a?this._loopByKey0(s.predicates,a,t):this._loop(s.objects,t))}getGraphs(t,e,r){const i=[];return this.forGraphs((t=>{i.push(t)}),t,e,r),i}forGraphs(t,e,r,i){for(const n in this._graphs)this.some((e=>(t(e.graph),!0)),e,r,i,this._termFromId(this._entities[n]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:e=!1}={}){const r={},i=e?()=>!0:(t,e)=>{throw new Error(`${t.value} ${e}`)},n=this.getQuads(null,l.rdf.rest,l.rdf.nil,null),s=t?[...n]:[];return n.forEach((e=>{const n=[];let o,a,c=!1;const u=e.graph;let h=e.subject;for(;h&&!c;){const t=this.getQuads(null,null,h,null),e=this.getQuads(h,null,null,null);let r,d=null,f=null,p=null;for(let n=0;n<e.length&&!c;n++)r=e[n],r.graph.equals(u)?o?c=i(h,"has non-list arcs out"):r.predicate.value===l.rdf.first?d?c=i(h,"has multiple rdf:first arcs"):s.push(d=r):r.predicate.value===l.rdf.rest?f?c=i(h,"has multiple rdf:rest arcs"):s.push(f=r):t.length?c=i(h,"can't be subject and object"):(o=r,a="subject"):c=i(h,"not confined to single graph");for(let n=0;n<t.length&&!c;++n)r=t[n],o?c=i(h,"can't have coreferences"):r.predicate.value===l.rdf.rest?p?c=i(h,"has incoming rdf:rest arcs"):p=r:(o=r,a="object");d?n.unshift(d.object):c=i(h,"has no list head"),h=p&&p.subject}c?t=!1:o&&(r[o[a].value]=n)})),t&&this.removeQuads(s),r}addAll(t){if(t instanceof _t&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof pt&&t._entityIndex===this._entityIndex)0!==t._size&&(this._graphs=lt(this._graphs,t._graphs),this._size=null);else for(const e of t)this.add(e);return this}contains(t){if(t instanceof _t&&(t=t.filtered),t===this)return!0;if(!(t instanceof pt)||this._entityIndex!==t._entityIndex)return t.every((t=>this.has(t)));const e=this._graphs,r=t._graphs;let i,n,s,o,a;for(const c in r){if(!(i=e[c]))return!1;i=i.subjects;for(const t in n=r[c].subjects){if(!(s=i[t]))return!1;for(const e in o=n[t]){if(!(a=s[e]))return!1;for(const t in o[e])if(!(t in a))return!1}}}return!0}deleteMatches(t,e,r,i){for(const n of this.match(t,e,r,i))this.removeQuad(n);return this}difference(t){if(t&&t instanceof _t&&(t=t.filtered),t===this)return new pt({entityIndex:this._entityIndex});if(t instanceof pt&&t._entityIndex===this._entityIndex){const e=new pt({entityIndex:this._entityIndex}),r=dt(this._graphs,t._graphs);return r&&(e._graphs=r,e._size=null),e}return this.filter((e=>!t.has(e)))}equals(t){return t instanceof _t&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const e=new pt({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&e.add(r);return e}intersection(t){if(t instanceof _t&&(t=t.filtered),t===this){const t=new pt({entityIndex:this._entityIndex});return t._graphs=lt(Object.create(null),this._graphs),t._size=this._size,t}if(t instanceof pt&&this._entityIndex===t._entityIndex){const e=new pt({entityIndex:this._entityIndex}),r=ht(t._graphs,this._graphs);return r&&(e._graphs=r,e._size=null),e}return this.filter((e=>t.has(e)))}map(t){const e=new pt({entityIndex:this._entityIndex});for(const r of this)e.add(t(r,this));return e}reduce(t,e){const r=this.readQuads();let i=void 0===e?r.next().value:e;for(const n of r)i=t(i,n,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return(new st).quadsToString(this)}union(t){const e=new pt({entityIndex:this._entityIndex});return e._graphs=lt(Object.create(null),this._graphs),e._size=this._size,e.addAll(t),e}*[Symbol.iterator](){yield*this.readQuads()}}function gt(t,e,r=0){const i=e[r];if(i&&!(i in t))return!1;let n=!1;for(const s in i?{[i]:t[i]}:t){const i=2===r?null:gt(t[s],e,r+1);!1!==i&&(n=n||Object.create(null),n[s]=i)}return n}class _t extends ct.Readable{constructor(t,e,r,i,n,s){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:e,predicate:r,object:i,graph:n,options:s})}get filtered(){if(!this._filtered){const{n3Store:t,graph:e,object:r,predicate:i,subject:n}=this,s=this._filtered=new pt({factory:t._factory,entityIndex:this.options.entityIndex});let o,a,c;if(n&&!(o=s._termToNumericId(n))||i&&!(a=s._termToNumericId(i))||r&&!(c=s._termToNumericId(r)))return s;const u=t._getGraphs(e);for(const l in u){let t,e,r;!o&&a?(e=gt(u[l].predicates,[a,c,o]))&&(t=gt(u[l].subjects,[o,a,c]),r=gt(u[l].objects,[c,o,a])):c?(r=gt(u[l].objects,[c,o,a]))&&(t=gt(u[l].subjects,[o,a,c]),e=gt(u[l].predicates,[a,c,o])):(t=gt(u[l].subjects,[o,a,c]))&&(e=gt(u[l].predicates,[a,c,o]),r=gt(u[l].objects,[c,o,a])),t&&(s._graphs[l]={subjects:t,predicates:e,objects:r})}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[ut]&&(this[ut]=this[Symbol.iterator]());const e=this[ut];for(;--t>=0;){const{done:t,value:r}=e.next();if(t)return void this.push(null);this.push(r)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,e,r,i){return this.filtered.deleteMatches(t,e,r,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,e,r,i,n){return this.filtered.every(t,e,r,i,n)}filter(t){return this.filtered.filter(t)}forEach(t,e,r,i,n){return this.filtered.forEach(t,e,r,i,n)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,e,r,i,n){return this.filtered.some(t,e,r,i,n)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,e){return this.filtered.reduce(t,e)}toString(){return(new st).quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,e,r,i){return new _t(this.filtered,t,e,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class bt{dataset(t){return new pt(t)}}function yt(t){const e=[];for(const{subject:r,object:i}of t.match(null,I.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,I.defaultGraph())){const n=[...t.match(null,null,null,r)],s=[...t.match(null,null,null,i)];e.push({premise:n,conclusion:s})}return e}class mt{constructor(t){this._store=t}_add(t,e,r,i,n){this._store._addToIndex(i.subjects,t,e,r)&&(this._store._addToIndex(i.predicates,e,r,t),this._store._addToIndex(i.objects,r,t,e),n())}_evaluatePremise(t,e,r,i=0){let n,s,o,a,c;const[u,l,h]=t.premise[i].value,d=e[t.premise[i].content],f=!(o=u.value);for(o in f?d:{[o]:d[o]})if(a=d[o]){for(o in f&&(u.value=Number(o)),n=!(o=l.value),n?a:{[o]:a[o]})if(c=a[o]){for(o in n&&(l.value=Number(o)),s=!(o=h.value),s?c:{[o]:c[o]})s&&(h.value=Number(o)),i===t.premise.length-1?t.conclusion.forEach((t=>{this._add(t.subject.value,t.predicate.value,t.object.value,e,(()=>{r(t)}))})):this._evaluatePremise(t,e,r,i+1);s&&(h.value=null)}n&&(l.value=null)}f&&(u.value=null)}_evaluateRules(t,e,r){for(let i=0;i<t.length;i++)this._evaluatePremise(t[i],e,r)}_reasonGraphNaive(t,e){const r=[];function i(t){t.next&&t.next.forEach((e=>{r.push([t.subject.value,t.predicate.value,t.object.value,e])}))}const n=t=>{t.forEach((t=>{this._add(t.subject.value,t.predicate.value,t.object.value,e,(()=>{i(t)}))}))};let s;for(this._evaluateRules(t,e,i);void 0!==(s=r.pop());){const[t,r,o,a]=s,c=a.basePremise.subject.value;c||(a.basePremise.subject.value=t);const u=a.basePremise.predicate.value;u||(a.basePremise.predicate.value=r);const l=a.basePremise.object.value;l||(a.basePremise.object.value=o),0===a.premise.length?n(a.conclusion):this._evaluatePremise(a,e,i),c||(a.basePremise.subject.value=null),u||(a.basePremise.predicate.value=null),l||(a.basePremise.object.value=null)}}_createRule({premise:t,conclusion:e}){const r={},i=t=>"Variable"===t.termType?r[t.value]=r[t.value]||{}:{value:this._store._termToNewNumericId(t)},n=t=>({subject:i(t.subject),predicate:i(t.predicate),object:i(t.object)});return{premise:t.map((t=>n(t))),conclusion:e.map((t=>n(t))),variables:Object.values(r)}}reason(t){Array.isArray(t)||(t=yt(t)),t=t.map((t=>this._createRule(t)));for(const r of t)for(const e of t)for(let t=0;t<e.premise.length;t++){const i=e.premise[t];for(const n of r.conclusion){if(wt(i.subject,n.subject)&&wt(i.predicate,n.predicate)&&wt(i.object,n.object)){const r=new Set,s=[];i.subject.value=i.subject.value||1,i.object.value=i.object.value||1,i.predicate.value=i.predicate.value||1;for(let i=0;i<e.premise.length;i++)i!==t&&s.push(vt(e.premise[i],r));(n.next=n.next||[]).push({premise:s,conclusion:e.conclusion,basePremise:i})}e.variables.forEach((t=>{t.value=null}))}}for(const r of t){const t=new Set;r.premise=r.premise.map((e=>vt(e,t)))}const e=this._store._getGraphs();for(const r in e)this._reasonGraphNaive(t,e[r]);this._store._size=null}}function vt({subject:t,predicate:e,object:r},i){const n=t.value||i.has(t)||(i.add(t),!1),s=e.value||i.has(e)||(i.add(e),!1),o=r.value||i.has(r)||(i.add(r),!1);return!n&&s?{content:"predicates",value:[e,r,t]}:o?{content:"objects",value:[r,t,e]}:{content:"subjects",value:[t,e,r]}}function wt(t,e){return null===t.value&&(t.value=e.value),t.value===e.value}class xt extends ct.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const e=new V(t);let r,i;const n={onQuad:(t,e)=>{t&&this.emit("error",t)||e&&this.push(e)},onPrefix:(t,e)=>{this.emit("prefix",t,e)}};t&&t.comments&&(n.onComment=t=>{this.emit("comment",t)}),e.parse({on:(t,e)=>{switch(t){case"data":r=e;break;case"end":i=e}}},n),this._transform=(t,e,i)=>{r(t),i()},this._flush=t=>{i(),t()}}import(t){return t.on("data",(t=>{this.write(t)})),t.on("end",(()=>{this.end()})),t.on("error",(t=>{this.emit("error",t)})),this}}class It extends ct.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const e=this._writer=new st({write:(t,e,r)=>{this.push(t),r&&r()},end:t=>{this.push(null),t&&t()}},t);this._transform=(t,r,i)=>{e.addQuad(t,i)},this._flush=t=>{e.end(t)}}import(t){return t.on("data",(t=>{this.write(t)})),t.on("end",(()=>{this.end()})),t.on("error",(t=>{this.emit("error",t)})),t.on("prefix",((t,e)=>{this._writer.addPrefix(t,e)})),this}}const Et={Lexer:b,Parser:V,Writer:st,Store:pt,StoreFactory:bt,EntityIndex:ft,StreamParser:xt,StreamWriter:It,Util:i,Reasoner:mt,DataFactory:I,Term:E,NamedNode:S,Literal:T,BlankNode:R,Variable:A,DefaultGraph:O,Quad:D,Triple:D,termFromId:N,termToId:C}},8236:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseRdfXml=void 0;const i=r(5124),n=r(711),s=r(5611);class o extends i.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t){const e=t.context.getSafe(n.KeysInitQuery.dataFactory);t.data.on("error",(t=>r.emit("error",t)));const r=t.data.pipe(new s.RdfXmlParser({dataFactory:e,baseIRI:t.metadata?.baseIRI}));return{data:r,metadata:{triples:!0}}}}e.ActorRdfParseRdfXml=o},9227:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(8236),e)},9e3:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseShaclc=void 0;const i=r(5124),n=r(2728),s=r(9198),o=r(7141),a=r(4680);class c extends i.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t,e,r){const i=new a.PrefixWrappingIterator((0,n.stringify)(t.data).then((r=>(0,o.parse)(r,{extendedSyntax:"text/shaclc-ext"===e,baseIRI:t.metadata?.baseIRI})))),c=new s.Readable({objectMode:!0});return i.on("prefix",((...t)=>c.emit("prefix",...t))),{data:c.wrap(i),metadata:{triples:!0}}}}e.ActorRdfParseShaclc=c},4680:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixWrappingIterator=void 0;const i=r(5627);class n extends i.WrappingIterator{constructor(t){super(t?.then((t=>(this.prefixes=t.prefixes,t))))}read(){if(this.prefixes){for(const t of Object.entries(this.prefixes))this.emit("prefix",...t);delete this.prefixes}return super.read()}}e.PrefixWrappingIterator=n},1356:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(9e3),e)},1685:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseXmlRdfa=void 0;const i=r(5124),n=r(711),s=r(9749);class o extends i.ActorRdfParseFixedMediaTypes{constructor(t){super(t)}async runHandle(t,e,r){const i=t.context.getSafe(n.KeysInitQuery.dataFactory),o=(t.headers&&t.headers.get("content-language"))??void 0;t.data.on("error",(t=>a.emit("error",t)));const a=t.data.pipe(new s.RdfaParser({dataFactory:i,baseIRI:t.metadata?.baseIRI,profile:"xml",language:o}));return{data:a,metadata:{triples:!0}}}}e.ActorRdfParseXmlRdfa=o},2669:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(1685),e)},1370:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceRdf=void 0;const i=r(2890);class n extends i.ActorDereferenceParse{constructor(t){super(t)}}e.ActorDereferenceRdf=n},6475:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(1370),e)},671:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereference=void 0;const i=r(9806);class n extends i.ActorDereferenceBase{constructor(t){super(t)}async handleDereferenceErrors(t,e,r,i=0){return this.dereferenceErrorHandler(t,e,{url:t.url,exists:!1,headers:r,requestTime:i})}}e.ActorDereference=n},9806:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceBase=e.isHardError=e.emptyReadable=void 0;const i=r(711),n=r(412),s=r(9198);function o(){const t=new s.Readable;return t.push(null),t}function a(t){return!t.get(i.KeysInitQuery.lenient)}e.emptyReadable=o,e.isHardError=a;class c extends n.Actor{constructor(t){super(t)}async dereferenceErrorHandler(t,e,r){if(a(t.context))throw e;return this.logWarn(t.context,e.message),{...r,data:o()}}}e.ActorDereferenceBase=c},2476:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorDereferenceParse=e.getMediaTypeFromExtension=void 0;const i=r(412),n=r(9198),s=r(9806);function o(t,e){const r=t.lastIndexOf(".");return r>=0&&e?.[t.slice(r+1)]||""}e.getMediaTypeFromExtension=o;class a extends s.ActorDereferenceBase{constructor(t){super(t)}async test(t){return(0,i.passTestVoid)()}handleDereferenceStreamErrors(t,e){return(0,s.isHardError)(t.context)||(e.on("error",(r=>{this.logWarn(t.context,r.message,(()=>({url:t.url}))),e.push(null)})),e=e.pipe(new n.PassThrough({objectMode:!0}))),e}async run(t){const{context:e}=t,r=await this.mediatorDereference.mediate({...t,mediaTypes:async()=>(await(this.mediatorParseMediatypes?.mediate({context:e,mediaTypes:!0})))?.mediaTypes});let i;try{i=(await this.mediatorParse.mediate({context:e,handle:{context:e,...r,metadata:await this.getMetadata(r)},handleMediaType:r.mediaType||o(r.url,this.mediaMappings)||t.mediaType})).handle,i.data=this.handleDereferenceStreamErrors(t,i.data)}catch(n){await(r.data.close?.()),i=await this.dereferenceErrorHandler(t,n,{})}return{...r,...i}}}e.ActorDereferenceParse=a},2890:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(671),e),n(r(2476),e),n(r(9806),e)},1295:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorHttp=void 0;const i=r(412),n=r(5806),s=r(1232),o=r(5276);class a extends i.Actor{constructor(t){super(t)}static toNodeReadable(t){return s(t)||null===t?t:(0,n.readableFromWeb)(t)}static toWebReadableStream(t){return o(t)}static headersToHash(t){const e={};return t.forEach(((t,r)=>{e[r]=t})),e}static getInputUrl(t){return new URL(t instanceof Request?t.url:t)}static createUserAgent(t,e){if(!a.isBrowser()){const r=[`Comunica/${e.split(".")[0]}.0`,`${t}/${e}`];return"object"==typeof globalThis.navigator&&"string"==typeof globalThis.navigator.userAgent?r.push(globalThis.navigator.userAgent):"object"==typeof globalThis.process&&"object"==typeof globalThis.process.versions&&"string"==typeof globalThis.process.versions.node&&r.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),"object"==typeof globalThis.process&&"string"==typeof globalThis.process.platform&&"string"==typeof globalThis.process.arch&&r.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),r.join(" ")}}static isBrowser(){return"object"==typeof globalThis.window&&"object"==typeof globalThis.window.document||"function"==typeof globalThis.importScripts}}e.ActorHttp=a},322:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(1295),e),n(r(6339),e)},6339:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateAndCloseHttpResponse=void 0;const i=r(2728),n=r(1295);e.validateAndCloseHttpResponse=async function(t,e){if(e.status>=400){let r="empty response";if(e.body){const t=n.ActorHttp.toNodeReadable(e.body);r=await(0,i.stringify)(t)}throw new Error(`Could not update ${t} (HTTP status ${e.status}):\n${r}`)}await(e.body?.cancel())}},6069:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseHtml=void 0;const i=r(412);class n extends i.Actor{constructor(t){super(t)}}e.ActorRdfParseHtml=n},242:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(6069),e)},7062:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParse=void 0;const i=r(8092);class n extends i.ActorAbstractMediaTyped{constructor(t){super(t)}}e.ActorRdfParse=n},6691:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActorRdfParseFixedMediaTypes=void 0;const i=r(8092),n=r(412);class s extends i.ActorAbstractMediaTypedFixed{constructor(t){super(t)}async testHandleChecked(t){return(0,n.passTestVoid)()}}e.ActorRdfParseFixedMediaTypes=s},5124:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(7062),e),n(r(6691),e)},9039:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeysStatistics=e.KeysRdfJoin=e.KeysMergeBindingsContext=e.KeysRdfUpdateQuads=e.KeysQuerySourceIdentify=e.KeysRdfParseHtmlScript=e.KeysRdfParseJsonLd=e.KeysQueryOperation=e.KeysExpressionEvaluator=e.KeysInitQuery=e.KeysHttpProxy=e.KeysHttpMemento=e.KeysHttpWayback=e.KeysHttp=e.KeysCore=void 0;const i=r(412);e.KeysCore={log:i.CONTEXT_KEY_LOGGER},e.KeysHttp={includeCredentials:new i.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new i.ActionContextKey("@comunica/bus-http:auth"),fetch:new i.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new i.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new i.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new i.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new i.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new i.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new i.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},e.KeysHttpWayback={recoverBrokenLinks:new i.ActionContextKey("@comunica/bus-http:recover-broken-links")},e.KeysHttpMemento={datetime:new i.ActionContextKey("@comunica/actor-http-memento:datetime")},e.KeysHttpProxy={httpProxyHandler:new i.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},e.KeysInitQuery={querySourcesUnidentified:new i.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new i.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new i.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new i.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new i.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new i.ActionContextKey("@comunica/actor-init-query:queryString"),query:new i.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new i.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new i.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new i.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new i.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new i.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new i.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new i.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new i.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new i.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new i.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new i.ActionContextKey("@context"),invalidateCache:new i.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new i.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new i.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},e.KeysExpressionEvaluator={extensionFunctionCreator:new i.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new i.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new i.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new i.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},e.KeysQueryOperation={operation:new i.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new i.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new i.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new i.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new i.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new i.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new i.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new i.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new i.ActionContextKey("@comunica/bus-query-operation:querySources")},e.KeysRdfParseJsonLd={documentLoader:new i.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new i.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new i.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},e.KeysRdfParseHtmlScript={processingHtmlScript:new i.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new i.ActionContextKey("extractAllScripts")},e.KeysQuerySourceIdentify={sourceIds:new i.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new i.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new i.ActionContextKey("@comunica/bus-query-source-identify:traverse")},e.KeysRdfUpdateQuads={destination:new i.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},e.KeysMergeBindingsContext={sourcesBinding:new i.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},e.KeysRdfJoin={lastPhysicalJoin:new i.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},e.KeysStatistics={discoveredLinks:new i.ActionContextKey("@comunica/bus-context-preprocess:discoveredLinks"),dereferencedLinks:new i.ActionContextKey("@comunica/bus-context-preprocess:dereferencedLinks")}},711:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(9039),e)},4301:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionContextKey=e.ActionContext=void 0;const i=r(9568);class n{constructor(t={}){this.map=(0,i.Map)(t)}setDefault(t,e){return this.has(t)?this:this.set(t,e)}set(t,e){return this.setRaw(t.name,e)}setRaw(t,e){return new n(this.map.set(t,e))}delete(t){return new n(this.map.delete(t.name))}get(t){return this.getRaw(t.name)}getRaw(t){return this.map.get(t)}getSafe(t){if(!this.has(t))throw new Error(`Context entry ${t.name} is required but not available`);return this.get(t)}has(t){return this.hasRaw(t.name)}hasRaw(t){return this.map.has(t)}merge(...t){let e=this;for(const r of t)for(const t of r.keys())e=e.set(t,r.get(t));return e}keys(){return[...this.map.keys()].map((t=>new s(t)))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(t){return t instanceof n?t:new n((0,i.Map)(t??{}))}}e.ActionContext=n;class s{constructor(t){this.name=t}}e.ActionContextKey=s},1782:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionObserver=void 0;e.ActionObserver=class{constructor(t){Object.assign(this,t)}}},681:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Actor=void 0;const i=r(4983);class n{constructor(t){this.beforeActors=[],Object.assign(this,t),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),t.busFailMessage&&(this.bus.failMessage=t.busFailMessage)}static getContextLogger(t){return t.get(i.CONTEXT_KEY_LOGGER)}runObservable(t,e){const r=this.run(t,e);return this.bus.onRun(this,t,r),r}getDefaultLogData(t,e){const r=e?e():{};return r.actor=this.name,r}logTrace(t,e,r){const i=n.getContextLogger(t);i&&i.trace(e,this.getDefaultLogData(t,r))}logDebug(t,e,r){const i=n.getContextLogger(t);i&&i.debug(e,this.getDefaultLogData(t,r))}logInfo(t,e,r){const i=n.getContextLogger(t);i&&i.info(e,this.getDefaultLogData(t,r))}logWarn(t,e,r){const i=n.getContextLogger(t);i&&i.warn(e,this.getDefaultLogData(t,r))}logError(t,e,r){const i=n.getContextLogger(t);i&&i.error(e,this.getDefaultLogData(t,r))}logFatal(t,e,r){const i=n.getContextLogger(t);i&&i.fatal(e,this.getDefaultLogData(t,r))}}e.Actor=n},2126:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bus=void 0;e.Bus=class{constructor(t){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,t),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(t){this.actors.push(t),this.reorderForDependencies()}subscribeObserver(t){this.observers.push(t)}unsubscribe(t){const e=this.actors.indexOf(t);return e>=0&&(this.actors.splice(e,1),!0)}unsubscribeObserver(t){const e=this.observers.indexOf(t);return e>=0&&(this.observers.splice(e,1),!0)}publish(t){return this.actors.map((e=>({actor:e,reply:e.test(t)})))}onRun(t,e,r){for(const i of this.observers)i.onRun(t,e,r)}addDependencies(t,e){for(const r of e){let e=this.dependencyLinks.get(r);e||(e=[],this.dependencyLinks.set(r,e)),e.push(t)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const t=[];for(const e of this.dependencyLinks.keys()){const r=this.actors.indexOf(e);r>=0&&(this.actors.splice(r,1),t.push(e))}for(;t.length>0;){let e=-1;for(let i=0;i<t.length;i++){let r=!0;for(const e of this.dependencyLinks.get(t[i]))if(!this.actors.includes(e)&&t.includes(e)){r=!1;break}if(r){e=i;break}}if(e<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const r=t.splice(e,1)[0];this.actors.push(r)}}}}},2437:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BusIndexed=void 0;const i=r(2126);class n extends i.Bus{constructor(t){super(t),this.actorsIndex={}}subscribe(t){const e=this.getActorIdentifiers(t)??["_undefined_"];for(const r of e){let e=this.actorsIndex[r];e||(e=this.actorsIndex[r]=[]),e.push(t),super.subscribe(t)}}unsubscribe(t){const e=this.getActorIdentifiers(t)??["_undefined_"];let r=!1;for(const i of e){const e=this.actorsIndex[i];if(e){const r=e.indexOf(t);r>=0&&e.splice(r,1),0===e.length&&delete this.actorsIndex[i]}r=r||super.unsubscribe(t)}return r}publish(t){const e=this.getActionIdentifier(t);if(e){return[...this.actorsIndex[e]||[],...this.actorsIndex._undefined_||[]].map((e=>({actor:e,reply:e.test(t)})))}return super.publish(t)}getActorIdentifiers(t){const e=this.actorIdentifierFields.reduce(((t,e)=>t[e]),t);if(e)return Array.isArray(e)?e:[e]}getActionIdentifier(t){return this.actionIdentifierFields.reduce(((t,e)=>t[e]),t)}}e.BusIndexed=n},4983:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_KEY_LOGGER=void 0;const i=r(4301);e.CONTEXT_KEY_LOGGER=new i.ActionContextKey("@comunica/core:log")},5991:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mediator=void 0;class r{constructor(t){Object.assign(this,t)}publish(t){const e=this.bus.publish(t);if(0===e.length)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return e}async mediateActor(t){return await this.mediateWith(t,this.publish(t))}async mediateTestable(t){return(await this.mediateActor(t)).mapAsync(((e,r)=>e.runObservable(t,r)))}async mediate(t){return(await this.mediateTestable(t)).getOrThrow()}constructFailureMessage(t,e){const i="\n        ";return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,((e,i)=>r.getObjectValue({action:t},i.split("."))||e))}\n    Error messages of failing actors:${i}${e.join(i)}`}static getObjectValue(t,e){return 0===e.length?t:t?r.getObjectValue(t[e[0]],e.slice(1)):void 0}}e.Mediator=r},4231:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestResultFailed=e.TestResultPassed=e.failTest=e.passTestVoidWithSideData=e.passTestWithSideData=e.passTestVoid=e.passTest=void 0,e.passTest=function(t){return new r(t,void 0)},e.passTestVoid=function(){return new r(!0,void 0)},e.passTestWithSideData=function(t,e){return new r(t,e)},e.passTestVoidWithSideData=function(t){return new r(!0,t)},e.failTest=function(t){return new i(t)};class r{constructor(t,e){this.value=t,this.sideData=e}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(t){return new r(t(this.value,this.sideData),this.sideData)}async mapAsync(t){return new r(await t(this.value,this.sideData),this.sideData)}}e.TestResultPassed=r;class i{constructor(t){this.failMessage=t}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}e.TestResultFailed=i},412:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(4301),e),n(r(2126),e),n(r(2437),e),n(r(4983),e),n(r(1782),e),n(r(681),e),n(r(5991),e),n(r(4231),e)},1667:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorCombineUnion=void 0;const i=r(412);class n extends i.Mediator{constructor(t){super(t),this.combiner=this.createCombiner()}async mediate(t){let e;try{e=this.publish(t)}catch{e=[]}if(this.filterFailures){const t=[];for(const r of e){(await r.reply).isPassed()&&t.push(r)}e=t}const r=[];await Promise.all(e.map((async({reply:t},e)=>{const i=await t,n=i.getOrThrow();return r[e]=i.getSideData(),n})));const i=await Promise.all(e.map(((e,i)=>e.actor.runObservable(t,r[i]))));return this.combiner(i)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return t=>{const e={};return e[this.field]={},[{}].concat(t.map((t=>t[this.field]))).forEach((t=>{e[this.field]={...t,...e[this.field]}})),e}}}e.MediatorCombineUnion=n},4560:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(1667),e)},8202:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorNumber=void 0;const i=r(412);class n extends i.Mediator{constructor(t){super(t),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return t=>t.reduce(((t,e,r)=>{const i=this.getOrDefault(e[this.field],Number.POSITIVE_INFINITY);return null!==i&&(Number.isNaN(t[0])||t[0]>i)?[i,r]:t}),[Number.NaN,-1])[1];case"max":return t=>t.reduce(((t,e,r)=>{const i=this.getOrDefault(e[this.field],Number.NEGATIVE_INFINITY);return null!==i&&(Number.isNaN(t[0])||t[0]<i)?[i,r]:t}),[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(t,e){return void 0===t?e:t}async mediateWith(t,e){let r=await Promise.all(e.map((({reply:t})=>t)));const n=[];if(this.ignoreFailures){const t={};t[this.field]=null,r=r.map((e=>e.isFailed()?(n.push(e.getFailMessage()),(0,i.passTestWithSideData)(t,void 0)):e))}const s=[],o=r.map(((t,e)=>{const r=t.getOrThrow();return s[e]=t.getSideData(),r})),a=this.indexPicker(o);return a<0?(0,i.failTest)(this.constructFailureMessage(t,n)):(0,i.passTestWithSideData)(e[a].actor,s[a])}}e.MediatorNumber=n},1588:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(8202),e)},5950:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MediatorRace=void 0;const i=r(412);class n extends i.Mediator{constructor(t){super(t)}mediateWith(t,e){return new Promise(((r,n)=>{const s=[];for(const o of e)o.reply.then((n=>{n.isPassed()?r((0,i.passTestWithSideData)(o.actor,n.getSideData())):(s.push(n.getFailMessage()),s.length===e.length&&r((0,i.failTest)(this.constructFailureMessage(t,s))))})).catch((t=>{n(t)}))}))}}e.MediatorRace=n},2740:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(5950),e)},2728:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=function(t){return i(this,void 0,void 0,(function*(){let e="";return t.on("data",(t=>{e+=t})),yield(0,n.promisifyEventEmitter)(t),e}))};const n=r(6486)},5201:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SaxesParser=e.EVENTS=void 0;const i=r(1487),n=r(4797),s=r(446);var o=i.isS,a=i.isChar,c=i.isNameStartChar,u=i.isNameChar,l=i.S_LIST,h=i.NAME_RE,d=n.isChar,f=s.isNCNameStartChar,p=s.isNCNameChar,g=s.NC_NAME_RE;const _="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:_,xmlns:b},m={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},v=-1,w=-2,x=13,I=33,E=10,S=60,T=61,R=62,A=63,O=93,N=t=>34===t||39===t,C=[34,39],D=[...C,91,R],P=[...C,S,O],j=[T,A,...l],k=[...l,R,38,S];function L(t,e,r){switch(e){case"xml":r!==_&&t.fail(`xml prefix must be bound to ${_}.`);break;case"xmlns":r!==b&&t.fail(`xmlns prefix must be bound to ${b}.`)}switch(r){case b:t.fail(""===e?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case _:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const F=t=>g.test(t),M=t=>h.test(t);e.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const B={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};e.SaxesParser=class{get closed(){return this._closed}constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const e=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,e){this.nameStartCheck=f,this.nameCheck=p,this.isName=F,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},y);const t=this.opt.additionalNamespaces;null!=t&&(!function(t,e){for(const r of Object.keys(e))L(t,r,e[r])}(this,t),Object.assign(this.ns,t))}else this.nameStartCheck=c,this.nameCheck=u,this.isName=M,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:e}=this;this.state=e?x:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=e,this.xmlDeclPossible=!e,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:r}=this.opt;if(void 0===r){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");r="1.0"}this.setXMLVersion(r),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(m),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,e){this[B[t]]=e}off(t){this[B[t]]=void 0}makeError(t){var e;let r=null!==(e=this.fileName)&&void 0!==e?e:"";return this.trackPosition&&(r.length>0&&(r+=":"),r+=`${this.line}:${this.column}`),r.length>0&&(r+=": "),new Error(r+t)}fail(t){const e=this.makeError(t),r=this.errorHandler;if(void 0===r)throw e;return r(e),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let e=!1;null===t?(e=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let r=t.length;const i=t.charCodeAt(r-1);!e&&(13===i||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[r-1],r--,t=t.slice(0,r));const{stateTable:n}=this;for(this.chunk=t,this.i=0;this.i<r;)n[this.state].call(this);return this.chunkPosition+=r,e?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return v;const r=t.charCodeAt(e);if(this.column++,r<55296){if(r>=32||9===r)return r;switch(r){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:return t.charCodeAt(e+1)===E&&(this.i=e+2),this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+1024*(r-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,i>1114111&&this.fail("disallowed character."),i}getCode11(){const{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return v;const r=t.charCodeAt(e);if(this.column++,r<55296){if(r>31&&r<127||r>159&&8232!==r||9===r)return r;switch(r){case E:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;case 13:{const r=t.charCodeAt(e+1);r!==E&&133!==r||(this.i=e+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+1024*(r-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,i>1114111&&this.fail("disallowed character."),i}getCodeNorm(){const t=this.getCode();return t===w?E:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:e}=this;const{chunk:r}=this;for(;;){const i=this.getCode(),n=i===w,s=n?E:i;if(s===v||t.includes(s))return this.text+=r.slice(e,this.prevI),s;n&&(this.text+=`${r.slice(e,this.prevI)}\n`,e=this.i)}}captureToChar(t){let{i:e}=this;const{chunk:r}=this;for(;;){let i=this.getCode();switch(i){case w:this.text+=`${r.slice(e,this.prevI)}\n`,e=this.i,i=E;break;case v:return this.text+=r.slice(e),!1}if(i===t)return this.text+=r.slice(e,this.prevI),!0}}captureNameChars(){const{chunk:t,i:e}=this;for(;;){const r=this.getCode();if(r===v)return this.name+=t.slice(e),v;if(!u(r))return this.name+=t.slice(e,this.prevI),r===w?E:r}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===v||!o(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=d,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const t=this.i,e=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),e){case S:if(this.state=15,0!==this.text.length)throw new Error("no-empty text at start");break;case v:break;default:this.unget(),this.state=x,this.xmlDeclPossible=!1}}sDoctype(){var t;const e=this.captureTo(D);switch(e){case R:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x,this.doctype=!0;break;case v:break;default:this.text+=String.fromCodePoint(e),91===e?this.state=4:N(e)&&(this.state=3,this.q=e)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=2)}sDTD(){const t=this.captureTo(P);t!==v&&(this.text+=String.fromCodePoint(t),t===O?this.state=2:t===S?this.state=6:N(t)&&(this.state=5,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=4,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case 33:this.state=7,this.openWakaBang="";break;case A:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),e=this.openWakaBang+=t;this.text+=t,"-"!==e&&(this.state="--"===e?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=45===t?10:8}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===R?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(A)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===R&&(this.state=4)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:e}=this;t:for(;;)switch(this.getCode()){case w:this.entity+=`${e.slice(t,this.prevI)}\n`,t=this.i;break;case 59:{const{entityReturnState:r}=this,i=this.entity+e.slice(t,this.prevI);let n;this.state=r,""===i?(this.fail("empty entity name."),n="&;"):(n=this.parseEntity(i),this.entity=""),r===x&&void 0===this.textHandler||(this.text+=n);break t}case v:this.entity+=e.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(c(t))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(t){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case A:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=x,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var t;const e=this.getCodeNorm();45===e?(this.state=19,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(e)}`,this.state=17)}sCommentEnded(){const t=this.getCodeNorm();t!==R?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=17):this.state=x}sCData(){this.captureToChar(O)&&(this.state=21)}sCDataEnding(){const t=this.getCodeNorm();t===O?this.state=22:(this.text+=`]${String.fromCodePoint(t)}`,this.state=20)}sCDataEnding2(){var t;const e=this.getCodeNorm();switch(e){case R:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x;break;case O:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(e)}`,this.state=20}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=24):t===A||o(t)?(this.fail("processing instruction without a target."),this.state=t===A?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=24)}sPIRest(){const{chunk:t,i:e}=this;for(;;){const r=this.getCodeNorm();if(r===v)return void(this.piTarget+=t.slice(e));if(!this.nameCheck(r)){this.piTarget+=t.slice(e,this.prevI);const i=r===A;i||o(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?I:27):this.state=i?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===A?this.state=26:o(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(A)&&(this.state=26)}sPIEnding(){var t;const e=this.getCodeNorm();if(e===R){const{piTarget:e}=this;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=x}else e===A?this.text+="?":(this.text+=`?${String.fromCodePoint(e)}`,this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==A?t!==v&&(this.state=28,this.name=String.fromCodePoint(t)):this.state=I}sXMLDeclName(){const t=this.captureTo(j);if(t===A)return this.state=I,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(o(t)||t===T){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===T?30:29}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===A)return this.state=I,void this.fail("XML declaration is incomplete.");o(t)||(t!==T&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===A)return this.state=I,void this.fail("XML declaration is incomplete.");o(t)||(N(t)?this.q=t:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const t=this.captureTo([this.q,A]);if(t===A)return this.state=I,this.text="",void this.fail("XML declaration is incomplete.");if(t===v)return;const e=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=e;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(e)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=e;break;case"standalone":"yes"!==e&&"no"!==e&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=e}this.name="",this.state=32}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==A?(o(t)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=I}sXMLDeclEnding(){var t;this.getCodeNorm()===R?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=x):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const e=this.captureNameChars();if(e===v)return;const r=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=Object.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),e){case R:this.openTag();break;case 47:this.state=35;break;default:o(e)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===R?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const t=this.skipSpaces();t!==v&&(c(t)?(this.unget(),this.state=37):t===R?this.openTag():47===t?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===T?this.state=39:o(t)?this.state=38:t===R?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==v&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case v:return;case T:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",t===R?this.openTag():c(t)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const t=this.getCodeNorm();N(t)?(this.q=t,this.state=40):o(t)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:t,chunk:e}=this;let{i:r}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+e.slice(r,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=e.slice(r,this.prevI),this.state=14,void(this.entityReturnState=40);case E:case w:case 9:this.text+=`${e.slice(r,this.prevI)} `,r=this.i;break;case S:return this.text+=e.slice(r,this.prevI),void this.fail("disallowed character.");case v:return void(this.text+=e.slice(r))}}sAttribValueClosed(){const t=this.getCodeNorm();o(t)?this.state=36:t===R?this.openTag():47===t?this.state=35:c(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(k);switch(t){case 38:this.state=14,this.entityReturnState=42;break;case S:this.fail("disallowed character.");break;case v:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===R?this.openTag():this.state=36}}sCloseTag(){const t=this.captureNameChars();t===R?this.closeTag():o(t)?this.state=44:t!==v&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case R:this.closeTag();break;case v:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:e}=this;const{chunk:r,textHandler:i}=this;t:for(;;)switch(this.getCode()){case S:if(this.state=15,void 0!==i){const{text:e}=this,n=r.slice(t,this.prevI);0!==e.length?(i(e+n),this.text=""):0!==n.length&&i(n)}e=0;break t;case 38:this.state=14,this.entityReturnState=x,void 0!==i&&(this.text+=r.slice(t,this.prevI)),e=0;break t;case O:switch(e){case 0:e=1;break;case 1:e=2;break;case 2:break;default:throw new Error("impossible state")}break;case R:2===e&&this.fail('the string "]]>" is disallowed in char data.'),e=0;break;case w:void 0!==i&&(this.text+=`${r.slice(t,this.prevI)}\n`),t=this.i,e=0;break;case v:void 0!==i&&(this.text+=r.slice(t));break t;default:e=0}this.forbiddenState=e}handleTextOutsideRoot(){let{i:t}=this;const{chunk:e,textHandler:r}=this;let i=!1;t:for(;;){const n=this.getCode();switch(n){case S:if(this.state=15,void 0!==r){const{text:i}=this,n=e.slice(t,this.prevI);0!==i.length?(r(i+n),this.text=""):0!==n.length&&r(n)}break t;case 38:this.state=14,this.entityReturnState=x,void 0!==r&&(this.text+=e.slice(t,this.prevI)),i=!0;break t;case w:void 0!==r&&(this.text+=`${e.slice(t,this.prevI)}\n`),t=this.i;break;case v:void 0!==r&&(this.text+=e.slice(t));break t;default:o(n)||(i=!0)}}i&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,e){var r;const{prefix:i,local:n}=this.qname(t),s={name:t,prefix:i,local:n,value:e};if(this.attribList.push(s),null===(r=this.attributeHandler)||void 0===r||r.call(this,s),"xmlns"===i){const t=e.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[n]=t,L(this,n,t)}else if("xmlns"===t){const t=e.trim();this.topNS[""]=t,L(this,"",t)}}pushAttribPlain(t,e){var r;const i={name:t,value:e};this.attribList.push(i),null===(r=this.attributeHandler)||void 0===r||r.call(this,i)}end(){var t,e;this.sawRoot||this.fail("document must contain a root element.");const{tags:r}=this;for(;r.length>0;){const t=r.pop();this.fail(`unclosed tag: ${t.name}`)}0!==this.state&&this.state!==x&&this.fail("unexpected end.");const{text:i}=this;return 0!==i.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,i),this.text=""),this._closed=!0,null===(e=this.endHandler)||void 0===e||e.call(this),this._init(),this}resolve(t){var e,r;let i=this.topNS[t];if(void 0!==i)return i;const{tags:n}=this;for(let s=n.length-1;s>=0;s--)if(i=n[s].ns[t],void 0!==i)return i;return i=this.ns[t],void 0!==i?i:null===(r=(e=this.opt).resolvePrefix)||void 0===r?void 0:r.call(e,t)}qname(t){const e=t.indexOf(":");if(-1===e)return{prefix:"",local:t};const r=t.slice(e+1),i=t.slice(0,e);return(""===i||""===r||r.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:i,local:r}}processAttribsNS(){var t;const{attribList:e}=this,r=this.tag;{const{prefix:e,local:i}=this.qname(r.name);r.prefix=e,r.local=i;const n=r.uri=null!==(t=this.resolve(e))&&void 0!==t?t:"";""!==e&&("xmlns"===e&&this.fail('tags may not have "xmlns" as prefix.'),""===n&&(this.fail(`unbound namespace prefix: ${JSON.stringify(e)}.`),r.uri=e))}if(0===e.length)return;const{attributes:i}=r,n=new Set;for(const s of e){const{name:t,prefix:e,local:r}=s;let o,a;""===e?(o="xmlns"===t?b:"",a=t):(o=this.resolve(e),void 0===o&&(this.fail(`unbound namespace prefix: ${JSON.stringify(e)}.`),o=e),a=`{${o}}${r}`),n.has(a)&&this.fail(`duplicate attribute: ${a}.`),n.add(a),s.uri=o,i[t]=s}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,e=this.tag.attributes;for(const{name:r,value:i}of t)void 0!==e[r]&&this.fail(`duplicate attribute: ${r}.`),e[r]=i;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),e.push(r),this.state=x,this.name=""}openSelfClosingTag(){var t,e,r;this.processAttribs();const{tags:i}=this,n=this.tag;n.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,n),null===(e=this.closeTagHandler)||void 0===e||e.call(this,n);null===(this.tag=null!==(r=i[i.length-1])&&void 0!==r?r:null)&&(this.closedRoot=!0),this.state=x,this.name=""}closeTag(){const{tags:t,name:e}=this;if(this.state=x,this.name="",""===e)return this.fail("weird empty close tag."),void(this.text+="</>");const r=this.closeTagHandler;let i=t.length;for(;i-- >0;){const i=this.tag=t.pop();if(this.topNS=i.ns,null==r||r(i),i.name===e)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail(`unmatched closing tag: ${e}.`),this.text+=`</${e}>`)}parseEntity(t){if("#"!==t[0]){const e=this.ENTITIES[t];return void 0!==e?e:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let e=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=parseInt(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=parseInt(t.slice(1),10)),this.isChar(e)?String.fromCodePoint(e):(this.fail("malformed character entity."),`&${t};`)}}},5568:t=>{"use strict";const{AbortController:e,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;t.exports=e,t.exports.AbortSignal=r,t.exports.default=e},7526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],c=s[1],u=new n(function(t,e,r){return 3*(e+r)/4-r}(0,o,c)),l=0,h=c>0?o-4:o;for(r=0;r<h;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===c&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===c&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s=[],o=16383,a=0,u=i-n;a<u;a+=o)s.push(c(t,a,a+o>u?u:a+o));1===n?(e=t[i-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,i){for(var n,s,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8287:(t,e,r)=>{"use strict";const i=r(7526),n=r(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|g(t,e);let i=a(r);const n=i.write(t,e);n!==r&&(i=i.slice(0,n));return i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Q(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Q(t,ArrayBuffer)||t&&Q(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(t,SharedArrayBuffer)||t&&Q(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return c.from(i,e,r);const n=function(t){if(c.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||J(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let i=0;i<e;i+=1)r[i]=255&t[i];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(i,c.prototype),i}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(t).length;default:if(n)return i?-1:z(t).length;e=(""+e).toLowerCase(),n=!0}}function _(t,e,r){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function b(t,e,r){const i=t[e];t[e]=t[r],t[r]=i}function y(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:m(t,e,r,i,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,i,n){let s,o=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){let i=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===c)return i*o}else-1!==i&&(s-=s-i),i=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let i=0;i<c;i++)if(u(t,s+i)!==u(e,i)){r=!1;break}if(r)return s}return-1}function v(t,e,r,i){r=Number(r)||0;const n=t.length-r;i?(i=Number(i))>n&&(i=n):i=n;const s=e.length;let o;for(i>s/2&&(i=s/2),o=0;o<i;++o){const i=parseInt(e.substr(2*o,2),16);if(J(i))return o;t[r+o]=i}return o}function w(t,e,r,i){return W(z(e,t.length-r),t,r,i)}function x(t,e,r,i){return W(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function I(t,e,r,i){return W(K(e),t,r,i)}function E(t,e,r,i){return W(function(t,e){let r,i,n;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),i=r>>8,n=r%256,s.push(n),s.push(i);return s}(e,t.length-r),t,r,i)}function S(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);const i=[];let n=e;for(;n<r;){const e=t[n];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(n+o<=r){let r,i,a,c;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[n+1],128==(192&r)&&(c=(31&e)<<6|63&r,c>127&&(s=c));break;case 3:r=t[n+1],i=t[n+2],128==(192&r)&&128==(192&i)&&(c=(15&e)<<12|(63&r)<<6|63&i,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=t[n+1],i=t[n+2],a=t[n+3],128==(192&r)&&128==(192&i)&&128==(192&a)&&(c=(15&e)<<18|(63&r)<<12|(63&i)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),n+=o}return function(t){const e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=R));return r}(i)}e.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,i=e.length;for(let n=0,s=Math.min(r,i);n<s;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const i=c.allocUnsafe(e);let n=0;for(r=0;r<t.length;++r){let e=t[r];if(Q(e,Uint8Array))n+e.length>i.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(i,n)):Uint8Array.prototype.set.call(i,e,n);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,n)}n+=e.length}return i},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):_.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(t,e,r,i,n){if(Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=r)return 0;if(i>=n)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(n>>>=0)-(i>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),u=this.slice(i,n),l=t.slice(e,r);for(let c=0;c<a;++c)if(u[c]!==l[c]){s=u[c],o=l[c];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},c.prototype.write=function(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}const n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return x(this,t,e,r);case"base64":return I(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function A(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function O(t,e,r){let i="";r=Math.min(t.length,r);for(let n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function N(t,e,r){const i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let n="";for(let s=e;s<r;++s)n+=X[t[s]];return n}function C(t,e,r){const i=t.slice(e,r);let n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+256*i[s+1]);return n}function D(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,i,n,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function j(t,e,r,i,n){U(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function k(t,e,r,i,n){U(e,i,n,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function L(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(t,e,r,i,s){return e=+e,r>>>=0,s||L(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function M(t,e,r,i,s){return e=+e,r>>>=0,s||L(t,0,r,8),n.write(t,e,r,i,52,8),r+8}c.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,c.prototype),i},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||D(t,e,this.length);let i=this[t],n=1,s=0;for(;++s<e&&(n*=256);)i+=this[t+s]*n;return i},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||D(t,e,this.length);let i=this[t+--e],n=1;for(;e>0&&(n*=256);)i+=this[t+--e]*n;return i},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||D(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,n=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))})),c.prototype.readBigUInt64BE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],n=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)})),c.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||D(t,e,this.length);let i=this[t],n=1,s=0;for(;++s<e&&(n*=256);)i+=this[t+s]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||D(t,e,this.length);let i=e,n=1,s=this[t+--i];for(;i>0&&(n*=256);)s+=this[t+--i]*n;return n*=128,s>=n&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return t>>>=0,e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||D(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){t>>>=0,e||D(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Y((function(t){q(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||H(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||D(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||D(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||D(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||D(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){P(this,t,e,r,Math.pow(2,8*r)-1,0)}let n=1,s=0;for(this[e]=255&t;++s<r&&(n*=256);)this[e+s]=t/n&255;return e+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,i){if(t=+t,e>>>=0,r>>>=0,!i){P(this,t,e,r,Math.pow(2,8*r)-1,0)}let n=r-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Y((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Y((function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,r,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}let n=0,s=1,o=0;for(this[e]=255&t;++n<r&&(s*=256);)t<0&&0===o&&0!==this[e+n-1]&&(o=1),this[e+n]=(t/s|0)-o&255;return e+r},c.prototype.writeIntBE=function(t,e,r,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}let n=r-1,s=1,o=0;for(this[e+n]=255&t;--n>=0&&(s*=256);)t<0&&0===o&&0!==this[e+n+1]&&(o=1),this[e+n]=(t/s|0)-o&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Y((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Y((function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,r){return F(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return F(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return M(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return M(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,i){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);const n=i-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,i):Uint8Array.prototype.set.call(t,this.subarray(r,i),e),n},c.prototype.fill=function(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let n;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(n=e;n<r;++n)this[n]=t;else{const s=c.isBuffer(t)?t:c.from(t,i),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<r-e;++n)this[n+e]=s[n%o]}return this};const B={};function $(t,e,r){B[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",r=t.length;const i="-"===t[0]?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function U(t,e,r,i,n,s){if(t>r||t<e){const i="bigint"==typeof e?"n":"";let n;throw n=s>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(s+1)}${i}`:`>= -(2${i} ** ${8*(s+1)-1}${i}) and < 2 ** ${8*(s+1)-1}${i}`:`>= ${e}${i} and <= ${r}${i}`,new B.ERR_OUT_OF_RANGE("value",n,t)}!function(t,e,r){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||H(e,t.length-(r+1))}(i,n,s)}function q(t,e){if("number"!=typeof t)throw new B.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,r){if(Math.floor(t)!==t)throw q(t,r),new B.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(t,e,r){let i=`The value of "${t}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=V(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=V(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function z(t,e){let r;e=e||1/0;const i=t.length;let n=null;const s=[];for(let o=0;o<i;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function K(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,r,i){let n;for(n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const i=16*r;for(let n=0;n<16;++n)e[i+n]=t[r]+t[n]}return e}();function Y(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw new Error("BigInt not supported")}},2341:t=>{"use strict";t.exports=function t(e){return null===e||"object"!=typeof e||null!=e.toJSON?JSON.stringify(e):Array.isArray(e)?"["+e.reduce(((e,r,i)=>e+(0===i?"":",")+t(void 0===r||"symbol"==typeof r?null:r)),"")+"]":"{"+Object.keys(e).sort().reduce(((r,i,n)=>{if(void 0===e[i]||"symbol"==typeof e[i])return r;return r+(0===r.length?"":",")+t(i)+":"+t(e[i])}),"")+"}"}},6547:function(){!function(t){!function(e){var r="URLSearchParams"in t,i="Symbol"in t&&"iterator"in Symbol,n="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function _(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&n&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=_(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=_(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,r,i=f(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),i=0;i<e.length;i++)r[i]=String.fromCharCode(e[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[u(t)]},d.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},d.prototype.set=function(t,e){this.map[u(t)]=l(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},i&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t,e){var r,i,n=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=e.method||this.method||"GET",i=r.toUpperCase(),y.indexOf(i)>-1?i:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}})),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},b.call(m.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];w.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(E){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function I(t,r){return new Promise((function(i,s){var o=new m(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();e.append(i,n)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new w(n,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}I.polyfill=!0,t.fetch||(t.fetch=I,t.Headers=d,t.Request=m,t.Response=w),e.Headers=d,e.Request=m,e.Response=w,e.fetch=I,Object.defineProperty(e,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:this)},4460:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attributeNames=e.elementNames=void 0,e.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((function(t){return[t.toLowerCase(),t]}))),e.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((function(t){return[t.toLowerCase(),t]})))},3806:function(t,e,r){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},i.apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.render=void 0;var a=o(r(5413)),c=r(2730),u=r(4460),l=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function h(t){return t.replace(/"/g,"&quot;")}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(t,e){void 0===e&&(e={});for(var r=("length"in t?t:[t]),i="",n=0;n<r.length;n++)i+=p(r[n],e);return i}function p(t,e){switch(t.type){case a.Root:return f(t.children,e);case a.Doctype:case a.Directive:return"<".concat(t.data,">");case a.Comment:return function(t){return"\x3c!--".concat(t.data,"--\x3e")}(t);case a.CDATA:return function(t){return"<![CDATA[".concat(t.children[0].data,"]]>")}(t);case a.Script:case a.Style:case a.Tag:return function(t,e){var r;"foreign"===e.xmlMode&&(t.name=null!==(r=u.elementNames.get(t.name))&&void 0!==r?r:t.name,t.parent&&g.has(t.parent.name)&&(e=i(i({},e),{xmlMode:!1})));!e.xmlMode&&_.has(t.name)&&(e=i(i({},e),{xmlMode:"foreign"}));var n="<".concat(t.name),s=function(t,e){var r;if(t){var i=!1===(null!==(r=e.encodeEntities)&&void 0!==r?r:e.decodeEntities)?h:e.xmlMode||"utf8"!==e.encodeEntities?c.encodeXML:c.escapeAttribute;return Object.keys(t).map((function(r){var n,s,o=null!==(n=t[r])&&void 0!==n?n:"";return"foreign"===e.xmlMode&&(r=null!==(s=u.attributeNames.get(r))&&void 0!==s?s:r),e.emptyAttrs||e.xmlMode||""!==o?"".concat(r,'="').concat(i(o),'"'):r})).join(" ")}}(t.attribs,e);s&&(n+=" ".concat(s));0===t.children.length&&(e.xmlMode?!1!==e.selfClosingTags:e.selfClosingTags&&d.has(t.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",t.children.length>0&&(n+=f(t.children,e)),!e.xmlMode&&d.has(t.name)||(n+="</".concat(t.name,">")));return n}(t,e);case a.Text:return function(t,e){var r,i=t.data||"";!1===(null!==(r=e.encodeEntities)&&void 0!==r?r:e.decodeEntities)||!e.xmlMode&&t.parent&&l.has(t.parent.name)||(i=e.xmlMode||"utf8"!==e.encodeEntities?(0,c.encodeXML)(i):(0,c.escapeText)(i));return i}(t,e)}}e.render=f,e.default=f;var g=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"])},5413:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"}(r=e.ElementType||(e.ElementType={})),e.isTag=function(t){return t.type===r.Tag||t.type===r.Script||t.type===r.Style},e.Root=r.Root,e.Text=r.Text,e.Directive=r.Directive,e.Comment=r.Comment,e.Script=r.Script,e.Style=r.Style,e.Tag=r.Tag,e.CDATA=r.CDATA,e.Doctype=r.Doctype},1141:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var s=r(5413),o=r(6957);n(r(6957),e);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function t(t,e,r){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof e&&(r=e,e=a),"object"==typeof t&&(e=t,t=void 0),this.callback=null!=t?t:null,this.options=null!=e?e:a,this.elementCB=null!=r?r:null}return t.prototype.onparserinit=function(t){this.parser=t},t.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},t.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},t.prototype.onerror=function(t){this.handleCallback(t)},t.prototype.onclosetag=function(){this.lastNode=null;var t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)},t.prototype.onopentag=function(t,e){var r=this.options.xmlMode?s.ElementType.Tag:void 0,i=new o.Element(t,e,void 0,r);this.addNode(i),this.tagStack.push(i)},t.prototype.ontext=function(t){var e=this.lastNode;if(e&&e.type===s.ElementType.Text)e.data+=t,this.options.withEndIndices&&(e.endIndex=this.parser.endIndex);else{var r=new o.Text(t);this.addNode(r),this.lastNode=r}},t.prototype.oncomment=function(t){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment)this.lastNode.data+=t;else{var e=new o.Comment(t);this.addNode(e),this.lastNode=e}},t.prototype.oncommentend=function(){this.lastNode=null},t.prototype.oncdatastart=function(){var t=new o.Text(""),e=new o.CDATA([t]);this.addNode(e),t.parent=e,this.lastNode=t},t.prototype.oncdataend=function(){this.lastNode=null},t.prototype.onprocessinginstruction=function(t,e){var r=new o.ProcessingInstruction(t,e);this.addNode(r)},t.prototype.handleCallback=function(t){if("function"==typeof this.callback)this.callback(t,this.dom);else if(t)throw t},t.prototype.addNode=function(t){var e=this.tagStack[this.tagStack.length-1],r=e.children[e.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),e.children.push(t),r&&(t.prev=r,r.next=t),t.parent=e,this.lastNode=null},t}();e.DomHandler=c,e.default=c},6957:function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.CDATA=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var o=r(5413),a=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(t){return void 0===t&&(t=!1),x(this,t)},t}();e.Node=a;var c=function(t){function e(e){var r=t.call(this)||this;return r.data=e,r}return n(e,t),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(a);e.DataNode=c;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=o.ElementType.Text,e}return n(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(c);e.Text=u;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=o.ElementType.Comment,e}return n(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(c);e.Comment=l;var h=function(t){function e(e,r){var i=t.call(this,r)||this;return i.name=e,i.type=o.ElementType.Directive,i}return n(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(c);e.ProcessingInstruction=h;var d=function(t){function e(e){var r=t.call(this)||this;return r.children=e,r}return n(e,t),Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return null!==(t=this.children[0])&&void 0!==t?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(a);e.NodeWithChildren=d;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=o.ElementType.CDATA,e}return n(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(d);e.CDATA=f;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=o.ElementType.Root,e}return n(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(d);e.Document=p;var g=function(t){function e(e,r,i,n){void 0===i&&(i=[]),void 0===n&&(n="script"===e?o.ElementType.Script:"style"===e?o.ElementType.Style:o.ElementType.Tag);var s=t.call(this,i)||this;return s.name=e,s.attribs=r,s.type=n,s}return n(e,t),Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map((function(e){var r,i;return{name:e,value:t.attribs[e],namespace:null===(r=t["x-attribsNamespace"])||void 0===r?void 0:r[e],prefix:null===(i=t["x-attribsPrefix"])||void 0===i?void 0:i[e]}}))},enumerable:!1,configurable:!0}),e}(d);function _(t){return(0,o.isTag)(t)}function b(t){return t.type===o.ElementType.CDATA}function y(t){return t.type===o.ElementType.Text}function m(t){return t.type===o.ElementType.Comment}function v(t){return t.type===o.ElementType.Directive}function w(t){return t.type===o.ElementType.Root}function x(t,e){var r;if(void 0===e&&(e=!1),y(t))r=new u(t.data);else if(m(t))r=new l(t.data);else if(_(t)){var i=e?I(t.children):[],n=new g(t.name,s({},t.attribs),i);i.forEach((function(t){return t.parent=n})),null!=t.namespace&&(n.namespace=t.namespace),t["x-attribsNamespace"]&&(n["x-attribsNamespace"]=s({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(n["x-attribsPrefix"]=s({},t["x-attribsPrefix"])),r=n}else if(b(t)){i=e?I(t.children):[];var o=new f(i);i.forEach((function(t){return t.parent=o})),r=o}else if(w(t)){i=e?I(t.children):[];var a=new p(i);i.forEach((function(t){return t.parent=a})),t["x-mode"]&&(a["x-mode"]=t["x-mode"]),r=a}else{if(!v(t))throw new Error("Not implemented yet: ".concat(t.type));var c=new h(t.name,t.data);null!=t["x-name"]&&(c["x-name"]=t["x-name"],c["x-publicId"]=t["x-publicId"],c["x-systemId"]=t["x-systemId"]),r=c}return r.startIndex=t.startIndex,r.endIndex=t.endIndex,null!=t.sourceCodeLocation&&(r.sourceCodeLocation=t.sourceCodeLocation),r}function I(t){for(var e=t.map((function(t){return x(t,!0)})),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}e.Element=g,e.isTag=_,e.isCDATA=b,e.isText=y,e.isComment=m,e.isDirective=v,e.isDocument=w,e.hasChildren=function(t){return Object.prototype.hasOwnProperty.call(t,"children")},e.cloneNode=x},4437:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFeed=void 0;var i=r(6037),n=r(3209);e.getFeed=function(t){var e=c(h,t);return e?"feed"===e.name?function(t){var e,r=t.children,i={type:"atom",items:(0,n.getElementsByTagName)("entry",r).map((function(t){var e,r=t.children,i={media:a(r)};l(i,"id","id",r),l(i,"title","title",r);var n=null===(e=c("link",r))||void 0===e?void 0:e.attribs.href;n&&(i.link=n);var s=u("summary",r)||u("content",r);s&&(i.description=s);var o=u("updated",r);return o&&(i.pubDate=new Date(o)),i}))};l(i,"id","id",r),l(i,"title","title",r);var s=null===(e=c("link",r))||void 0===e?void 0:e.attribs.href;s&&(i.link=s);l(i,"description","subtitle",r);var o=u("updated",r);o&&(i.updated=new Date(o));return l(i,"author","email",r,!0),i}(e):function(t){var e,r,i=null!==(r=null===(e=c("channel",t.children))||void 0===e?void 0:e.children)&&void 0!==r?r:[],s={type:t.name.substr(0,3),id:"",items:(0,n.getElementsByTagName)("item",t.children).map((function(t){var e=t.children,r={media:a(e)};l(r,"id","guid",e),l(r,"title","title",e),l(r,"link","link",e),l(r,"description","description",e);var i=u("pubDate",e)||u("dc:date",e);return i&&(r.pubDate=new Date(i)),r}))};l(s,"title","title",i),l(s,"link","link",i),l(s,"description","description",i);var o=u("lastBuildDate",i);o&&(s.updated=new Date(o));return l(s,"author","managingEditor",i,!0),s}(e):null};var s=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function a(t){return(0,n.getElementsByTagName)("media:content",t).map((function(t){for(var e=t.attribs,r={medium:e.medium,isDefault:!!e.isDefault},i=0,n=s;i<n.length;i++){e[u=n[i]]&&(r[u]=e[u])}for(var a=0,c=o;a<c.length;a++){var u;e[u=c[a]]&&(r[u]=parseInt(e[u],10))}return e.expression&&(r.expression=e.expression),r}))}function c(t,e){return(0,n.getElementsByTagName)(t,e,!0,1)[0]}function u(t,e,r){return void 0===r&&(r=!1),(0,i.textContent)((0,n.getElementsByTagName)(t,e,r,1)).trim()}function l(t,e,r,i,n){void 0===n&&(n=!1);var s=u(r,i,n);s&&(t[e]=s)}function h(t){return"rss"===t||"feed"===t||"rdf:RDF"===t}},5397:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.DocumentPosition=e.removeSubsets=void 0;var i,n=r(1141);function s(t,e){var r=[],s=[];if(t===e)return 0;for(var o=(0,n.hasChildren)(t)?t:t.parent;o;)r.unshift(o),o=o.parent;for(o=(0,n.hasChildren)(e)?e:e.parent;o;)s.unshift(o),o=o.parent;for(var a=Math.min(r.length,s.length),c=0;c<a&&r[c]===s[c];)c++;if(0===c)return i.DISCONNECTED;var u=r[c-1],l=u.children,h=r[c],d=s[c];return l.indexOf(h)>l.indexOf(d)?u===e?i.FOLLOWING|i.CONTAINED_BY:i.FOLLOWING:u===t?i.PRECEDING|i.CONTAINS:i.PRECEDING}e.removeSubsets=function(t){for(var e=t.length;--e>=0;){var r=t[e];if(e>0&&t.lastIndexOf(r,e-1)>=0)t.splice(e,1);else for(var i=r.parent;i;i=i.parent)if(t.includes(i)){t.splice(e,1);break}}return t},function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"}(i=e.DocumentPosition||(e.DocumentPosition={})),e.compareDocumentPosition=s,e.uniqueSort=function(t){return t=t.filter((function(t,e,r){return!r.includes(t,e+1)})),t.sort((function(t,e){var r=s(t,e);return r&i.PRECEDING?-1:r&i.FOLLOWING?1:0})),t}},8888:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,n(r(6037),e),n(r(8938),e),n(r(3403),e),n(r(718),e),n(r(3209),e),n(r(5397),e),n(r(4437),e);var s=r(1141);Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return s.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return s.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return s.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return s.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return s.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return s.hasChildren}})},3209:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getElementsByTagType=e.getElementsByTagName=e.getElementById=e.getElements=e.testElement=void 0;var i=r(1141),n=r(718),s={tag_name:function(t){return"function"==typeof t?function(e){return(0,i.isTag)(e)&&t(e.name)}:"*"===t?i.isTag:function(e){return(0,i.isTag)(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return(0,i.isText)(e)&&t(e.data)}:function(e){return(0,i.isText)(e)&&e.data===t}}};function o(t,e){return"function"==typeof e?function(r){return(0,i.isTag)(r)&&e(r.attribs[t])}:function(r){return(0,i.isTag)(r)&&r.attribs[t]===e}}function a(t,e){return function(r){return t(r)||e(r)}}function c(t){var e=Object.keys(t).map((function(e){var r=t[e];return Object.prototype.hasOwnProperty.call(s,e)?s[e](r):o(e,r)}));return 0===e.length?null:e.reduce(a)}e.testElement=function(t,e){var r=c(t);return!r||r(e)},e.getElements=function(t,e,r,i){void 0===i&&(i=1/0);var s=c(t);return s?(0,n.filter)(s,e,r,i):[]},e.getElementById=function(t,e,r){return void 0===r&&(r=!0),Array.isArray(e)||(e=[e]),(0,n.findOne)(o("id",t),e,r)},e.getElementsByTagName=function(t,e,r,i){return void 0===r&&(r=!0),void 0===i&&(i=1/0),(0,n.filter)(s.tag_name(t),e,r,i)},e.getElementsByTagType=function(t,e,r,i){return void 0===r&&(r=!0),void 0===i&&(i=1/0),(0,n.filter)(s.tag_type(t),e,r,i)}},3403:(t,e)=>{"use strict";function r(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children,r=e.lastIndexOf(t);r>=0&&e.splice(r,1)}t.next=null,t.prev=null,t.parent=null}Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.prependChild=e.append=e.appendChild=e.replaceElement=e.removeElement=void 0,e.removeElement=r,e.replaceElement=function(t,e){var r=e.prev=t.prev;r&&(r.next=e);var i=e.next=t.next;i&&(i.prev=e);var n=e.parent=t.parent;if(n){var s=n.children;s[s.lastIndexOf(t)]=e,t.parent=null}},e.appendChild=function(t,e){if(r(e),e.next=null,e.parent=t,t.children.push(e)>1){var i=t.children[t.children.length-2];i.next=e,e.prev=i}else e.prev=null},e.append=function(t,e){r(e);var i=t.parent,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=i,n){if(n.prev=e,i){var s=i.children;s.splice(s.lastIndexOf(n),0,e)}}else i&&i.children.push(e)},e.prependChild=function(t,e){if(r(e),e.parent=t,e.prev=null,1!==t.children.unshift(e)){var i=t.children[1];i.prev=e,e.next=i}else e.next=null},e.prepend=function(t,e){r(e);var i=t.parent;if(i){var n=i.children;n.splice(n.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=i,e.prev=t.prev,e.next=t,t.prev=e}},718:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findAll=e.existsOne=e.findOne=e.findOneChild=e.find=e.filter=void 0;var i=r(1141);function n(t,e,r,n){for(var s=[],o=[e],a=[0];;)if(a[0]>=o[0].length){if(1===a.length)return s;o.shift(),a.shift()}else{var c=o[0][a[0]++];if(t(c)&&(s.push(c),--n<=0))return s;r&&(0,i.hasChildren)(c)&&c.children.length>0&&(a.unshift(0),o.unshift(c.children))}}e.filter=function(t,e,r,i){return void 0===r&&(r=!0),void 0===i&&(i=1/0),n(t,Array.isArray(e)?e:[e],r,i)},e.find=n,e.findOneChild=function(t,e){return e.find(t)},e.findOne=function t(e,r,n){void 0===n&&(n=!0);for(var s=null,o=0;o<r.length&&!s;o++){var a=r[o];(0,i.isTag)(a)&&(e(a)?s=a:n&&a.children.length>0&&(s=t(e,a.children,!0)))}return s},e.existsOne=function t(e,r){return r.some((function(r){return(0,i.isTag)(r)&&(e(r)||t(e,r.children))}))},e.findAll=function(t,e){for(var r=[],n=[e],s=[0];;)if(s[0]>=n[0].length){if(1===n.length)return r;n.shift(),s.shift()}else{var o=n[0][s[0]++];(0,i.isTag)(o)&&(t(o)&&r.push(o),o.children.length>0&&(s.unshift(0),n.unshift(o.children)))}}},6037:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.innerText=e.textContent=e.getText=e.getInnerHTML=e.getOuterHTML=void 0;var n=r(1141),s=i(r(3806)),o=r(5413);function a(t,e){return(0,s.default)(t,e)}e.getOuterHTML=a,e.getInnerHTML=function(t,e){return(0,n.hasChildren)(t)?t.children.map((function(t){return a(t,e)})).join(""):""},e.getText=function t(e){return Array.isArray(e)?e.map(t).join(""):(0,n.isTag)(e)?"br"===e.name?"\n":t(e.children):(0,n.isCDATA)(e)?t(e.children):(0,n.isText)(e)?e.data:""},e.textContent=function t(e){return Array.isArray(e)?e.map(t).join(""):(0,n.hasChildren)(e)&&!(0,n.isComment)(e)?t(e.children):(0,n.isText)(e)?e.data:""},e.innerText=function t(e){return Array.isArray(e)?e.map(t).join(""):(0,n.hasChildren)(e)&&(e.type===o.ElementType.Tag||(0,n.isCDATA)(e))?t(e.children):(0,n.isText)(e)?e.data:""}},8938:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prevElementSibling=e.nextElementSibling=e.getName=e.hasAttrib=e.getAttributeValue=e.getSiblings=e.getParent=e.getChildren=void 0;var i=r(1141);function n(t){return(0,i.hasChildren)(t)?t.children:[]}function s(t){return t.parent||null}e.getChildren=n,e.getParent=s,e.getSiblings=function(t){var e=s(t);if(null!=e)return n(e);for(var r=[t],i=t.prev,o=t.next;null!=i;)r.unshift(i),i=i.prev;for(;null!=o;)r.push(o),o=o.next;return r},e.getAttributeValue=function(t,e){var r;return null===(r=t.attribs)||void 0===r?void 0:r[e]},e.hasAttrib=function(t,e){return null!=t.attribs&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&null!=t.attribs[e]},e.getName=function(t){return t.name},e.nextElementSibling=function(t){for(var e=t.next;null!==e&&!(0,i.isTag)(e);)e=e.next;return e},e.prevElementSibling=function(t){for(var e=t.prev;null!==e&&!(0,i.isTag)(e);)e=e.prev;return e}},9878:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTMLAttribute=e.decodeHTML=e.determineBranch=e.EntityDecoder=e.DecodingMode=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var a=o(r(3603));e.htmlDecodeTree=a.default;var c=o(r(2517));e.xmlDecodeTree=c.default;var u=s(r(5096));e.decodeCodePoint=u.default;var l,h=r(5096);Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return h.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return h.fromCodePoint}}),function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"}(l||(l={}));var d,f,p;function g(t){return t>=l.ZERO&&t<=l.NINE}function _(t){return t===l.EQUALS||function(t){return t>=l.UPPER_A&&t<=l.UPPER_Z||t>=l.LOWER_A&&t<=l.LOWER_Z||g(t)}(t)}!function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"}(d=e.BinTrieFlags||(e.BinTrieFlags={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(f||(f={})),function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"}(p=e.DecodingMode||(e.DecodingMode={}));var b=function(){function t(t,e,r){this.decodeTree=t,this.emitCodePoint=e,this.errors=r,this.state=f.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=p.Strict}return t.prototype.startEntity=function(t){this.decodeMode=t,this.state=f.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},t.prototype.write=function(t,e){switch(this.state){case f.EntityStart:return t.charCodeAt(e)===l.NUM?(this.state=f.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=f.NamedEntity,this.stateNamedEntity(t,e));case f.NumericStart:return this.stateNumericStart(t,e);case f.NumericDecimal:return this.stateNumericDecimal(t,e);case f.NumericHex:return this.stateNumericHex(t,e);case f.NamedEntity:return this.stateNamedEntity(t,e)}},t.prototype.stateNumericStart=function(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===l.LOWER_X?(this.state=f.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=f.NumericDecimal,this.stateNumericDecimal(t,e))},t.prototype.addToNumericResult=function(t,e,r,i){if(e!==r){var n=r-e;this.result=this.result*Math.pow(i,n)+parseInt(t.substr(e,n),i),this.consumed+=n}},t.prototype.stateNumericHex=function(t,e){for(var r,i=e;e<t.length;){var n=t.charCodeAt(e);if(!(g(n)||(r=n,r>=l.UPPER_A&&r<=l.UPPER_F||r>=l.LOWER_A&&r<=l.LOWER_F)))return this.addToNumericResult(t,i,e,16),this.emitNumericEntity(n,3);e+=1}return this.addToNumericResult(t,i,e,16),-1},t.prototype.stateNumericDecimal=function(t,e){for(var r=e;e<t.length;){var i=t.charCodeAt(e);if(!g(i))return this.addToNumericResult(t,r,e,10),this.emitNumericEntity(i,2);e+=1}return this.addToNumericResult(t,r,e,10),-1},t.prototype.emitNumericEntity=function(t,e){var r;if(this.consumed<=e)return null===(r=this.errors)||void 0===r||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===l.SEMI)this.consumed+=1;else if(this.decodeMode===p.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(t!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},t.prototype.stateNamedEntity=function(t,e){for(var r=this.decodeTree,i=r[this.treeIndex],n=(i&d.VALUE_LENGTH)>>14;e<t.length;e++,this.excess++){var s=t.charCodeAt(e);if(this.treeIndex=m(r,i,this.treeIndex+Math.max(1,n),s),this.treeIndex<0)return 0===this.result||this.decodeMode===p.Attribute&&(0===n||_(s))?0:this.emitNotTerminatedNamedEntity();if(0!==(n=((i=r[this.treeIndex])&d.VALUE_LENGTH)>>14)){if(s===l.SEMI)return this.emitNamedEntityData(this.treeIndex,n,this.consumed+this.excess);this.decodeMode!==p.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},t.prototype.emitNotTerminatedNamedEntity=function(){var t,e=this.result,r=(this.decodeTree[e]&d.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,r,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed},t.prototype.emitNamedEntityData=function(t,e,r){var i=this.decodeTree;return this.emitCodePoint(1===e?i[t]&~d.VALUE_LENGTH:i[t+1],r),3===e&&this.emitCodePoint(i[t+2],r),r},t.prototype.end=function(){var t;switch(this.state){case f.NamedEntity:return 0===this.result||this.decodeMode===p.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case f.NumericDecimal:return this.emitNumericEntity(0,2);case f.NumericHex:return this.emitNumericEntity(0,3);case f.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case f.EntityStart:return 0}},t}();function y(t){var e="",r=new b(t,(function(t){return e+=(0,u.fromCodePoint)(t)}));return function(t,i){for(var n=0,s=0;(s=t.indexOf("&",s))>=0;){e+=t.slice(n,s),r.startEntity(i);var o=r.write(t,s+1);if(o<0){n=s+r.end();break}n=s+o,s=0===o?n+1:n}var a=e+t.slice(n);return e="",a}}function m(t,e,r,i){var n=(e&d.BRANCH_LENGTH)>>7,s=e&d.JUMP_TABLE;if(0===n)return 0!==s&&i===s?r:-1;if(s){var o=i-s;return o<0||o>=n?-1:t[r+o]-1}for(var a=r,c=a+n-1;a<=c;){var u=a+c>>>1,l=t[u];if(l<i)a=u+1;else{if(!(l>i))return t[u+n];c=u-1}}return-1}e.EntityDecoder=b,e.determineBranch=m;var v=y(a.default),w=y(c.default);e.decodeHTML=function(t,e){return void 0===e&&(e=p.Legacy),v(t,e)},e.decodeHTMLAttribute=function(t){return v(t,p.Attribute)},e.decodeHTMLStrict=function(t){return v(t,p.Strict)},e.decodeXML=function(t){return w(t,p.Strict)}},5096:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var i=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function n(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=i.get(t))&&void 0!==e?e:t}e.fromCodePoint=null!==(r=String.fromCodePoint)&&void 0!==r?r:function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)},e.replaceCodePoint=n,e.default=function(t){return(0,e.fromCodePoint)(n(t))}},1818:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.encodeNonAsciiHTML=e.encodeHTML=void 0;var n=i(r(5504)),s=r(5987),o=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function a(t,e){for(var r,i="",o=0;null!==(r=t.exec(e));){var a=r.index;i+=e.substring(o,a);var c=e.charCodeAt(a),u=n.default.get(c);if("object"==typeof u){if(a+1<e.length){var l=e.charCodeAt(a+1),h="number"==typeof u.n?u.n===l?u.o:void 0:u.n.get(l);if(void 0!==h){i+=h,o=t.lastIndex+=1;continue}}u=u.v}if(void 0!==u)i+=u,o=a+1;else{var d=(0,s.getCodePoint)(e,a);i+="&#x".concat(d.toString(16),";"),o=t.lastIndex+=Number(d!==c)}}return i+e.substr(o)}e.encodeHTML=function(t){return a(o,t)},e.encodeNonAsciiHTML=function(t){return a(s.xmlReplacer,t)}},5987:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var r=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function i(t){for(var i,n="",s=0;null!==(i=e.xmlReplacer.exec(t));){var o=i.index,a=t.charCodeAt(o),c=r.get(a);void 0!==c?(n+=t.substring(s,o)+c,s=o+1):(n+="".concat(t.substring(s,o),"&#x").concat((0,e.getCodePoint)(t,o).toString(16),";"),s=e.xmlReplacer.lastIndex+=Number(55296==(64512&a)))}return n+t.substr(s)}function n(t,e){return function(r){for(var i,n=0,s="";i=t.exec(r);)n!==i.index&&(s+=r.substring(n,i.index)),s+=e.get(i[0].charCodeAt(0)),n=i.index+1;return s+r.substring(n)}}e.getCodePoint=null!=String.prototype.codePointAt?function(t,e){return t.codePointAt(e)}:function(t,e){return 55296==(64512&t.charCodeAt(e))?1024*(t.charCodeAt(e)-55296)+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e)},e.encodeXML=i,e.escape=i,e.escapeUTF8=n(/[&<>'"]/g,r),e.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))},3603:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((function(t){return t.charCodeAt(0)})))},2517:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((function(t){return t.charCodeAt(0)})))},5504:(t,e)=>{"use strict";function r(t){for(var e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=new Map(r([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(r([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(r([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(r([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))},2730:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLAttribute=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.DecodingMode=e.EntityDecoder=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.EntityLevel=void 0;var i,n,s=r(9878),o=r(1818),a=r(5987);function c(t,e){if(void 0===e&&(e=i.XML),("number"==typeof e?e:e.level)===i.HTML){var r="object"==typeof e?e.mode:void 0;return(0,s.decodeHTML)(t,r)}return(0,s.decodeXML)(t)}!function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"}(i=e.EntityLevel||(e.EntityLevel={})),function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"}(n=e.EncodingMode||(e.EncodingMode={})),e.decode=c,e.decodeStrict=function(t,e){var r;void 0===e&&(e=i.XML);var n="number"==typeof e?{level:e}:e;return null!==(r=n.mode)&&void 0!==r||(n.mode=s.DecodingMode.Strict),c(t,n)},e.encode=function(t,e){void 0===e&&(e=i.XML);var r="number"==typeof e?{level:e}:e;return r.mode===n.UTF8?(0,a.escapeUTF8)(t):r.mode===n.Attribute?(0,a.escapeAttribute)(t):r.mode===n.Text?(0,a.escapeText)(t):r.level===i.HTML?r.mode===n.ASCII?(0,o.encodeNonAsciiHTML)(t):(0,o.encodeHTML)(t):(0,a.encodeXML)(t)};var u=r(5987);Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var l=r(1818);Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var h=r(9878);Object.defineProperty(e,"EntityDecoder",{enumerable:!0,get:function(){return h.EntityDecoder}}),Object.defineProperty(e,"DecodingMode",{enumerable:!0,get:function(){return h.DecodingMode}}),Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return h.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTMLAttribute",{enumerable:!0,get:function(){return h.decodeHTMLAttribute}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return h.decodeXML}})},6486:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promisifyEventEmitter=void 0,e.promisifyEventEmitter=function(t,e){return new Promise(((r,i)=>{t.on("end",(()=>r(e))),t.on("error",i)}))}},7007:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var n=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,i){function n(r){t.removeListener(e,s),i(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",n),r([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,r)}(t,n,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,r,i){var n,s,o,u;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=c(t))>0&&o.length>n&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=l.bind(i);return n.listener=r,i.wrapFn=n,n}function d(t,e,r){var i=t._events;if(void 0===i)return[];var n=i[e];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(n):p(n,n.length)}function f(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function g(t,e,r,i){if("function"==typeof t.on)i.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(s){i.once&&t.removeEventListener(e,n),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||n(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(void 0===c)return!1;if("function"==typeof c)i(c,this,e);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)i(l[r],this,e)}return!0},s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,i,n,s,o;if(a(e),void 0===(i=this._events))return this;if(void 0===(r=i[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,n),1===r.length&&(i[t]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},1724:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var o=s(r(7918)),a=r(9878),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),u=new Set(["p"]),l=new Set(["thead","tbody"]),h=new Set(["dd","dt"]),d=new Set(["rt","rp"]),f=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",u],["h1",u],["h2",u],["h3",u],["h4",u],["h5",u],["h6",u],["select",c],["input",c],["output",c],["button",c],["datalist",c],["textarea",c],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",h],["dt",h],["address",u],["article",u],["aside",u],["blockquote",u],["details",u],["div",u],["dl",u],["fieldset",u],["figcaption",u],["figure",u],["footer",u],["form",u],["header",u],["hr",u],["main",u],["nav",u],["ol",u],["pre",u],["section",u],["table",u],["ul",u],["rt",d],["rp",d],["tbody",l],["tfoot",l]]),p=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),g=new Set(["math","svg"]),_=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),b=/\s|\//,y=function(){function t(t,e){var r,i,n,s,a;void 0===e&&(e={}),this.options=e,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=t?t:{},this.lowerCaseTagNames=null!==(r=e.lowerCaseTags)&&void 0!==r?r:!e.xmlMode,this.lowerCaseAttributeNames=null!==(i=e.lowerCaseAttributeNames)&&void 0!==i?i:!e.xmlMode,this.tokenizer=new(null!==(n=e.Tokenizer)&&void 0!==n?n:o.default)(this.options,this),null===(a=(s=this.cbs).onparserinit)||void 0===a||a.call(s,this)}return t.prototype.ontext=function(t,e){var r,i,n=this.getSlice(t,e);this.endIndex=e-1,null===(i=(r=this.cbs).ontext)||void 0===i||i.call(r,n),this.startIndex=e},t.prototype.ontextentity=function(t){var e,r,i=this.tokenizer.getSectionStart();this.endIndex=i-1,null===(r=(e=this.cbs).ontext)||void 0===r||r.call(e,(0,a.fromCodePoint)(t)),this.startIndex=i},t.prototype.isVoidElement=function(t){return!this.options.xmlMode&&p.has(t)},t.prototype.onopentagname=function(t,e){this.endIndex=e;var r=this.getSlice(t,e);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)},t.prototype.emitOpenTag=function(t){var e,r,i,n;this.openTagStart=this.startIndex,this.tagname=t;var s=!this.options.xmlMode&&f.get(t);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){var o=this.stack.pop();null===(r=(e=this.cbs).onclosetag)||void 0===r||r.call(e,o,!0)}this.isVoidElement(t)||(this.stack.push(t),g.has(t)?this.foreignContext.push(!0):_.has(t)&&this.foreignContext.push(!1)),null===(n=(i=this.cbs).onopentagname)||void 0===n||n.call(i,t),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(t){var e,r;this.startIndex=this.openTagStart,this.attribs&&(null===(r=(e=this.cbs).onopentag)||void 0===r||r.call(e,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1},t.prototype.onclosetag=function(t,e){var r,i,n,s,o,a;this.endIndex=e;var c=this.getSlice(t,e);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),(g.has(c)||_.has(c))&&this.foreignContext.pop(),this.isVoidElement(c))this.options.xmlMode||"br"!==c||(null===(i=(r=this.cbs).onopentagname)||void 0===i||i.call(r,"br"),null===(s=(n=this.cbs).onopentag)||void 0===s||s.call(n,"br",{},!0),null===(a=(o=this.cbs).onclosetag)||void 0===a||a.call(o,"br",!1));else{var u=this.stack.lastIndexOf(c);if(-1!==u)if(this.cbs.onclosetag)for(var l=this.stack.length-u;l--;)this.cbs.onclosetag(this.stack.pop(),0!==l);else this.stack.length=u;else this.options.xmlMode||"p"!==c||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=e+1},t.prototype.onselfclosingtag=function(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)},t.prototype.closeCurrentTag=function(t){var e,r,i=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===i&&(null===(r=(e=this.cbs).onclosetag)||void 0===r||r.call(e,i,!t),this.stack.pop())},t.prototype.onattribname=function(t,e){this.startIndex=t;var r=this.getSlice(t,e);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r},t.prototype.onattribdata=function(t,e){this.attribvalue+=this.getSlice(t,e)},t.prototype.onattribentity=function(t){this.attribvalue+=(0,a.fromCodePoint)(t)},t.prototype.onattribend=function(t,e){var r,i;this.endIndex=e,null===(i=(r=this.cbs).onattribute)||void 0===i||i.call(r,this.attribname,this.attribvalue,t===o.QuoteType.Double?'"':t===o.QuoteType.Single?"'":t===o.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(t){var e=t.search(b),r=e<0?t:t.substr(0,e);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},t.prototype.ondeclaration=function(t,e){this.endIndex=e;var r=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(r))}this.startIndex=e+1},t.prototype.onprocessinginstruction=function(t,e){this.endIndex=e;var r=this.getSlice(t,e);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(r);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(r))}this.startIndex=e+1},t.prototype.oncomment=function(t,e,r){var i,n,s,o;this.endIndex=e,null===(n=(i=this.cbs).oncomment)||void 0===n||n.call(i,this.getSlice(t,e-r)),null===(o=(s=this.cbs).oncommentend)||void 0===o||o.call(s),this.startIndex=e+1},t.prototype.oncdata=function(t,e,r){var i,n,s,o,a,c,u,l,h,d;this.endIndex=e;var f=this.getSlice(t,e-r);this.options.xmlMode||this.options.recognizeCDATA?(null===(n=(i=this.cbs).oncdatastart)||void 0===n||n.call(i),null===(o=(s=this.cbs).ontext)||void 0===o||o.call(s,f),null===(c=(a=this.cbs).oncdataend)||void 0===c||c.call(a)):(null===(l=(u=this.cbs).oncomment)||void 0===l||l.call(u,"[CDATA[".concat(f,"]]")),null===(d=(h=this.cbs).oncommentend)||void 0===d||d.call(h)),this.startIndex=e+1},t.prototype.onend=function(){var t,e;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r],!0));}null===(e=(t=this.cbs).onend)||void 0===e||e.call(t)},t.prototype.reset=function(){var t,e,r,i;null===(e=(t=this.cbs).onreset)||void 0===e||e.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(i=(r=this.cbs).onparserinit)||void 0===i||i.call(r,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(t){this.reset(),this.end(t)},t.prototype.getSlice=function(t,e){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var r=this.buffers[0].slice(t-this.bufferOffset,e-this.bufferOffset);e-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,e-this.bufferOffset);return r},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(t){var e,r;this.ended?null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,new Error(".write() after done!")):(this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++))},t.prototype.end=function(t){var e,r;this.ended?null===(r=(e=this.cbs).onerror)||void 0===r||r.call(e,new Error(".end() after done!")):(t&&this.write(t),this.ended=!0,this.tokenizer.end())},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(t){this.write(t)},t.prototype.done=function(t){this.end(t)},t}();e.Parser=y},7918:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var i,n,s,o=r(9878);function a(t){return t===i.Space||t===i.NewLine||t===i.Tab||t===i.FormFeed||t===i.CarriageReturn}function c(t){return t===i.Slash||t===i.Gt||a(t)}function u(t){return t>=i.Zero&&t<=i.Nine}!function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"}(i||(i={})),function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.SpecialStartSequence=23]="SpecialStartSequence",t[t.InSpecialTag=24]="InSpecialTag",t[t.BeforeEntity=25]="BeforeEntity",t[t.BeforeNumericEntity=26]="BeforeNumericEntity",t[t.InNamedEntity=27]="InNamedEntity",t[t.InNumericEntity=28]="InNumericEntity",t[t.InHexEntity=29]="InHexEntity"}(n||(n={})),function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"}(s=e.QuoteType||(e.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},h=function(){function t(t,e){var r=t.xmlMode,i=void 0!==r&&r,s=t.decodeEntities,a=void 0===s||s;this.cbs=e,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=i,this.decodeEntities=a,this.entityTrie=i?o.xmlDecodeTree:o.htmlDecodeTree}return t.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},t.prototype.write=function(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()},t.prototype.end=function(){this.running&&this.finish()},t.prototype.pause=function(){this.running=!1},t.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},t.prototype.getIndex=function(){return this.index},t.prototype.getSectionStart=function(){return this.sectionStart},t.prototype.stateText=function(t){t===i.Lt||!this.decodeEntities&&this.fastForwardTo(i.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===i.Amp&&(this.state=n.BeforeEntity)},t.prototype.stateSpecialStartSequence=function(t){var e=this.sequenceIndex===this.currentSequence.length;if(e?c(t):(32|t)===this.currentSequence[this.sequenceIndex]){if(!e)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(t)},t.prototype.stateInSpecialTag=function(t){if(this.sequenceIndex===this.currentSequence.length){if(t===i.Gt||a(t)){var e=this.index-this.currentSequence.length;if(this.sectionStart<e){var r=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=r}return this.isSpecial=!1,this.sectionStart=e+2,void this.stateInClosingTagName(t)}this.sequenceIndex=0}(32|t)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===l.TitleEnd?this.decodeEntities&&t===i.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(i.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(t===i.Lt)},t.prototype.stateCDATASequence=function(t){t===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(t))},t.prototype.fastForwardTo=function(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1},t.prototype.stateInCommentLike=function(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},t.prototype.isTagStartChar=function(t){return this.xmlMode?!c(t):function(t){return t>=i.LowerA&&t<=i.LowerZ||t>=i.UpperA&&t<=i.UpperZ}(t)},t.prototype.startSpecial=function(t,e){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=e,this.state=n.SpecialStartSequence},t.prototype.stateBeforeTagName=function(t){if(t===i.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===i.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){var e=32|t;this.sectionStart=this.index,this.xmlMode||e!==l.TitleEnd[2]?this.state=this.xmlMode||e!==l.ScriptEnd[2]?n.InTagName:n.BeforeSpecialS:this.startSpecial(l.TitleEnd,3)}else t===i.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(t))},t.prototype.stateInTagName=function(t){c(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(t))},t.prototype.stateBeforeClosingTagName=function(t){a(t)||(t===i.Gt?this.state=n.Text:(this.state=this.isTagStartChar(t)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},t.prototype.stateInClosingTagName=function(t){(t===i.Gt||a(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(t))},t.prototype.stateAfterClosingTagName=function(t){(t===i.Gt||this.fastForwardTo(i.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeAttributeName=function(t){t===i.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):t===i.Slash?this.state=n.InSelfClosingTag:a(t)||(this.state=n.InAttributeName,this.sectionStart=this.index)},t.prototype.stateInSelfClosingTag=function(t){t===i.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(t)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(t))},t.prototype.stateInAttributeName=function(t){(t===i.Eq||c(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(t))},t.prototype.stateAfterAttributeName=function(t){t===i.Eq?this.state=n.BeforeAttributeValue:t===i.Slash||t===i.Gt?(this.cbs.onattribend(s.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(t)):a(t)||(this.cbs.onattribend(s.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},t.prototype.stateBeforeAttributeValue=function(t){t===i.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):t===i.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(t)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))},t.prototype.handleInAttributeValue=function(t,e){t===e||!this.decodeEntities&&this.fastForwardTo(e)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===i.DoubleQuote?s.Double:s.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&t===i.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},t.prototype.stateInAttributeValueDoubleQuotes=function(t){this.handleInAttributeValue(t,i.DoubleQuote)},t.prototype.stateInAttributeValueSingleQuotes=function(t){this.handleInAttributeValue(t,i.SingleQuote)},t.prototype.stateInAttributeValueNoQuotes=function(t){a(t)||t===i.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===i.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},t.prototype.stateBeforeDeclaration=function(t){t===i.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=t===i.Dash?n.BeforeComment:n.InDeclaration},t.prototype.stateInDeclaration=function(t){(t===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},t.prototype.stateInProcessingInstruction=function(t){(t===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeComment=function(t){t===i.Dash?(this.state=n.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},t.prototype.stateInSpecialComment=function(t){(t===i.Gt||this.fastForwardTo(i.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeSpecialS=function(t){var e=32|t;e===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):e===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(t))},t.prototype.stateBeforeEntity=function(t){this.entityExcess=1,this.entityResult=0,t===i.Number?this.state=n.BeforeNumericEntity:t===i.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(t))},t.prototype.stateInNamedEntity=function(t){if(this.entityExcess+=1,this.trieIndex=(0,o.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,t),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];var e=this.trieCurrent&o.BinTrieFlags.VALUE_LENGTH;if(e){var r=(e>>14)-1;if(this.allowLegacyEntity()||t===i.Semi){var n=this.index-this.entityExcess+1;n>this.sectionStart&&this.emitPartial(this.sectionStart,n),this.entityResult=this.trieIndex,this.trieIndex+=r,this.entityExcess=0,this.sectionStart=this.index+1,0===r&&this.emitNamedEntity()}else this.trieIndex+=r}},t.prototype.emitNamedEntity=function(){if(this.state=this.baseState,0!==this.entityResult)switch((this.entityTrie[this.entityResult]&o.BinTrieFlags.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~o.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}},t.prototype.stateBeforeNumericEntity=function(t){(32|t)===i.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(t))},t.prototype.emitNumericEntity=function(t){var e=this.index-this.entityExcess-1;e+2+Number(this.state===n.InHexEntity)!==this.index&&(e>this.sectionStart&&this.emitPartial(this.sectionStart,e),this.sectionStart=this.index+Number(t),this.emitCodePoint((0,o.replaceCodePoint)(this.entityResult))),this.state=this.baseState},t.prototype.stateInNumericEntity=function(t){t===i.Semi?this.emitNumericEntity(!0):u(t)?(this.entityResult=10*this.entityResult+(t-i.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},t.prototype.stateInHexEntity=function(t){t===i.Semi?this.emitNumericEntity(!0):u(t)?(this.entityResult=16*this.entityResult+(t-i.Zero),this.entityExcess++):!function(t){return t>=i.UpperA&&t<=i.UpperF||t>=i.LowerA&&t<=i.LowerF}(t)?(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--):(this.entityResult=16*this.entityResult+((32|t)-i.LowerA+10),this.entityExcess++)},t.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},t.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==n.InAttributeValueDq&&this.state!==n.InAttributeValueSq&&this.state!==n.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},t.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},t.prototype.parse=function(){for(;this.shouldContinue();){var t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:this.stateText(t);break;case n.SpecialStartSequence:this.stateSpecialStartSequence(t);break;case n.InSpecialTag:this.stateInSpecialTag(t);break;case n.CDATASequence:this.stateCDATASequence(t);break;case n.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(t);break;case n.InAttributeName:this.stateInAttributeName(t);break;case n.InCommentLike:this.stateInCommentLike(t);break;case n.InSpecialComment:this.stateInSpecialComment(t);break;case n.BeforeAttributeName:this.stateBeforeAttributeName(t);break;case n.InTagName:this.stateInTagName(t);break;case n.InClosingTagName:this.stateInClosingTagName(t);break;case n.BeforeTagName:this.stateBeforeTagName(t);break;case n.AfterAttributeName:this.stateAfterAttributeName(t);break;case n.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(t);break;case n.BeforeAttributeValue:this.stateBeforeAttributeValue(t);break;case n.BeforeClosingTagName:this.stateBeforeClosingTagName(t);break;case n.AfterClosingTagName:this.stateAfterClosingTagName(t);break;case n.BeforeSpecialS:this.stateBeforeSpecialS(t);break;case n.InAttributeValueNq:this.stateInAttributeValueNoQuotes(t);break;case n.InSelfClosingTag:this.stateInSelfClosingTag(t);break;case n.InDeclaration:this.stateInDeclaration(t);break;case n.BeforeDeclaration:this.stateBeforeDeclaration(t);break;case n.BeforeComment:this.stateBeforeComment(t);break;case n.InProcessingInstruction:this.stateInProcessingInstruction(t);break;case n.InNamedEntity:this.stateInNamedEntity(t);break;case n.BeforeEntity:this.stateBeforeEntity(t);break;case n.InHexEntity:this.stateInHexEntity(t);break;case n.InNumericEntity:this.stateInNumericEntity(t);break;default:this.stateBeforeNumericEntity(t)}this.index++}this.cleanup()},t.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},t.prototype.handleTrailingData=function(){var t=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()||this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,t)},t.prototype.emitPartial=function(t,e){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(t,e):this.cbs.ontext(t,e)},t.prototype.emitCodePoint=function(t){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(t):this.cbs.ontextentity(t)},t}();e.default=h},8659:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return n(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DefaultHandler=e.DomHandler=e.Parser=void 0;var a=r(1724),c=r(1724);Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return c.Parser}});var u=r(1141),l=r(1141);function h(t,e){var r=new u.DomHandler(void 0,e);return new a.Parser(r,e).end(t),r.root}function d(t,e){return h(t,e).children}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}}),e.parseDocument=h,e.parseDOM=d,e.createDomStream=function(t,e,r){var i=new u.DomHandler(t,e,r);return new a.Parser(i,e)};var f=r(7918);Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return o(f).default}}),e.ElementType=s(r(5413));var p=r(8888),g=r(8888);Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return g.getFeed}});var _={xmlMode:!0};e.parseFeed=function(t,e){return void 0===e&&(e=_),(0,p.getFeed)(d(t,e))},e.DomUtils=s(r(8888))},2384:(t,e,r)=>{"use strict";var i=r(8287).Buffer,n=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,c=/[;,"]/,u=/[;,"]|\s/,l=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,h=1,d=2,f=4;function p(t){return t.replace(s,"")}function g(t){return o.test(t)}function _(t,e){for(;g(t[e]);)e++;return e}function b(t){return u.test(t)||!l.test(t)}class y{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var e=[],r=t.toLowerCase(),i=0;i<this.refs.length;i++)"string"==typeof this.refs[i].rel&&this.refs[i].rel.toLowerCase()===r&&e.push(this.refs[i]);return e}get(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var r=[],i=0;i<this.refs.length;i++)"string"==typeof this.refs[i][t]&&this.refs[i][t].toLowerCase()===e&&r.push(this.refs[i]);return r}set(t){return this.refs.push(t),this}setUnique(t){return this.refs.some((e=>{return r=e,i=t,Object.keys(r).length===Object.keys(i).length&&Object.keys(r).every((t=>t in i&&r[t]===i[t]));var r,i}))||this.refs.push(t),this}has(t,e){t=t.toLowerCase(),e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if("string"==typeof this.refs[r][t]&&this.refs[r][t].toLowerCase()===e)return!0;return!1}parse(t,e){t=p(t=(e=e||0)?t.slice(e):t).replace(a,"");for(var r=h,i=t.length,n=(e=0,null);e<i;)if(r===h){if(g(t[e])){e++;continue}if("<"!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);if(null!=n&&(null!=n.rel?this.refs.push(...y.expandRelations(n)):this.refs.push(n)),-1===(u=t.indexOf(">",e)))throw new Error("Expected end of URI delimiter at offset "+e);n={uri:t.slice(e+1,u)},e=u,r=d,e++}else if(r===d){if(g(t[e])){e++;continue}if(";"===t[e])r=f,e++;else{if(","!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);r=h,e++}}else{if(r!==f)throw new Error('Unknown parser state "'+r+'"');if(";"===t[e]||g(t[e])){e++;continue}-1===(u=t.indexOf("=",e))&&(u=t.indexOf(";",e)),-1===u&&(u=t.length);var s=p(t.slice(e,u)).toLowerCase(),o="";if('"'===t[e=_(t,e=u+1)])for(e++;e<i;){if('"'===t[e]){e++;break}"\\"===t[e]&&e++,o+=t[e],e++}else{for(var u=e+1;!c.test(t[u])&&u<i;)u++;o=t.slice(e,u),e=u}switch(n[s]&&y.isSingleOccurenceAttr(s)||("*"===s[s.length-1]?n[s]=y.parseExtendedValue(o):(o="type"===s?o.toLowerCase():o,null!=n[s]?Array.isArray(n[s])?n[s].push(o):n[s]=[n[s],o]:n[s]=o)),t[e]){case",":r=h;break;case";":r=f}e++}return null!=n&&(null!=n.rel?this.refs.push(...y.expandRelations(n)):this.refs.push(n)),n=null,this}toString(){for(var t=[],e="",r=null,i=0;i<this.refs.length;i++)r=this.refs[i],e=Object.keys(this.refs[i]).reduce((function(t,e){return"uri"===e?t:t+"; "+y.formatAttribute(e,r[e])}),"<"+r.uri+">"),t.push(e);return t.join(", ")}}y.isCompatibleEncoding=function(t){return n.test(t)},y.parse=function(t,e){return(new y).parse(t,e)},y.isSingleOccurenceAttr=function(t){return"rel"===t||"type"===t||"media"===t||"title"===t||"title*"===t},y.isTokenAttr=function(t){return"rel"===t||"type"===t||"anchor"===t},y.escapeQuotes=function(t){return t.replace(/"/g,'\\"')},y.expandRelations=function(t){return t.rel.split(" ").map((function(e){var r=Object.assign({},t);return r.rel=e,r}))},y.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:y.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:y.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}},y.formatExtendedAttribute=function(t,e){var r=(e.encoding||"utf-8").toUpperCase();return t+"="+r+"'"+(e.language||"en")+"'"+(i.isBuffer(e.value)&&y.isCompatibleEncoding(r)?e.value.toString(r):i.isBuffer(e.value)?e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(e.value))},y.formatAttribute=function(t,e){return Array.isArray(e)?e.map((e=>y.formatAttribute(t,e))).join("; "):"*"===t[t.length-1]||"string"!=typeof e?y.formatExtendedAttribute(t,e):(y.isTokenAttr(t)?e=b(e)?'"'+y.escapeQuotes(e)+'"':y.escapeQuotes(e):b(e)&&(e='"'+(e=(e=encodeURIComponent(e)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),t+"="+e)},t.exports=y},251:(t,e)=>{e.read=function(t,e,r,i,n){var s,o,a=8*n-i-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?n-1:0,d=r?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=i;l>0;o=256*o+t[e+h],h+=d,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),s-=u}return(f?-1:1)*o*Math.pow(2,s-i)},e.write=function(t,e,r,i,n,s){var o,a,c,u=8*s-n-1,l=(1<<u)-1,h=l>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*c-1)*Math.pow(2,n),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;t[r+f]=255&a,f+=p,a/=256,n-=8);for(o=o<<n|a,u+=n;u>0;t[r+f]=255&o,f+=p,o/=256,u-=8);t[r+f-p]|=128*g}},9568:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Collection:()=>E,Iterable:()=>Ii,List:()=>nr,Map:()=>je,OrderedMap:()=>yr,OrderedSet:()=>si,PairSorting:()=>li,Range:()=>Ur,Record:()=>hi,Repeat:()=>yi,Seq:()=>K,Set:()=>kr,Stack:()=>Er,default:()=>Ei,fromJS:()=>mi,get:()=>ne,getIn:()=>qr,has:()=>ie,hasIn:()=>Gr,hash:()=>ft,is:()=>ut,isAssociative:()=>I,isCollection:()=>y,isImmutable:()=>D,isIndexed:()=>x,isKeyed:()=>v,isList:()=>ir,isMap:()=>ot,isOrdered:()=>j,isOrderedMap:()=>at,isOrderedSet:()=>Cr,isPlainObject:()=>te,isRecord:()=>C,isSeq:()=>O,isSet:()=>Nr,isStack:()=>Ir,isValueObject:()=>ct,merge:()=>ve,mergeDeep:()=>xe,mergeDeepWith:()=>Ie,mergeWith:()=>we,remove:()=>oe,removeIn:()=>de,set:()=>ae,setIn:()=>le,update:()=>pe,updateIn:()=>ce,version:()=>xi});var i="delete",n=32,s=31,o={};function a(t){t&&(t.value=!0)}function c(){}function u(t){return void 0===t.size&&(t.size=t.__iterate(h)),t.size}function l(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?u(t)+e:e}function h(){return!0}function d(t,e,r){return(0===t&&!_(t)||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function f(t,e){return g(t,e,0)}function p(t,e){return g(t,e,e)}function g(t,e,r){return void 0===t?r:_(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function _(t){return t<0||0===t&&1/t==-1/0}var b="@@__IMMUTABLE_ITERABLE__@@";function y(t){return Boolean(t&&t[b])}var m="@@__IMMUTABLE_KEYED__@@";function v(t){return Boolean(t&&t[m])}var w="@@__IMMUTABLE_INDEXED__@@";function x(t){return Boolean(t&&t[w])}function I(t){return v(t)||x(t)}var E=function(t){return y(t)?t:K(t)},S=function(t){function e(t){return v(t)?t:W(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E),T=function(t){function e(t){return x(t)?t:Q(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E),R=function(t){function e(t){return y(t)&&!I(t)?t:J(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(E);E.Keyed=S,E.Indexed=T,E.Set=R;var A="@@__IMMUTABLE_SEQ__@@";function O(t){return Boolean(t&&t[A])}var N="@@__IMMUTABLE_RECORD__@@";function C(t){return Boolean(t&&t[N])}function D(t){return y(t)||C(t)}var P="@@__IMMUTABLE_ORDERED__@@";function j(t){return Boolean(t&&t[P])}var k="function"==typeof Symbol&&Symbol.iterator,L="@@iterator",F=k||L,M=function(t){this.next=t};function B(t,e,r,i){var n=0===t?e:1===t?r:[e,r];return i?i.value=n:i={value:n,done:!1},i}function $(){return{value:void 0,done:!0}}function V(t){return!!Array.isArray(t)||!!H(t)}function U(t){return t&&"function"==typeof t.next}function q(t){var e=H(t);return e&&e.call(t)}function H(t){var e=t&&(k&&t[k]||t[L]);if("function"==typeof e)return e}M.prototype.toString=function(){return"[Iterator]"},M.KEYS=0,M.VALUES=1,M.ENTRIES=2,M.prototype.inspect=M.prototype.toSource=function(){return this.toString()},M.prototype[F]=function(){return this};var G=Object.prototype.hasOwnProperty;function z(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var K=function(t){function e(t){return null==t?et():D(t)?t.toSeq():function(t){var e=nt(t);if(e)return(i=H(r=t))&&i===r.entries?e.fromEntrySeq():function(t){var e=H(t);return e&&e===t.keys}(t)?e.toSetSeq():e;var r,i;if("object"==typeof t)return new Y(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var r=this._cache;if(r){for(var i=r.length,n=0;n!==i;){var s=r[e?i-++n:n++];if(!1===t(s[1],s[0],this))break}return n}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var r=this._cache;if(r){var i=r.length,n=0;return new M((function(){if(n===i)return{value:void 0,done:!0};var s=r[e?i-++n:n++];return B(t,s[0],s[1])}))}return this.__iteratorUncached(t,e)},e}(E),W=function(t){function e(t){return null==t?et().toKeyedSeq():y(t)?v(t)?t.toSeq():t.fromEntrySeq():C(t)?t.toSeq():rt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(K),Q=function(t){function e(t){return null==t?et():y(t)?v(t)?t.entrySeq():t.toIndexedSeq():C(t)?t.toSeq().entrySeq():it(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(K),J=function(t){function e(t){return(y(t)&&!I(t)?t:Q(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(K);K.isSeq=O,K.Keyed=W,K.Set=J,K.Indexed=Q,K.prototype[A]=!0;var X=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[l(this,t)]:e},e.prototype.__iterate=function(t,e){for(var r=this._array,i=r.length,n=0;n!==i;){var s=e?i-++n:n++;if(!1===t(r[s],s,this))break}return n},e.prototype.__iterator=function(t,e){var r=this._array,i=r.length,n=0;return new M((function(){if(n===i)return{value:void 0,done:!0};var s=e?i-++n:n++;return B(t,s,r[s])}))},e}(Q),Y=function(t){function e(t){var e=Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return G.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var r=this._object,i=this._keys,n=i.length,s=0;s!==n;){var o=i[e?n-++s:s++];if(!1===t(r[o],o,this))break}return s},e.prototype.__iterator=function(t,e){var r=this._object,i=this._keys,n=i.length,s=0;return new M((function(){if(s===n)return{value:void 0,done:!0};var o=i[e?n-++s:s++];return B(t,o,r[o])}))},e}(W);Y.prototype[P]=!0;var Z,tt=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=q(this._collection),i=0;if(U(r))for(var n;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=q(this._collection);if(!U(r))return new M($);var i=0;return new M((function(){var e=r.next();return e.done?e:B(t,i++,e.value)}))},e}(Q);function et(){return Z||(Z=new X([]))}function rt(t){var e=nt(t);if(e)return e.fromEntrySeq();if("object"==typeof t)return new Y(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function it(t){var e=nt(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function nt(t){return z(t)?new X(t):V(t)?new tt(t):void 0}var st="@@__IMMUTABLE_MAP__@@";function ot(t){return Boolean(t&&t[st])}function at(t){return ot(t)&&j(t)}function ct(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function ut(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(ct(t)&&ct(e)&&t.equals(e))}var lt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),i=65535&(e|=0);return r*i+((t>>>16)*i+r*(e>>>16)<<16>>>0)|0};function ht(t){return t>>>1&1073741824|3221225471&t}var dt=Object.prototype.valueOf;function ft(t){if(null==t)return pt(t);if("function"==typeof t.hashCode)return ht(t.hashCode(t));var e,r=(e=t).valueOf!==dt&&"function"==typeof e.valueOf?e.valueOf(e):e;if(null==r)return pt(r);switch(typeof r){case"boolean":return r?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return ht(e)}(r);case"string":return r.length>Et?function(t){var e=Rt[t];void 0===e&&(e=gt(t),Tt===St&&(Tt=0,Rt={}),Tt++,Rt[t]=e);return e}(r):gt(r);case"object":case"function":return function(t){var e;if(vt&&void 0!==(e=mt.get(t)))return e;if(e=t[It],void 0!==e)return e;if(!bt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[It]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=yt(),vt)mt.set(t,e);else{if(void 0!==_t&&!1===_t(t))throw new Error("Non-extensible objects are not allowed as keys.");if(bt)Object.defineProperty(t,It,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[It]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[It]=e}}return e}(r);case"symbol":return function(t){var e=wt[t];if(void 0!==e)return e;return e=yt(),wt[t]=e,e}(r);default:if("function"==typeof r.toString)return gt(r.toString());throw new Error("Value type "+typeof r+" cannot be hashed.")}}function pt(t){return null===t?1108378658:1108378659}function gt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return ht(e)}var _t=Object.isExtensible,bt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function yt(){var t=++xt;return 1073741824&xt&&(xt=0),t}var mt,vt="function"==typeof WeakMap;vt&&(mt=new WeakMap);var wt=Object.create(null),xt=0,It="__immutablehash__";"function"==typeof Symbol&&(It=Symbol(It));var Et=16,St=255,Tt=0,Rt={},At=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=jt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var r=this,i=Pt(this,t,e);return this._useKeys||(i.valueSeq=function(){return r._iter.toSeq().map(t,e)}),i},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e,i){return t(e,i,r)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(W);At.prototype[P]=!0;var Ot=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this,i=0;return e&&u(this),this._iter.__iterate((function(n){return t(n,e?r.size-++i:i++,r)}),e)},e.prototype.__iterator=function(t,e){var r=this,i=this._iter.__iterator(1,e),n=0;return e&&u(this),new M((function(){var s=i.next();return s.done?s:B(t,e?r.size-++n:n++,s.value,s)}))},e}(Q),Nt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){return t(e,e,r)}),e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e);return new M((function(){var e=r.next();return e.done?e:B(t,e.value,e.value,e)}))},e}(J),Ct=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate((function(e){if(e){Ht(e);var i=y(e);return t(i?e.get(1):e[1],i?e.get(0):e[0],r)}}),e)},e.prototype.__iterator=function(t,e){var r=this._iter.__iterator(1,e);return new M((function(){for(;;){var e=r.next();if(e.done)return e;var i=e.value;if(i){Ht(i);var n=y(i);return B(t,n?i.get(0):i[0],n?i.get(1):i[1],e)}}}))},e}(W);function Dt(t){var e=zt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Kt,e.__iterateUncached=function(e,r){var i=this;return t.__iterate((function(t,r){return!1!==e(r,t,i)}),r)},e.__iteratorUncached=function(e,r){if(2===e){var i=t.__iterator(e,r);return new M((function(){var t=i.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,r)},e}function Pt(t,e,r){var i=zt(t);return i.size=t.size,i.has=function(e){return t.has(e)},i.get=function(i,n){var s=t.get(i,o);return s===o?n:e.call(r,s,i,t)},i.__iterateUncached=function(i,n){var s=this;return t.__iterate((function(t,n,o){return!1!==i(e.call(r,t,n,o),n,s)}),n)},i.__iteratorUncached=function(i,n){var s=t.__iterator(2,n);return new M((function(){var n=s.next();if(n.done)return n;var o=n.value,a=o[0];return B(i,a,e.call(r,o[1],a,t),n)}))},i}function jt(t,e){var r=this,i=zt(t);return i._iter=t,i.size=t.size,i.reverse=function(){return t},t.flip&&(i.flip=function(){var e=Dt(t);return e.reverse=function(){return t.flip()},e}),i.get=function(r,i){return t.get(e?r:-1-r,i)},i.has=function(r){return t.has(e?r:-1-r)},i.includes=function(e){return t.includes(e)},i.cacheResult=Kt,i.__iterate=function(r,i){var n=this,s=0;return i&&u(t),t.__iterate((function(t,o){return r(t,e?o:i?n.size-++s:s++,n)}),!i)},i.__iterator=function(i,n){var s=0;n&&u(t);var o=t.__iterator(2,!n);return new M((function(){var t=o.next();if(t.done)return t;var a=t.value;return B(i,e?a[0]:n?r.size-++s:s++,a[1],t)}))},i}function kt(t,e,r,i){var n=zt(t);return i&&(n.has=function(i){var n=t.get(i,o);return n!==o&&!!e.call(r,n,i,t)},n.get=function(i,n){var s=t.get(i,o);return s!==o&&e.call(r,s,i,t)?s:n}),n.__iterateUncached=function(n,s){var o=this,a=0;return t.__iterate((function(t,s,c){if(e.call(r,t,s,c))return a++,n(t,i?s:a-1,o)}),s),a},n.__iteratorUncached=function(n,s){var o=t.__iterator(2,s),a=0;return new M((function(){for(;;){var s=o.next();if(s.done)return s;var c=s.value,u=c[0],l=c[1];if(e.call(r,l,u,t))return B(n,i?u:a++,l,s)}}))},n}function Lt(t,e,r,i){var n=t.size;if(d(e,r,n))return t;if(void 0===n&&(e<0||r<0))return Lt(t.toSeq().cacheResult(),e,r,i);var s,o=f(e,n),a=p(r,n)-o;a==a&&(s=a<0?0:a);var c=zt(t);return c.size=0===s?s:t.size&&s||void 0,!i&&O(t)&&s>=0&&(c.get=function(e,r){return(e=l(this,e))>=0&&e<s?t.get(e+o,r):r}),c.__iterateUncached=function(e,r){var n=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var a=0,c=!0,u=0;return t.__iterate((function(t,r){if(!c||!(c=a++<o))return u++,!1!==e(t,i?r:u-1,n)&&u!==s})),u},c.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);if(0===s)return new M($);var n=t.__iterator(e,r),a=0,c=0;return new M((function(){for(;a++<o;)n.next();if(++c>s)return{value:void 0,done:!0};var t=n.next();return i||1===e||t.done?t:B(e,c-1,0===e?void 0:t.value[1],t)}))},c}function Ft(t,e,r,i){var n=zt(t);return n.__iterateUncached=function(n,s){var o=this;if(s)return this.cacheResult().__iterate(n,s);var a=!0,c=0;return t.__iterate((function(t,s,u){if(!a||!(a=e.call(r,t,s,u)))return c++,n(t,i?s:c-1,o)})),c},n.__iteratorUncached=function(n,s){var o=this;if(s)return this.cacheResult().__iterator(n,s);var a=t.__iterator(2,s),c=!0,u=0;return new M((function(){var t,s,l;do{if((t=a.next()).done)return i||1===n?t:B(n,u++,0===n?void 0:t.value[1],t);var h=t.value;s=h[0],l=h[1],c&&(c=e.call(r,l,s,o))}while(c);return 2===n?t:B(n,s,l,t)}))},n}function Mt(t,e,r){var i=zt(t);return i.__iterateUncached=function(n,s){if(s)return this.cacheResult().__iterate(n,s);var o=0,a=!1;return function t(c,u){c.__iterate((function(s,c){return(!e||u<e)&&y(s)?t(s,u+1):(o++,!1===n(s,r?c:o-1,i)&&(a=!0)),!a}),s)}(t,0),o},i.__iteratorUncached=function(i,n){if(n)return this.cacheResult().__iterator(i,n);var s=t.__iterator(i,n),o=[],a=0;return new M((function(){for(;s;){var t=s.next();if(!1===t.done){var c=t.value;if(2===i&&(c=c[1]),e&&!(o.length<e)||!y(c))return r?t:B(i,a++,c,t);o.push(s),s=c.__iterator(i,n)}else s=o.pop()}return{value:void 0,done:!0}}))},i}function Bt(t,e,r){e||(e=Wt);var i=v(t),n=0,s=t.toSeq().map((function(e,i){return[i,e,n++,r?r(e,i,t):e]})).valueSeq().toArray();return s.sort((function(t,r){return e(t[3],r[3])||t[2]-r[2]})).forEach(i?function(t,e){s[e].length=2}:function(t,e){s[e]=t[1]}),i?W(s):x(t)?Q(s):J(s)}function $t(t,e,r){if(e||(e=Wt),r){var i=t.toSeq().map((function(e,i){return[e,r(e,i,t)]})).reduce((function(t,r){return Vt(e,t[1],r[1])?r:t}));return i&&i[0]}return t.reduce((function(t,r){return Vt(e,t,r)?r:t}))}function Vt(t,e,r){var i=t(r,e);return 0===i&&r!==e&&(null==r||r!=r)||i>0}function Ut(t,e,r,i){var n=zt(t),s=new X(r).map((function(t){return t.size}));return n.size=i?s.max():s.min(),n.__iterate=function(t,e){for(var r,i=this.__iterator(1,e),n=0;!(r=i.next()).done&&!1!==t(r.value,n++,this););return n},n.__iteratorUncached=function(t,n){var s=r.map((function(t){return t=E(t),q(n?t.reverse():t)})),o=0,a=!1;return new M((function(){var r;return a||(r=s.map((function(t){return t.next()})),a=i?r.every((function(t){return t.done})):r.some((function(t){return t.done}))),a?{value:void 0,done:!0}:B(t,o++,e.apply(null,r.map((function(t){return t.value}))))}))},n}function qt(t,e){return t===e?t:O(t)?e:t.constructor(e)}function Ht(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Gt(t){return v(t)?S:x(t)?T:R}function zt(t){return Object.create((v(t)?W:x(t)?Q:J).prototype)}function Kt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):K.prototype.cacheResult.call(this)}function Wt(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Qt(t,e){e=e||0;for(var r=Math.max(0,t.length-e),i=new Array(r),n=0;n<r;n++)i[n]=t[n+e];return i}function Jt(t,e){if(!t)throw new Error(e)}function Xt(t){Jt(t!==1/0,"Cannot perform this action with an infinite size.")}function Yt(t){if(z(t)&&"string"!=typeof t)return t;if(j(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}Ot.prototype.cacheResult=At.prototype.cacheResult=Nt.prototype.cacheResult=Ct.prototype.cacheResult=Kt;var Zt=Object.prototype.toString;function te(t){if(!t||"object"!=typeof t||"[object Object]"!==Zt.call(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var r=e,i=Object.getPrototypeOf(e);null!==i;)r=i,i=Object.getPrototypeOf(r);return r===e}function ee(t){return"object"==typeof t&&(D(t)||Array.isArray(t)||te(t))}function re(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function ie(t,e){return D(t)?t.has(e):ee(t)&&G.call(t,e)}function ne(t,e,r){return D(t)?t.get(e,r):ie(t,e)?"function"==typeof t.get?t.get(e):t[e]:r}function se(t){if(Array.isArray(t))return Qt(t);var e={};for(var r in t)G.call(t,r)&&(e[r]=t[r]);return e}function oe(t,e){if(!ee(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(D(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!G.call(t,e))return t;var r=se(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function ae(t,e,r){if(!ee(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(D(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(G.call(t,e)&&r===t[e])return t;var i=se(t);return i[e]=r,i}function ce(t,e,r,i){i||(i=r,r=void 0);var n=ue(D(t),t,Yt(e),0,r,i);return n===o?r:n}function ue(t,e,r,i,n,s){var a=e===o;if(i===r.length){var c=a?n:e,u=s(c);return u===c?e:u}if(!a&&!ee(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,i).map(re)+"]: "+e);var l=r[i],h=a?o:ne(e,l,o),d=ue(h===o?t:D(h),h,r,i+1,n,s);return d===h?e:d===o?oe(e,l):ae(a?t?ze():{}:e,l,d)}function le(t,e,r){return ce(t,e,o,(function(){return r}))}function he(t,e){return le(this,t,e)}function de(t,e){return ce(t,e,(function(){return o}))}function fe(t){return de(this,t)}function pe(t,e,r,i){return ce(t,[e],r,i)}function ge(t,e,r){return 1===arguments.length?t(this):pe(this,t,e,r)}function _e(t,e,r){return ce(this,t,e,r)}function be(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return me(this,t)}function ye(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return me(this,e,t)}function me(t,e,r){for(var i=[],n=0;n<e.length;n++){var s=S(e[n]);0!==s.size&&i.push(s)}return 0===i.length?t:0!==t.toSeq().size||t.__ownerID||1!==i.length?t.withMutations((function(t){for(var e=r?function(e,i){pe(t,i,o,(function(t){return t===o?e:r(t,e,i)}))}:function(e,r){t.set(r,e)},n=0;n<i.length;n++)i[n].forEach(e)})):t.constructor(i[0])}function ve(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Se(t,e)}function we(t,e){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];return Se(e,r,t)}function xe(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ee(t,e)}function Ie(t,e){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];return Ee(e,r,t)}function Ee(t,e,r){return Se(t,e,function(t){function e(r,i,n){return ee(r)&&ee(i)&&(s=i,o=K(r),a=K(s),x(o)===x(a)&&v(o)===v(a))?Se(r,[i],e):t?t(r,i,n):i;var s,o,a}return e}(r))}function Se(t,e,r){if(!ee(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(D(t))return"function"==typeof r&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var i=Array.isArray(t),n=t,s=i?T:S,o=i?function(e){n===t&&(n=se(n)),n.push(e)}:function(e,i){var s=G.call(n,i),o=s&&r?r(n[i],e,i):e;s&&o===n[i]||(n===t&&(n=se(n)),n[i]=o)},a=0;a<e.length;a++)s(e[a]).forEach(o);return n}function Te(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ee(this,t)}function Re(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Ee(this,e,t)}function Ae(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return ce(this,t,ze(),(function(t){return Se(t,e)}))}function Oe(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return ce(this,t,ze(),(function(t){return Ee(t,e)}))}function Ne(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Ce(){return this.__ownerID?this:this.__ensureOwner(new c)}function De(){return this.__ensureOwner()}function Pe(){return this.__altered}var je=function(t){function e(e){return null==e?ze():ot(e)&&!j(e)?e:ze().withMutations((function(r){var i=t(e);Xt(i.size),i.forEach((function(t,e){return r.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ze().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return Ke(this,t,e)},e.prototype.remove=function(t){return Ke(this,t,o)},e.prototype.deleteAll=function(t){var e=E(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ze()},e.prototype.sort=function(t){return yr(Bt(this,t))},e.prototype.sortBy=function(t,e){return yr(Bt(this,e,t))},e.prototype.map=function(t,e){var r=this;return this.withMutations((function(i){i.forEach((function(n,s){i.set(s,t.call(e,n,s,r))}))}))},e.prototype.__iterator=function(t,e){return new Ue(this,t,e)},e.prototype.__iterate=function(t,e){var r=this,i=0;return this._root&&this._root.iterate((function(e){return i++,t(e[1],e[0],r)}),e),i},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ge(this.size,this._root,t,this.__hash):0===this.size?ze():(this.__ownerID=t,this.__altered=!1,this)},e}(S);je.isMap=ot;var ke=je.prototype;ke[st]=!0,ke[i]=ke.remove,ke.removeAll=ke.deleteAll,ke.setIn=he,ke.removeIn=ke.deleteIn=fe,ke.update=ge,ke.updateIn=_e,ke.merge=ke.concat=be,ke.mergeWith=ye,ke.mergeDeep=Te,ke.mergeDeepWith=Re,ke.mergeIn=Ae,ke.mergeDeepIn=Oe,ke.withMutations=Ne,ke.wasAltered=Pe,ke.asImmutable=De,ke["@@transducer/init"]=ke.asMutable=Ce,ke["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},ke["@@transducer/result"]=function(t){return t.asImmutable()};var Le=function(t,e){this.ownerID=t,this.entries=e};Le.prototype.get=function(t,e,r,i){for(var n=this.entries,s=0,o=n.length;s<o;s++)if(ut(r,n[s][0]))return n[s][1];return i},Le.prototype.update=function(t,e,r,i,n,s,u){for(var l=n===o,h=this.entries,d=0,f=h.length;d<f&&!ut(i,h[d][0]);d++);var p=d<f;if(p?h[d][1]===n:l)return this;if(a(u),(l||!p)&&a(s),!l||1!==h.length){if(!p&&!l&&h.length>=Ze)return function(t,e,r,i){t||(t=new c);for(var n=new $e(t,ft(r),[r,i]),s=0;s<e.length;s++){var o=e[s];n=n.update(t,0,void 0,o[0],o[1])}return n}(t,h,i,n);var g=t&&t===this.ownerID,_=g?h:Qt(h);return p?l?d===f-1?_.pop():_[d]=_.pop():_[d]=[i,n]:_.push([i,n]),g?(this.entries=_,this):new Le(t,_)}};var Fe=function(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r};Fe.prototype.get=function(t,e,r,i){void 0===e&&(e=ft(r));var n=1<<((0===t?e:e>>>t)&s),o=this.bitmap;return o&n?this.nodes[Xe(o&n-1)].get(t+5,e,r,i):i},Fe.prototype.update=function(t,e,r,i,a,c,u){void 0===r&&(r=ft(i));var l=(0===e?r:r>>>e)&s,h=1<<l,d=this.bitmap,f=!!(d&h);if(!f&&a===o)return this;var p=Xe(d&h-1),g=this.nodes,_=f?g[p]:void 0,b=We(_,t,e+5,r,i,a,c,u);if(b===_)return this;if(!f&&b&&g.length>=tr)return function(t,e,r,i,s){for(var o=0,a=new Array(n),c=0;0!==r;c++,r>>>=1)a[c]=1&r?e[o++]:void 0;return a[i]=s,new Me(t,o+1,a)}(t,g,d,l,b);if(f&&!b&&2===g.length&&Qe(g[1^p]))return g[1^p];if(f&&b&&1===g.length&&Qe(b))return b;var y=t&&t===this.ownerID,m=f?b?d:d^h:d|h,v=f?b?Ye(g,p,b,y):function(t,e,r){var i=t.length-1;if(r&&e===i)return t.pop(),t;for(var n=new Array(i),s=0,o=0;o<i;o++)o===e&&(s=1),n[o]=t[o+s];return n}(g,p,y):function(t,e,r,i){var n=t.length+1;if(i&&e+1===n)return t[e]=r,t;for(var s=new Array(n),o=0,a=0;a<n;a++)a===e?(s[a]=r,o=-1):s[a]=t[a+o];return s}(g,p,b,y);return y?(this.bitmap=m,this.nodes=v,this):new Fe(t,m,v)};var Me=function(t,e,r){this.ownerID=t,this.count=e,this.nodes=r};Me.prototype.get=function(t,e,r,i){void 0===e&&(e=ft(r));var n=(0===t?e:e>>>t)&s,o=this.nodes[n];return o?o.get(t+5,e,r,i):i},Me.prototype.update=function(t,e,r,i,n,a,c){void 0===r&&(r=ft(i));var u=(0===e?r:r>>>e)&s,l=n===o,h=this.nodes,d=h[u];if(l&&!d)return this;var f=We(d,t,e+5,r,i,n,a,c);if(f===d)return this;var p=this.count;if(d){if(!f&&--p<er)return function(t,e,r,i){for(var n=0,s=0,o=new Array(r),a=0,c=1,u=e.length;a<u;a++,c<<=1){var l=e[a];void 0!==l&&a!==i&&(n|=c,o[s++]=l)}return new Fe(t,n,o)}(t,h,p,u)}else p++;var g=t&&t===this.ownerID,_=Ye(h,u,f,g);return g?(this.count=p,this.nodes=_,this):new Me(t,p,_)};var Be=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r};Be.prototype.get=function(t,e,r,i){for(var n=this.entries,s=0,o=n.length;s<o;s++)if(ut(r,n[s][0]))return n[s][1];return i},Be.prototype.update=function(t,e,r,i,n,s,c){void 0===r&&(r=ft(i));var u=n===o;if(r!==this.keyHash)return u?this:(a(c),a(s),Je(this,t,e,r,[i,n]));for(var l=this.entries,h=0,d=l.length;h<d&&!ut(i,l[h][0]);h++);var f=h<d;if(f?l[h][1]===n:u)return this;if(a(c),(u||!f)&&a(s),u&&2===d)return new $e(t,this.keyHash,l[1^h]);var p=t&&t===this.ownerID,g=p?l:Qt(l);return f?u?h===d-1?g.pop():g[h]=g.pop():g[h]=[i,n]:g.push([i,n]),p?(this.entries=g,this):new Be(t,this.keyHash,g)};var $e=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r};$e.prototype.get=function(t,e,r,i){return ut(r,this.entry[0])?this.entry[1]:i},$e.prototype.update=function(t,e,r,i,n,s,c){var u=n===o,l=ut(i,this.entry[0]);return(l?n===this.entry[1]:u)?this:(a(c),u?void a(s):l?t&&t===this.ownerID?(this.entry[1]=n,this):new $e(t,this.keyHash,[i,n]):(a(s),Je(this,t,e,ft(i),[i,n])))},Le.prototype.iterate=Be.prototype.iterate=function(t,e){for(var r=this.entries,i=0,n=r.length-1;i<=n;i++)if(!1===t(r[e?n-i:i]))return!1},Fe.prototype.iterate=Me.prototype.iterate=function(t,e){for(var r=this.nodes,i=0,n=r.length-1;i<=n;i++){var s=r[e?n-i:i];if(s&&!1===s.iterate(t,e))return!1}},$e.prototype.iterate=function(t,e){return t(this.entry)};var Ve,Ue=function(t){function e(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&He(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r=e.node,i=e.index++,n=void 0;if(r.entry){if(0===i)return qe(t,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return qe(t,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var s=r.nodes[this._reverse?n-i:i];if(s){if(s.entry)return qe(t,s.entry);e=this._stack=He(s,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(M);function qe(t,e){return B(t,e[0],e[1])}function He(t,e){return{node:t,index:0,__prev:e}}function Ge(t,e,r,i){var n=Object.create(ke);return n.size=t,n._root=e,n.__ownerID=r,n.__hash=i,n.__altered=!1,n}function ze(){return Ve||(Ve=Ge(0))}function Ke(t,e,r){var i,n;if(t._root){var s={value:!1},a={value:!1};if(i=We(t._root,t.__ownerID,0,void 0,e,r,s,a),!a.value)return t;n=t.size+(s.value?r===o?-1:1:0)}else{if(r===o)return t;n=1,i=new Le(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=n,t._root=i,t.__hash=void 0,t.__altered=!0,t):i?Ge(n,i):ze()}function We(t,e,r,i,n,s,c,u){return t?t.update(e,r,i,n,s,c,u):s===o?t:(a(u),a(c),new $e(e,i,[n,s]))}function Qe(t){return t.constructor===$e||t.constructor===Be}function Je(t,e,r,i,n){if(t.keyHash===i)return new Be(e,i,[t.entry,n]);var o,a=(0===r?t.keyHash:t.keyHash>>>r)&s,c=(0===r?i:i>>>r)&s,u=a===c?[Je(t,e,r+5,i,n)]:(o=new $e(e,i,n),a<c?[t,o]:[o,t]);return new Fe(e,1<<a|1<<c,u)}function Xe(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Ye(t,e,r,i){var n=i?t:Qt(t);return n[e]=r,n}var Ze=8,tr=16,er=8,rr="@@__IMMUTABLE_LIST__@@";function ir(t){return Boolean(t&&t[rr])}var nr=function(t){function e(e){var r=hr();if(null==e)return r;if(ir(e))return e;var i=t(e),s=i.size;return 0===s?r:(Xt(s),s>0&&s<n?lr(0,s,5,null,new or(i.toArray())):r.withMutations((function(t){t.setSize(s),i.forEach((function(e,r){return t.set(r,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=l(this,t))>=0&&t<this.size){var r=pr(this,t+=this._origin);return r&&r.array[t&s]}return e},e.prototype.set=function(t,e){return function(t,e,r){if(e=l(t,e),e!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?gr(t,e).set(0,r):gr(t,0,e+1).set(e,r)}));e+=t._origin;var i=t._tail,n=t._root,s={value:!1};e>=_r(t._capacity)?i=dr(i,t.__ownerID,0,e,r,s):n=dr(n,t.__ownerID,t._level,e,r,s);if(!s.value)return t;if(t.__ownerID)return t._root=n,t._tail=i,t.__hash=void 0,t.__altered=!0,t;return lr(t._origin,t._capacity,t._level,n,i)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):hr()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(r){gr(r,0,e+t.length);for(var i=0;i<t.length;i++)r.set(e+i,t[i])}))},e.prototype.pop=function(){return gr(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){gr(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])}))},e.prototype.shift=function(){return gr(this,1)},e.prototype.concat=function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++){var n=e[i],s=t("string"!=typeof n&&V(n)?n:[n]);0!==s.size&&r.push(s)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(t){r.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(r[0])},e.prototype.setSize=function(t){return gr(this,0,t)},e.prototype.map=function(t,e){var r=this;return this.withMutations((function(i){for(var n=0;n<r.size;n++)i.set(n,t.call(e,i.get(n),n,r))}))},e.prototype.slice=function(t,e){var r=this.size;return d(t,e,r)?this:gr(this,f(t,r),p(e,r))},e.prototype.__iterator=function(t,e){var r=e?this.size:0,i=ur(this,e);return new M((function(){var n=i();return n===cr?{value:void 0,done:!0}:B(t,e?--r:r++,n)}))},e.prototype.__iterate=function(t,e){for(var r,i=e?this.size:0,n=ur(this,e);(r=n())!==cr&&!1!==t(r,e?--i:i++,this););return i},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?lr(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?hr():(this.__ownerID=t,this.__altered=!1,this)},e}(T);nr.isList=ir;var sr=nr.prototype;sr[rr]=!0,sr[i]=sr.remove,sr.merge=sr.concat,sr.setIn=he,sr.deleteIn=sr.removeIn=fe,sr.update=ge,sr.updateIn=_e,sr.mergeIn=Ae,sr.mergeDeepIn=Oe,sr.withMutations=Ne,sr.wasAltered=Pe,sr.asImmutable=De,sr["@@transducer/init"]=sr.asMutable=Ce,sr["@@transducer/step"]=function(t,e){return t.push(e)},sr["@@transducer/result"]=function(t){return t.asImmutable()};var or=function(t,e){this.array=t,this.ownerID=e};or.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var i=r>>>e&s;if(i>=this.array.length)return new or([],t);var n,o=0===i;if(e>0){var a=this.array[i];if((n=a&&a.removeBefore(t,e-5,r))===a&&o)return this}if(o&&!n)return this;var c=fr(this,t);if(!o)for(var u=0;u<i;u++)c.array[u]=void 0;return n&&(c.array[i]=n),c},or.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var i,n=r-1>>>e&s;if(n>=this.array.length)return this;if(e>0){var o=this.array[n];if((i=o&&o.removeAfter(t,e-5,r))===o&&n===this.array.length-1)return this}var a=fr(this,t);return a.array.splice(n+1),i&&(a.array[n]=i),a};var ar,cr={};function ur(t,e){var r=t._origin,i=t._capacity,s=_r(i),o=t._tail;return a(t._root,t._level,0);function a(t,c,u){return 0===c?function(t,a){var c=a===s?o&&o.array:t&&t.array,u=a>r?0:r-a,l=i-a;l>n&&(l=n);return function(){if(u===l)return cr;var t=e?--l:u++;return c&&c[t]}}(t,u):function(t,s,o){var c,u=t&&t.array,l=o>r?0:r-o>>s,h=1+(i-o>>s);h>n&&(h=n);return function(){for(;;){if(c){var t=c();if(t!==cr)return t;c=null}if(l===h)return cr;var r=e?--h:l++;c=a(u&&u[r],s-5,o+(r<<s))}}}(t,c,u)}}function lr(t,e,r,i,n,s,o){var a=Object.create(sr);return a.size=e-t,a._origin=t,a._capacity=e,a._level=r,a._root=i,a._tail=n,a.__ownerID=s,a.__hash=o,a.__altered=!1,a}function hr(){return ar||(ar=lr(0,0,5))}function dr(t,e,r,i,n,o){var c,u=i>>>r&s,l=t&&u<t.array.length;if(!l&&void 0===n)return t;if(r>0){var h=t&&t.array[u],d=dr(h,e,r-5,i,n,o);return d===h?t:((c=fr(t,e)).array[u]=d,c)}return l&&t.array[u]===n?t:(o&&a(o),c=fr(t,e),void 0===n&&u===c.array.length-1?c.array.pop():c.array[u]=n,c)}function fr(t,e){return e&&t&&e===t.ownerID?t:new or(t?t.array.slice():[],e)}function pr(t,e){if(e>=_r(t._capacity))return t._tail;if(e<1<<t._level+5){for(var r=t._root,i=t._level;r&&i>0;)r=r.array[e>>>i&s],i-=5;return r}}function gr(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var i=t.__ownerID||new c,n=t._origin,o=t._capacity,a=n+e,u=void 0===r?o:r<0?o+r:n+r;if(a===n&&u===o)return t;if(a>=u)return t.clear();for(var l=t._level,h=t._root,d=0;a+d<0;)h=new or(h&&h.array.length?[void 0,h]:[],i),d+=1<<(l+=5);d&&(a+=d,n+=d,u+=d,o+=d);for(var f=_r(o),p=_r(u);p>=1<<l+5;)h=new or(h&&h.array.length?[h]:[],i),l+=5;var g=t._tail,_=p<f?pr(t,u-1):p>f?new or([],i):g;if(g&&p>f&&a<o&&g.array.length){for(var b=h=fr(h,i),y=l;y>5;y-=5){var m=f>>>y&s;b=b.array[m]=fr(b.array[m],i)}b.array[f>>>5&s]=g}if(u<o&&(_=_&&_.removeAfter(i,0,u)),a>=p)a-=p,u-=p,l=5,h=null,_=_&&_.removeBefore(i,0,a);else if(a>n||p<f){for(d=0;h;){var v=a>>>l&s;if(v!==p>>>l&s)break;v&&(d+=(1<<l)*v),l-=5,h=h.array[v]}h&&a>n&&(h=h.removeBefore(i,l,a-d)),h&&p<f&&(h=h.removeAfter(i,l,p-d)),d&&(a-=d,u-=d)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=l,t._root=h,t._tail=_,t.__hash=void 0,t.__altered=!0,t):lr(a,u,l,h,_)}function _r(t){return t<n?0:t-1>>>5<<5}var br,yr=function(t){function e(t){return null==t?vr():at(t)?t:vr().withMutations((function(e){var r=S(t);Xt(r.size),r.forEach((function(t,r){return e.set(r,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):vr()},e.prototype.set=function(t,e){return wr(this,t,e)},e.prototype.remove=function(t){return wr(this,t,o)},e.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],r)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?mr(e,r,t,this.__hash):0===this.size?vr():(this.__ownerID=t,this.__altered=!1,this._map=e,this._list=r,this)},e}(je);function mr(t,e,r,i){var n=Object.create(yr.prototype);return n.size=t?t.size:0,n._map=t,n._list=e,n.__ownerID=r,n.__hash=i,n.__altered=!1,n}function vr(){return br||(br=mr(ze(),hr()))}function wr(t,e,r){var i,s,a=t._map,c=t._list,u=a.get(e),l=void 0!==u;if(r===o){if(!l)return t;c.size>=n&&c.size>=2*a.size?(i=(s=c.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(i.__ownerID=s.__ownerID=t.__ownerID)):(i=a.remove(e),s=u===c.size-1?c.pop():c.set(u,void 0))}else if(l){if(r===c.get(u)[1])return t;i=a,s=c.set(u,[e,r])}else i=a.set(e,c.size),s=c.set(c.size,[e,r]);return t.__ownerID?(t.size=i.size,t._map=i,t._list=s,t.__hash=void 0,t.__altered=!0,t):mr(i,s)}yr.isOrderedMap=at,yr.prototype[P]=!0,yr.prototype[i]=yr.prototype.remove;var xr="@@__IMMUTABLE_STACK__@@";function Ir(t){return Boolean(t&&t[xr])}var Er=function(t){function e(t){return null==t?Ar():Ir(t)?t:Ar().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var r=this._head;for(t=l(this,t);r&&t--;)r=r.next;return r?r.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,r=this._head,i=arguments.length-1;i>=0;i--)r={value:t[i],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Rr(e,r)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&Ir(e))return e;Xt(e.size);var r=this.size,i=this._head;return e.__iterate((function(t){r++,i={value:t,next:i}}),!0),this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Rr(r,i)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ar()},e.prototype.slice=function(e,r){if(d(e,r,this.size))return this;var i=f(e,this.size);if(p(r,this.size)!==this.size)return t.prototype.slice.call(this,e,r);for(var n=this.size-i,s=this._head;i--;)s=s.next;return this.__ownerID?(this.size=n,this._head=s,this.__hash=void 0,this.__altered=!0,this):Rr(n,s)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Rr(this.size,this._head,t,this.__hash):0===this.size?Ar():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var r=this;if(e)return new X(this.toArray()).__iterate((function(e,i){return t(e,i,r)}),e);for(var i=0,n=this._head;n&&!1!==t(n.value,i++,this);)n=n.next;return i},e.prototype.__iterator=function(t,e){if(e)return new X(this.toArray()).__iterator(t,e);var r=0,i=this._head;return new M((function(){if(i){var e=i.value;return i=i.next,B(t,r++,e)}return{value:void 0,done:!0}}))},e}(T);Er.isStack=Ir;var Sr,Tr=Er.prototype;function Rr(t,e,r,i){var n=Object.create(Tr);return n.size=t,n._head=e,n.__ownerID=r,n.__hash=i,n.__altered=!1,n}function Ar(){return Sr||(Sr=Rr(0))}Tr[xr]=!0,Tr.shift=Tr.pop,Tr.unshift=Tr.push,Tr.unshiftAll=Tr.pushAll,Tr.withMutations=Ne,Tr.wasAltered=Pe,Tr.asImmutable=De,Tr["@@transducer/init"]=Tr.asMutable=Ce,Tr["@@transducer/step"]=function(t,e){return t.unshift(e)},Tr["@@transducer/result"]=function(t){return t.asImmutable()};var Or="@@__IMMUTABLE_SET__@@";function Nr(t){return Boolean(t&&t[Or])}function Cr(t){return Nr(t)&&j(t)}function Dr(t,e){if(t===e)return!0;if(!y(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||v(t)!==v(e)||x(t)!==x(e)||j(t)!==j(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!I(t);if(j(t)){var i=t.entries();return e.every((function(t,e){var n=i.next().value;return n&&ut(n[1],t)&&(r||ut(n[0],e))}))&&i.next().done}var n=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{n=!0;var s=t;t=e,e=s}var a=!0,c=e.__iterate((function(e,i){if(r?!t.has(e):n?!ut(e,t.get(i,o)):!ut(t.get(i,o),e))return a=!1,!1}));return a&&t.size===c}function Pr(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function jr(t){if(!t||"object"!=typeof t)return t;if(!y(t)){if(!ee(t))return t;t=K(t)}if(v(t)){var e={};return t.__iterate((function(t,r){e[r]=jr(t)})),e}var r=[];return t.__iterate((function(t){r.push(jr(t))})),r}var kr=function(t){function e(e){return null==e?$r():Nr(e)&&!j(e)?e:$r().withMutations((function(r){var i=t(e);Xt(i.size),i.forEach((function(t){return r.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(S(t).keySeq())},e.intersect=function(t){return(t=E(t).toArray()).length?Fr.intersect.apply(e(t.pop()),t):$r()},e.union=function(t){return(t=E(t).toArray()).length?Fr.union.apply(e(t.pop()),t):$r()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Mr(this,this._map.set(t,t))},e.prototype.remove=function(t){return Mr(this,this._map.remove(t))},e.prototype.clear=function(){return Mr(this,this._map.clear())},e.prototype.map=function(t,e){var r=this,i=!1,n=Mr(this,this._map.mapEntries((function(n){var s=n[1],o=t.call(e,s,s,r);return o!==s&&(i=!0),[o,o]}),e));return i?n:this},e.prototype.union=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(r){for(var i=0;i<e.length;i++)"string"==typeof e[i]?r.add(e[i]):t(e[i]).forEach((function(t){return r.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var i=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||i.push(t)})),this.withMutations((function(t){i.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var i=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&i.push(t)})),this.withMutations((function(t){i.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return si(Bt(this,t))},e.prototype.sortBy=function(t,e){return si(Bt(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate((function(e){return t(e,e,r)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(R);kr.isSet=Nr;var Lr,Fr=kr.prototype;function Mr(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Br(t,e){var r=Object.create(Fr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function $r(){return Lr||(Lr=Br(ze()))}Fr[Or]=!0,Fr[i]=Fr.remove,Fr.merge=Fr.concat=Fr.union,Fr.withMutations=Ne,Fr.asImmutable=De,Fr["@@transducer/init"]=Fr.asMutable=Ce,Fr["@@transducer/step"]=function(t,e){return t.add(e)},Fr["@@transducer/result"]=function(t){return t.asImmutable()},Fr.__empty=$r,Fr.__make=Br;var Vr,Ur=function(t){function e(t,r,i){if(!(this instanceof e))return new e(t,r,i);if(Jt(0!==i,"Cannot step a Range by 0"),t=t||0,void 0===r&&(r=1/0),i=void 0===i?1:Math.abs(i),r<t&&(i=-i),this._start=t,this._end=r,this._step=i,this.size=Math.max(0,Math.ceil((r-t)/i-1)+1),0===this.size){if(Vr)return Vr;Vr=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+l(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,r){return d(t,r,this.size)?this:(t=f(t,this.size),(r=p(r,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(r,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var r=this.size,i=this._step,n=e?this._start+(r-1)*i:this._start,s=0;s!==r&&!1!==t(n,e?r-++s:s++,this);)n+=e?-i:i;return s},e.prototype.__iterator=function(t,e){var r=this.size,i=this._step,n=e?this._start+(r-1)*i:this._start,s=0;return new M((function(){if(s===r)return{value:void 0,done:!0};var o=n;return n+=e?-i:i,B(t,e?r-++s:s++,o)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:Dr(this,t)},e}(Q);function qr(t,e,r){for(var i=Yt(e),n=0;n!==i.length;)if((t=ne(t,i[n++],o))===o)return r;return t}function Hr(t,e){return qr(this,t,e)}function Gr(t,e){return qr(t,e,o)!==o}function zr(){Xt(this.size);var t={};return this.__iterate((function(e,r){t[r]=e})),t}E.isIterable=y,E.isKeyed=v,E.isIndexed=x,E.isAssociative=I,E.isOrdered=j,E.Iterator=M,Pr(E,{toArray:function(){Xt(this.size);var t=new Array(this.size||0),e=v(this),r=0;return this.__iterate((function(i,n){t[r++]=e?[n,i]:i})),t},toIndexedSeq:function(){return new Ot(this)},toJS:function(){return jr(this)},toKeyedSeq:function(){return new At(this,!0)},toMap:function(){return je(this.toKeyedSeq())},toObject:zr,toOrderedMap:function(){return yr(this.toKeyedSeq())},toOrderedSet:function(){return si(v(this)?this.valueSeq():this)},toSet:function(){return kr(v(this)?this.valueSeq():this)},toSetSeq:function(){return new Nt(this)},toSeq:function(){return x(this)?this.toIndexedSeq():v(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Er(v(this)?this.valueSeq():this)},toList:function(){return nr(v(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return qt(this,function(t,e){var r=v(t),i=[t].concat(e).map((function(t){return y(t)?r&&(t=S(t)):t=r?rt(t):it(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===i.length)return t;if(1===i.length){var n=i[0];if(n===t||r&&v(n)||x(t)&&x(n))return n}var s=new X(i);return r?s=s.toKeyedSeq():x(t)||(s=s.toSetSeq()),(s=s.flatten(!0)).size=i.reduce((function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}}),0),s}(this,t))},includes:function(t){return this.some((function(e){return ut(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Xt(this.size);var r=!0;return this.__iterate((function(i,n,s){if(!t.call(e,i,n,s))return r=!1,!1})),r},filter:function(t,e){return qt(this,kt(this,t,e,!0))},partition:function(t,e){return function(t,e,r){var i=v(t),n=[[],[]];t.__iterate((function(s,o){n[e.call(r,s,o,t)?1:0].push(i?[o,s]:s)}));var s=Gt(t);return n.map((function(e){return qt(t,s(e))}))}(this,t,e)},find:function(t,e,r){var i=this.findEntry(t,e);return i?i[1]:r},forEach:function(t,e){return Xt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Xt(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate((function(i){r?r=!1:e+=t,e+=null!=i?i.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return qt(this,Pt(this,t,e))},reduce:function(t,e,r){return Xr(this,t,e,r,arguments.length<2,!1)},reduceRight:function(t,e,r){return Xr(this,t,e,r,arguments.length<2,!0)},reverse:function(){return qt(this,jt(this,!0))},slice:function(t,e){return qt(this,Lt(this,t,e,!0))},some:function(t,e){Xt(this.size);var r=!1;return this.__iterate((function(i,n,s){if(t.call(e,i,n,s))return r=!0,!1})),r},sort:function(t){return qt(this,Bt(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return u(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var i=je().asMutable();return t.__iterate((function(n,s){i.update(e.call(r,n,s,t),0,(function(t){return t+1}))})),i.asImmutable()}(this,t,e)},equals:function(t){return Dr(this,t)},entrySeq:function(){var t=this;if(t._cache)return new X(t._cache);var e=t.toSeq().map(Zr).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(ti(t),e)},findEntry:function(t,e,r){var i=r;return this.__iterate((function(r,n,s){if(t.call(e,r,n,s))return i=[n,r],!1})),i},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(h,null,t)},flatMap:function(t,e){return qt(this,function(t,e,r){var i=Gt(t);return t.toSeq().map((function(n,s){return i(e.call(r,n,s,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return qt(this,Mt(this,t,!0))},fromEntrySeq:function(){return new Ct(this)},get:function(t,e){return this.find((function(e,r){return ut(r,t)}),void 0,e)},getIn:Hr,groupBy:function(t,e){return function(t,e,r){var i=v(t),n=(j(t)?yr():je()).asMutable();t.__iterate((function(s,o){n.update(e.call(r,s,o,t),(function(t){return(t=t||[]).push(i?[o,s]:s),t}))}));var s=Gt(t);return n.map((function(e){return qt(t,s(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,o)!==o},hasIn:function(t){return Gr(this,t)},isSubset:function(t){return t="function"==typeof t.includes?t:E(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:E(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return ut(e,t)}))},keySeq:function(){return this.toSeq().map(Yr).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return $t(this,t)},maxBy:function(t,e){return $t(this,e,t)},min:function(t){return $t(this,t?ei(t):ii)},minBy:function(t,e){return $t(this,e?ei(e):ii,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return qt(this,Ft(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(ti(t),e)},sortBy:function(t,e){return qt(this,Bt(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return qt(this,function(t,e,r){var i=zt(t);return i.__iterateUncached=function(i,n){var s=this;if(n)return this.cacheResult().__iterate(i,n);var o=0;return t.__iterate((function(t,n,a){return e.call(r,t,n,a)&&++o&&i(t,n,s)})),o},i.__iteratorUncached=function(i,n){var s=this;if(n)return this.cacheResult().__iterator(i,n);var o=t.__iterator(2,n),a=!0;return new M((function(){if(!a)return{value:void 0,done:!0};var t=o.next();if(t.done)return t;var n=t.value,c=n[0],u=n[1];return e.call(r,u,c,s)?2===i?t:B(i,c,u,t):(a=!1,{value:void 0,done:!0})}))},i}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(ti(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=j(t),r=v(t),i=e?1:0;return function(t,e){return e=lt(e,3432918353),e=lt(e<<15|e>>>-15,461845907),e=lt(e<<13|e>>>-13,5),e=e+3864292196^t,e=lt(e^e>>>16,2246822507),e=lt(e^e>>>13,3266489909),e=ht(e^e>>>16),e}(t.__iterate(r?e?function(t,e){i=31*i+ni(ft(t),ft(e))|0}:function(t,e){i=i+ni(ft(t),ft(e))|0}:e?function(t){i=31*i+ft(t)|0}:function(t){i=i+ft(t)|0}),i)}(this))}});var Kr=E.prototype;Kr[b]=!0,Kr[F]=Kr.values,Kr.toJSON=Kr.toArray,Kr.__toStringMapper=re,Kr.inspect=Kr.toSource=function(){return this.toString()},Kr.chain=Kr.flatMap,Kr.contains=Kr.includes,Pr(S,{flip:function(){return qt(this,Dt(this))},mapEntries:function(t,e){var r=this,i=0;return qt(this,this.toSeq().map((function(n,s){return t.call(e,[s,n],i++,r)})).fromEntrySeq())},mapKeys:function(t,e){var r=this;return qt(this,this.toSeq().flip().map((function(i,n){return t.call(e,i,n,r)})).flip())}});var Wr=S.prototype;Wr[m]=!0,Wr[F]=Kr.entries,Wr.toJSON=zr,Wr.__toStringMapper=function(t,e){return re(e)+": "+re(t)},Pr(T,{toKeyedSeq:function(){return new At(this,!1)},filter:function(t,e){return qt(this,kt(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return qt(this,jt(this,!1))},slice:function(t,e){return qt(this,Lt(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(e||0,0),0===r||2===r&&!e)return this;t=f(t,t<0?this.count():this.size);var i=this.slice(0,t);return qt(this,1===r?i:i.concat(Qt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return qt(this,Mt(this,t,!1))},get:function(t,e){return(t=l(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,r){return r===t}),void 0,e)},has:function(t){return(t=l(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return qt(this,function(t,e){var r=zt(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,i){var n=this,s=0;return t.__iterate((function(t){return(!s||!1!==r(e,s++,n))&&!1!==r(t,s++,n)}),i),s},r.__iteratorUncached=function(r,i){var n,s=t.__iterator(1,i),o=0;return new M((function(){return(!n||o%2)&&(n=s.next()).done?n:o%2?B(r,o++,e):B(r,o++,n.value,n)}))},r}(this,t))},interleave:function(){var t=[this].concat(Qt(arguments)),e=Ut(this.toSeq(),Q.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),qt(this,r)},keySeq:function(){return Ur(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return qt(this,Ft(this,t,e,!1))},zip:function(){return qt(this,Ut(this,ri,[this].concat(Qt(arguments))))},zipAll:function(){return qt(this,Ut(this,ri,[this].concat(Qt(arguments)),!0))},zipWith:function(t){var e=Qt(arguments);return e[0]=this,qt(this,Ut(this,t,e))}});var Qr=T.prototype;Qr[w]=!0,Qr[P]=!0,Pr(R,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Jr=R.prototype;function Xr(t,e,r,i,n,s){return Xt(t.size),t.__iterate((function(t,s,o){n?(n=!1,r=t):r=e.call(i,r,t,s,o)}),s),r}function Yr(t,e){return e}function Zr(t,e){return[e,t]}function ti(t){return function(){return!t.apply(this,arguments)}}function ei(t){return function(){return-t.apply(this,arguments)}}function ri(){return Qt(arguments)}function ii(t,e){return t<e?1:t>e?-1:0}function ni(t,e){return t^e+2654435769+(t<<6)+(t>>2)}Jr.has=Kr.includes,Jr.contains=Jr.includes,Jr.keys=Jr.values,Pr(W,Wr),Pr(Q,Qr),Pr(J,Jr);var si=function(t){function e(t){return null==t?ui():Cr(t)?t:ui().withMutations((function(e){var r=R(t);Xt(r.size),r.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(S(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(kr);si.isOrderedSet=Cr;var oi,ai=si.prototype;function ci(t,e){var r=Object.create(ai);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function ui(){return oi||(oi=ci(vr()))}ai[P]=!0,ai.zip=Qr.zip,ai.zipWith=Qr.zipWith,ai.zipAll=Qr.zipAll,ai.__empty=ui,ai.__make=ci;var li={LeftThenRight:-1,RightThenLeft:1};var hi=function(t,e){var r;!function(t){if(C(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(D(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===t||"object"!=typeof t)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(t);var i=function(s){var o=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!r){r=!0;var a=Object.keys(t),c=n._indices={};n._name=e,n._keys=a,n._defaultValues=t;for(var u=0;u<a.length;u++){var l=a[u];c[l]=u,n[l]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+pi(this)+' with property "'+l+'" since that property name is part of the Record API.'):_i(n,l)}}return this.__ownerID=void 0,this._values=nr().withMutations((function(t){t.setSize(o._keys.length),S(s).forEach((function(e,r){t.set(o._indices[r],e===o._defaultValues[r]?void 0:e)}))})),this},n=i.prototype=Object.create(di);return n.constructor=i,e&&(i.displayName=e),i};hi.prototype.toString=function(){for(var t,e=pi(this)+" { ",r=this._keys,i=0,n=r.length;i!==n;i++)e+=(i?", ":"")+(t=r[i])+": "+re(this.get(t));return e+" }"},hi.prototype.equals=function(t){return this===t||C(t)&&gi(this).equals(gi(t))},hi.prototype.hashCode=function(){return gi(this).hashCode()},hi.prototype.has=function(t){return this._indices.hasOwnProperty(t)},hi.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._indices[t],i=this._values.get(r);return void 0===i?this._defaultValues[t]:i},hi.prototype.set=function(t,e){if(this.has(t)){var r=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(r!==this._values&&!this.__ownerID)return fi(this,r)}return this},hi.prototype.remove=function(t){return this.set(t)},hi.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:fi(this,t)},hi.prototype.wasAltered=function(){return this._values.wasAltered()},hi.prototype.toSeq=function(){return gi(this)},hi.prototype.toJS=function(){return jr(this)},hi.prototype.entries=function(){return this.__iterator(2)},hi.prototype.__iterator=function(t,e){return gi(this).__iterator(t,e)},hi.prototype.__iterate=function(t,e){return gi(this).__iterate(t,e)},hi.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?fi(this,e,t):(this.__ownerID=t,this._values=e,this)},hi.isRecord=C,hi.getDescriptiveName=pi;var di=hi.prototype;function fi(t,e,r){var i=Object.create(Object.getPrototypeOf(t));return i._values=e,i.__ownerID=r,i}function pi(t){return t.constructor.displayName||t.constructor.name||"Record"}function gi(t){return rt(t._keys.map((function(e){return[e,t.get(e)]})))}function _i(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Jt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(r){}}di[N]=!0,di[i]=di.remove,di.deleteIn=di.removeIn=fe,di.getIn=Hr,di.hasIn=Kr.hasIn,di.merge=be,di.mergeWith=ye,di.mergeIn=Ae,di.mergeDeep=Te,di.mergeDeepWith=Re,di.mergeDeepIn=Oe,di.setIn=he,di.update=ge,di.updateIn=_e,di.withMutations=Ne,di.asMutable=Ce,di.asImmutable=De,di[F]=di.entries,di.toJSON=di.toObject=Kr.toObject,di.inspect=di.toSource=function(){return this.toString()};var bi,yi=function(t){function e(t,r){if(!(this instanceof e))return new e(t,r);if(this._value=t,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(bi)return bi;bi=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(t,e){return this.has(t)?this._value:e},e.prototype.includes=function(t){return ut(this._value,t)},e.prototype.slice=function(t,r){var i=this.size;return d(t,r,i)?this:new e(this._value,p(r,i)-f(t,i))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(t){return ut(this._value,t)?0:-1},e.prototype.lastIndexOf=function(t){return ut(this._value,t)?this.size:-1},e.prototype.__iterate=function(t,e){for(var r=this.size,i=0;i!==r&&!1!==t(this._value,e?r-++i:i++,this););return i},e.prototype.__iterator=function(t,e){var r=this,i=this.size,n=0;return new M((function(){return n===i?{value:void 0,done:!0}:B(t,e?i-++n:n++,r._value)}))},e.prototype.equals=function(t){return t instanceof e?ut(this._value,t._value):Dr(this,t)},e}(Q);function mi(t,e){return vi([],e||wi,t,"",e&&e.length>2?[]:void 0,{"":t})}function vi(t,e,r,i,n,s){if("string"!=typeof r&&!D(r)&&(z(r)||V(r)||te(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),n&&""!==i&&n.push(i);var o=e.call(s,i,K(r).map((function(i,s){return vi(t,e,i,s,n,r)})),n&&n.slice());return t.pop(),n&&n.pop(),o}return r}function wi(t,e){return x(e)?e.toList():v(e)?e.toMap():e.toSet()}var xi="4.3.7",Ii=E;const Ei={version:xi,Collection:E,Iterable:E,Seq:K,Map:je,OrderedMap:yr,List:nr,Stack:Er,Set:kr,OrderedSet:si,PairSorting:li,Record:hi,Range:Ur,Repeat:yi,is:ut,fromJS:mi,hash:ft,isImmutable:D,isCollection:y,isKeyed:v,isIndexed:x,isAssociative:I,isOrdered:j,isValueObject:ct,isPlainObject:te,isSeq:O,isList:ir,isMap:ot,isOrderedMap:at,isStack:Ir,isSet:Nr,isOrderedSet:Cr,isRecord:C,get:ne,getIn:qr,has:ie,hasIn:Gr,merge:ve,mergeDeep:xe,mergeWith:we,mergeDeepWith:Ie,remove:oe,removeIn:de,set:ae,setIn:le,update:pe,updateIn:ce}},1232:t=>{"use strict";const e=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;e.writable=t=>e(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,e.readable=t=>e(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&"function"==typeof t._transform,t.exports=e},2395:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(2803),e),n(r(5094),e),n(r(585),e),n(r(9146),e),n(r(5086),e),n(r(5215),e),n(r(4931),e)},2803:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextParser=void 0,r(6547);const i=r(742),n=r(5094),s=r(585),o=r(5215),a=r(4931);class c{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new s.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in t)||!!t.redirectSchemaOrgHttps}static validateLanguage(t,e,r){if("string"!=typeof t)throw new n.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,r);if(!a.Util.REGEX_LANGUAGE_TAG.test(t)){if(e)throw new n.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,r);return!1}return!0}static validateDirection(t,e){if("string"!=typeof t)throw new n.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,n.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(t)){if(e)throw new n.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,n.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(const e of Object.keys(t)){let r=t[e];if(r&&"object"==typeof r&&r["@reverse"]&&!r["@id"]){if("string"!=typeof r["@reverse"]||a.Util.isValidKeyword(r["@reverse"]))throw new n.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);r=t[e]=Object.assign(Object.assign({},r),{"@id":r["@reverse"]}),r["@id"]=r["@reverse"],a.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return t}expandPrefixedTerms(t,e,r){const i=t.getContextRaw();for(const s of r||Object.keys(i))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(s)<0&&!a.Util.isReservedInternalKeyword(s)){const r=i[s];if(a.Util.isPotentialKeyword(s)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(s)>=0&&("@type"!==s||"object"==typeof i[s]&&!i[s]["@protected"]&&"@set"!==i[s]["@container"]))throw new n.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${s} to ${JSON.stringify(r)}`,n.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(r))>=0)throw new n.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${s} to ${JSON.stringify(r)}`,n.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(r&&a.Util.isPotentialKeyword(a.Util.getContextValueId(r))&&!0===r["@prefix"])throw new n.ErrorCoded(`Tried to use keyword aliases as prefix: '${s}': '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(i[s]);){const r=i[s];let n=!1;if("string"==typeof r)i[s]=t.expandTerm(r,!0),n=n||r!==i[s];else{const o=r["@id"],c=r["@type"],u=!("@prefix"in r)||a.Util.isValidIri(s);if("@id"in r)null!=o&&"string"==typeof o&&(i[s]=Object.assign(Object.assign({},i[s]),{"@id":t.expandTerm(o,!0)}),n=n||o!==i[s]["@id"]);else if(!a.Util.isPotentialKeyword(s)&&u){const e=t.expandTerm(s,!0);e!==s&&(i[s]=Object.assign(Object.assign({},i[s]),{"@id":e}),n=!0)}if(c&&"string"==typeof c&&"@vocab"!==c&&(!r["@container"]||!r["@container"]["@type"])&&u){let r=t.expandTerm(c,!0);e&&c===r&&(r=t.expandTerm(c,!1)),r!==c&&(n=!0,i[s]=Object.assign(Object.assign({},i[s]),{"@type":r}))}}if(!n)break}}}normalize(t,{processingMode:e,normalizeLanguageTags:r}){if(r||1===e)for(const i of Object.keys(t))if("@language"===i&&"string"==typeof t[i])t[i]=t[i].toLowerCase();else{const e=t[i];if(e&&"object"==typeof e&&"string"==typeof e["@language"]){const r=e["@language"].toLowerCase();r!==e["@language"]&&(t[i]=Object.assign(Object.assign({},e),{"@language":r}))}}}containersToHash(t){for(const e of Object.keys(t)){const r=t[e];if(r&&"object"==typeof r)if("string"==typeof r["@container"])t[e]=Object.assign(Object.assign({},r),{"@container":{[r["@container"]]:!0}});else if(Array.isArray(r["@container"])){const i={};for(const t of r["@container"])i[t]=!0;t[e]=Object.assign(Object.assign({},r),{"@container":i})}}}applyScopedProtected(t,{processingMode:e},r){if(e&&e>=1.1&&t["@protected"]){for(const e of Object.keys(t))if(!a.Util.isReservedInternalKeyword(e)&&!a.Util.isPotentialKeyword(e)&&!a.Util.isTermProtected(t,e)){const i=t[e];i&&"object"==typeof i?"@protected"in t[e]||(t[e]=Object.assign(Object.assign({},t[e]),{"@protected":!0})):(t[e]={"@id":i,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(i,r)&&(t[e]=Object.assign(Object.assign({},t[e]),{"@prefix":!0})))}delete t["@protected"]}}validateKeywordRedefinitions(t,e,r,i){for(const s of null!=i?i:Object.keys(e))if(a.Util.isTermProtected(t,s)&&("string"==typeof e[s]?e[s]={"@id":e[s],"@protected":!0}:e[s]=Object.assign(Object.assign({},e[s]),{"@protected":!0}),!a.Util.deepEqual(t[s],e[s])))throw new n.ErrorCoded(`Attempted to override the protected keyword ${s} from ${JSON.stringify(a.Util.getContextValueId(t[s]))} to ${JSON.stringify(a.Util.getContextValueId(e[s]))}`,n.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(t,{processingMode:e}){for(const r of Object.keys(t)){if(a.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new n.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(t[r])}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);const i=t[r],s=typeof i;if(a.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==i&&"string"!==s)throw new n.ErrorCoded(`Found an invalid @vocab IRI: ${i}`,n.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==i&&"string"!==s)throw new n.ErrorCoded(`Found an invalid @base IRI: ${t[r]}`,n.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==i&&c.validateLanguage(i,!0,n.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==i&&"number"!==s)throw new n.ErrorCoded(`Found an invalid @version number: ${i}`,n.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==i&&c.validateDirection(i,!0);break;case"propagate":if(1===e)throw new n.ErrorCoded(`Found an illegal @propagate keyword: ${i}`,n.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==i&&"boolean"!==s)throw new n.ErrorCoded(`Found an invalid @propagate value: ${i}`,n.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(a.Util.isValidKeyword(r)&&a.Util.isValidKeyword(a.Util.getContextValueId(i)))throw new n.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${a.Util.getContextValueId(i)}'`,n.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==i)switch(s){case"string":if(a.Util.getPrefix(i,t)===r)throw new n.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(r)){if("@type"===i)throw new n.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${i}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(i)&&i!==new o.JsonLdContextNormalized(t).expandTerm(r))throw new n.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${i}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(a.Util.isCompactIri(r)||"@id"in i||("@id"===i["@type"]?t["@base"]:t["@vocab"])))throw new n.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);for(const u of Object.keys(i)){const l=i[u];if(l)switch(u){case"@id":if(a.Util.isValidKeyword(l)&&"@type"!==l&&"@id"!==l&&"@graph"!==l&&"@nest"!==l)throw new n.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(r)){if("@type"===l)throw new n.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(l)&&l!==new o.JsonLdContextNormalized(t).expandTerm(r))throw new n.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!=typeof l)throw new n.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(l,t)===r)throw new n.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===i["@container"]&&"@id"!==l&&"@vocab"!==l)throw new n.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${l}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!=typeof l)throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(s)}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);if(!("@id"===l||"@vocab"===l||1!==e&&"@json"===l||1!==e&&"@none"===l||"_"!==l[0]&&a.Util.isValidIri(l)))throw new n.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${l}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"==typeof l&&i["@id"]&&i["@id"]!==l)throw new n.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${l}' and '${i["@id"]}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in i)throw new n.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===e&&(Object.keys(l).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(l)[0])<0))throw new n.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(l)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,n.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const t of Object.keys(l)){if("@list"===t&&i["@reverse"])throw new n.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(t)<0)throw new n.ErrorCoded(`Invalid term @container for '${r}' ('${t}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,n.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":c.validateLanguage(l,!0,n.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":c.validateDirection(l,!0);break;case"@prefix":if(null!==l&&"boolean"!=typeof l)throw new n.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in i)&&!a.Util.isValidIri(r))throw new n.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===e||!i["@container"]||!i["@container"]["@index"])throw new n.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(l)&&"@nest"!==l)throw new n.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new n.ErrorCoded(`Found an invalid term value: '${r}': '${i}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,e,r){return"string"==typeof t||(r&&!("@base"in t)&&e.parentContext&&"object"==typeof e.parentContext&&"@base"in e.parentContext&&(t["@base"]=e.parentContext["@base"],e.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),e.baseIRI&&!e.external&&("@base"in t?null===t["@base"]||"string"!=typeof t["@base"]||a.Util.isValidIri(t["@base"])||(t["@base"]=(0,i.resolve)(t["@base"],e.parentContext&&e.parentContext["@base"]||e.baseIRI)):(t["@base"]=e.baseIRI,t["@__baseDocument"]=!0))),t}normalizeContextIri(t,e){if(!a.Util.isValidIri(t))try{t=(0,i.resolve)(t,e)}catch(r){throw new Error(`Invalid context IRI: ${t}`)}return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}async parseInnerContexts(t,e,r){for(const s of null!=r?r:Object.keys(t)){const r=t[s];if(r&&"object"==typeof r&&"@context"in r&&null!==r["@context"]&&!e.ignoreScopedContexts){if(this.validateContext)try{const i=Object.assign(Object.assign({},t),{[s]:Object.assign({},t[s])});delete i[s]["@context"],await this.parse(r["@context"],Object.assign(Object.assign({},e),{external:!1,parentContext:i,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(i){throw new n.ErrorCoded(i.message,n.ERROR_CODES.INVALID_SCOPED_CONTEXT)}t[s]=Object.assign(Object.assign({},r),{"@context":(await this.parse(r["@context"],Object.assign(Object.assign({},e),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()})}}return t}async parse(t,e={},r={}){const{baseIRI:i,parentContext:s,external:u,processingMode:l=c.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:h,ignoreProtection:d,minimalProcessing:f}=e,p=e.remoteContexts||{};if(Object.keys(p).length>=this.remoteContextsDepthLimit)throw new n.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(p),n.ERROR_CODES.CONTEXT_OVERFLOW);if(null==t){if(!d&&s&&a.Util.hasProtectedTerms(s))throw new n.ErrorCoded("Illegal context nullification when terms are protected",n.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new o.JsonLdContextNormalized(this.applyBaseEntry({},e,!1))}if("string"==typeof t){const r=this.normalizeContextIri(t,i),n=this.getOverriddenLoad(r,e);if(n)return new o.JsonLdContextNormalized(n);const s=await this.parse(await this.load(r),Object.assign(Object.assign({},e),{baseIRI:r,external:!0,remoteContexts:Object.assign(Object.assign({},p),{[r]:!0})}));return this.applyBaseEntry(s.getContextRaw(),e,!0),s}if(Array.isArray(t)){const r=[],n=await Promise.all(t.map(((t,n)=>{if("string"==typeof t){const s=this.normalizeContextIri(t,i);r[n]=s;const o=this.getOverriddenLoad(s,e);return o||this.load(s)}return t})));if(f)return new o.JsonLdContextNormalized(n);const a=await n.reduce(((t,i,s)=>t.then((t=>this.parse(i,Object.assign(Object.assign({},e),{baseIRI:r[s]||e.baseIRI,external:!!r[s]||e.external,parentContext:t.getContextRaw(),remoteContexts:r[s]?Object.assign(Object.assign({},p),{[r[s]]:!0}):p}),{skipValidation:s<n.length-1})))),Promise.resolve(new o.JsonLdContextNormalized(s||{})));return this.applyBaseEntry(a.getContextRaw(),e,!0),a}if("object"==typeof t){if("@context"in t)return await this.parse(t["@context"],e);if(t=Object.assign({},t),u&&delete t["@base"],this.applyBaseEntry(t,e,!0),this.containersToHash(t),f)return new o.JsonLdContextNormalized(t);let p={};if("@import"in t){if(!(l>=1.1))throw new n.ErrorCoded("Context importing is not supported in JSON-LD 1.0",n.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!=typeof t["@import"])throw new n.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],n.ERROR_CODES.INVALID_IMPORT_VALUE);p=await this.loadImportContext(this.normalizeContextIri(t["@import"],i)),delete t["@import"]}this.applyScopedProtected(p,{processingMode:l},o.defaultExpandOptions);const g=Object.assign(p,t);this.idifyReverseTerms(g),this.normalize(g,{processingMode:l,normalizeLanguageTags:h}),this.applyScopedProtected(g,{processingMode:l},o.defaultExpandOptions);const _=Object.keys(g),b=[];if("object"==typeof s)for(const t in s)t in g?b.push(t):g[t]=s[t];await this.parseInnerContexts(g,e,_);const y=new o.JsonLdContextNormalized(g);return(g&&g["@version"]||c.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&"string"==typeof t["@vocab"]||""===t["@vocab"])&&(s&&"@vocab"in s&&t["@vocab"].indexOf(":")<0?g["@vocab"]=s["@vocab"]+t["@vocab"]:(a.Util.isCompactIri(t["@vocab"])||t["@vocab"]in g)&&(g["@vocab"]=y.expandTerm(t["@vocab"],!0))),this.expandPrefixedTerms(y,this.expandContentTypeToBase,_),!d&&s&&l>=1.1&&this.validateKeywordRedefinitions(s,g,o.defaultExpandOptions,b),this.validateContext&&!r.skipValidation&&this.validate(g,{processingMode:l}),y}throw new n.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,n.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(t){const e=this.documentCache[t];if(e)return e;let r;try{r=await this.documentLoader.load(t)}catch(i){throw new n.ErrorCoded(`Failed to load remote context ${t}: ${i.message}`,n.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new n.ErrorCoded(`Missing @context in remote context at ${t}`,n.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=r["@context"]}getOverriddenLoad(t,e){if(t in(e.remoteContexts||{})){if(e.ignoreRemoteScopedContexts)return t;throw new n.ErrorCoded("Detected a cyclic context inclusion of "+t,n.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(t){let e=await this.load(t);if("object"!=typeof e||Array.isArray(e))throw new n.ErrorCoded("An imported context must be a single object: "+t,n.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in e)throw new n.ErrorCoded("An imported context can not import another context: "+t,n.ERROR_CODES.INVALID_CONTEXT_ENTRY);return e=Object.assign({},e),this.containersToHash(e),e}}c.DEFAULT_PROCESSING_MODE=1.1,e.ContextParser=c},5094:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class r extends Error{constructor(t,e){super(t),this.code=e}}e.ErrorCoded=r,function(t){t.COLLIDING_KEYWORDS="colliding keywords",t.CONFLICTING_INDEXES="conflicting indexes",t.CYCLIC_IRI_MAPPING="cyclic IRI mapping",t.INVALID_ID_VALUE="invalid @id value",t.INVALID_INDEX_VALUE="invalid @index value",t.INVALID_NEST_VALUE="invalid @nest value",t.INVALID_PREFIX_VALUE="invalid @prefix value",t.INVALID_PROPAGATE_VALUE="invalid @propagate value",t.INVALID_REVERSE_VALUE="invalid @reverse value",t.INVALID_IMPORT_VALUE="invalid @import value",t.INVALID_VERSION_VALUE="invalid @version value",t.INVALID_BASE_IRI="invalid base IRI",t.INVALID_CONTAINER_MAPPING="invalid container mapping",t.INVALID_CONTEXT_ENTRY="invalid context entry",t.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",t.INVALID_DEFAULT_LANGUAGE="invalid default language",t.INVALID_INCLUDED_VALUE="invalid @included value",t.INVALID_IRI_MAPPING="invalid IRI mapping",t.INVALID_JSON_LITERAL="invalid JSON literal",t.INVALID_KEYWORD_ALIAS="invalid keyword alias",t.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",t.INVALID_LANGUAGE_MAPPING="invalid language mapping",t.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",t.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",t.INVALID_LOCAL_CONTEXT="invalid local context",t.INVALID_REMOTE_CONTEXT="invalid remote context",t.INVALID_REVERSE_PROPERTY="invalid reverse property",t.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",t.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",t.INVALID_SCOPED_CONTEXT="invalid scoped context",t.INVALID_SCRIPT_ELEMENT="invalid script element",t.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",t.INVALID_TERM_DEFINITION="invalid term definition",t.INVALID_TYPE_MAPPING="invalid type mapping",t.INVALID_TYPE_VALUE="invalid type value",t.INVALID_TYPED_VALUE="invalid typed value",t.INVALID_VALUE_OBJECT="invalid value object",t.INVALID_VALUE_OBJECT_VALUE="invalid value object value",t.INVALID_VOCAB_MAPPING="invalid vocab mapping",t.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",t.KEYWORD_REDEFINITION="keyword redefinition",t.LOADING_DOCUMENT_FAILED="loading document failed",t.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",t.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",t.PROCESSING_MODE_CONFLICT="processing mode conflict",t.PROTECTED_TERM_REDEFINITION="protected term redefinition",t.CONTEXT_OVERFLOW="context overflow",t.INVALID_BASE_DIRECTION="invalid base direction",t.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",t.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",t.INVALID_EMBEDDED_NODE="invalid embedded node",t.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))},585:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0,r(6547);const i=r(5094),n=r(2384),s=r(742);e.FetchDocumentLoader=class{constructor(t){this.fetcher=t}async load(t){const e=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(e.ok&&e.headers){let r=e.headers.get("Content-Type");if(r){const t=r.indexOf(";");t>0&&(r=r.substr(0,t))}if("application/ld+json"===r)return await e.json();if(e.headers.has("Link")){let r;if(e.headers.forEach(((e,i)=>{if("link"===i){const i=(0,n.parse)(e);for(const e of i.get("type","application/ld+json"))if("alternate"===e.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+t);r=(0,s.resolve)(e.uri,t)}}})),r)return this.load(r)}throw new i.ErrorCoded(`Unsupported JSON-LD media type ${r}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(e.statusText||`Status code: ${e.status}`)}}},9146:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5086:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5215:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const i=r(742),n=r(5094),s=r(4931);e.JsonLdContextNormalized=class{constructor(t){this.contextRaw=t}getContextRaw(){return this.contextRaw}expandTerm(t,r,o=e.defaultExpandOptions){const a=this.contextRaw[t];if(null===a||a&&null===a["@id"])return null;let c=!0;if(a&&r){const e=s.Util.getContextValueId(a);if(e&&e!==t){if("string"==typeof e&&(s.Util.isValidIri(e)||s.Util.isValidKeyword(e)))return e;s.Util.isPotentialKeyword(e)||(c=!1)}}const u=s.Util.getPrefix(t,this.contextRaw),l=this.contextRaw["@vocab"],h=(!!l||""===l)&&l.indexOf(":")<0,d=this.contextRaw["@base"],f=s.Util.isPotentialKeyword(t);if(u){const e=this.contextRaw[u],r=s.Util.getContextValueId(e);if(r){if("string"!=typeof e&&o.allowPrefixForcing){if("_"!==r[0]&&!f&&!e["@prefix"]&&!(t in this.contextRaw))return t}else if(!s.Util.isSimpleTermDefinitionPrefix(r,o))return t;return r+t.substr(u.length+1)}}else{if(r&&(l||""===l||o.allowVocabRelativeToBase&&d&&h)&&!f&&!s.Util.isCompactIri(t)){if(h){if(o.allowVocabRelativeToBase)return(l||d?(0,i.resolve)(l,d):"")+t;throw new n.ErrorCoded(`Relative vocab expansion for term '${t}' with vocab '${l}' is not allowed.`,n.ERROR_CODES.INVALID_VOCAB_MAPPING)}return l+t}if(!r&&d&&!f&&!s.Util.isCompactIri(t))return(0,i.resolve)(t,d)}if(c)return t;throw new n.ErrorCoded(`Invalid IRI mapping found for context entry '${t}': '${JSON.stringify(a)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(t,e){if(e&&this.contextRaw["@vocab"]&&t.startsWith(this.contextRaw["@vocab"]))return t.substr(this.contextRaw["@vocab"].length);if(!e&&this.contextRaw["@base"]&&t.startsWith(this.contextRaw["@base"]))return t.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:t};for(const i in this.contextRaw){const n=this.contextRaw[i];if(n&&!s.Util.isPotentialKeyword(i)){const o=s.Util.getContextValueId(n);if(t.startsWith(o)){const n=t.substr(o.length);if(n)n.length<r.suffix.length&&(r.prefix=i,r.suffix=n);else if(e)return i}}}return r.prefix?r.prefix+":"+r.suffix:t}},e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},4931:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class r{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&"#"===t[0])}static getPrefix(t,e){if(t&&"#"===t[0])return null;const r=t.indexOf(":");if(r>=0){if(t.length>r+1&&"/"===t.charAt(r+1)&&"/"===t.charAt(r+2))return null;const i=t.substr(0,r);if("_"===i)return null;if(e[i])return i}return null}static getContextValueId(t){if(null===t||"string"==typeof t)return t;const e=t["@id"];return e||null}static isSimpleTermDefinitionPrefix(t,e){return!r.isPotentialKeyword(t)&&(e.allowPrefixNonGenDelims||"string"==typeof t&&("_"===t[0]||r.isPrefixIriEndingWithGenDelim(t)))}static isPotentialKeyword(t){return"string"==typeof t&&r.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return r.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&("string"==typeof t||t&&"object"==typeof t)}static isValidIri(t){return Boolean(t&&r.IRI_REGEX.test(t))}static isValidIriWeak(t){return!!t&&":"!==t[0]&&r.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return r.VALID_KEYWORDS[t]}static isTermProtected(t,e){const r=t[e];return!("string"==typeof r)&&r&&r["@protected"]}static hasProtectedTerms(t){for(const e of Object.keys(t))if(r.isTermProtected(t,e))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}static deepEqual(t,e){const r=Object.keys(t),i=Object.keys(e);return r.length===i.length&&r.every((r=>{const i=t[r],n=e[r];return i===n||null!==i&&null!==n&&"object"==typeof i&&"object"==typeof n&&this.deepEqual(i,n)}))}}r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,r.IRI_REGEX_WEAK=/(?::[^:])|\//,r.KEYWORD_REGEX=/^@[a-z]+$/i,r.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,r.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,r.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,r.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},r.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],r.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],r.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],r.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],r.CONTAINERS_1_0=["@list","@set","@index"],e.Util=r},8690:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(2277),e)},4405:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextTree=void 0;class r{constructor(){this.subTrees={}}getContext(t){if(t.length>0){const[e,...r]=t,i=this.subTrees[e];if(i){const t=i.getContext(r);if(t)return t.then((({context:t,depth:e})=>({context:t,depth:e+1})))}}return this.context?this.context.then((t=>({context:t,depth:0}))):null}setContext(t,e){if(0===t.length)this.context=e;else{const[i,...n]=t;let s=this.subTrees[i];s||(s=this.subTrees[i]=new r),s.setContext(n,e)}}removeContext(t){this.setContext(t,null)}}e.ContextTree=r},2277:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonLdParser=void 0;const i=r(608),n=r(5821),s=r(9198),o=r(9693),a=r(4860),c=r(2386),u=r(6970),l=r(3809),h=r(5998),d=r(5517),f=r(736),p=r(4910),g=r(2036),_=r(6454),b=r(3283),y=r(3099),m=r(888),v=r(2384),w=r(6105);class x extends s.Transform{constructor(t){super({readableObjectMode:!0}),t=t||{},this.options=t,this.parsingContext=new y.ParsingContext(Object.assign({parser:this},t)),this.util=new m.Util({dataFactory:t.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new i,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",(()=>{void 0!==this.jsonParser.mode&&this.emit("error",new Error("Unclosed document"))}))}static fromHttpResponse(t,e,r,i){let s,o,a=["application/activity+json"];if(i&&i.wellKnownMediaTypes&&(a=i.wellKnownMediaTypes),"application/ld+json"!==e&&!a.includes(e)){if("application/json"!==e&&!e.endsWith("+json"))throw new n.ErrorCoded(`Unsupported JSON-LD media type ${e}`,n.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(r&&r.has("Link")&&r.forEach(((e,r)=>{if("link"===r){const r=(0,v.parse)(e);for(const e of r.get("rel","http://www.w3.org/ns/json-ld#context")){if(s)throw new n.ErrorCoded("Multiple JSON-LD context link headers were found on "+t,n.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);s=e.uri}}})),!s&&!(null==i?void 0:i.ignoreMissingContextLinkHeader))throw new n.ErrorCoded(`Missing context link header for media type ${e} on ${t}`,n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}if(r&&r.has("Content-Type")){const t=r.get("Content-Type"),e=/; *profile=([^"]*)/.exec(t);e&&"http://www.w3.org/ns/json-ld#streaming"===e[1]&&(o=!0)}return new x(Object.assign({baseIRI:t,context:s,streamingProfile:o},i||{}))}import(t){if("pipe"in t){t.on("error",(t=>e.emit("error",t)));const e=t.pipe(new x(this.options));return e}{const e=new s.PassThrough({readableObjectMode:!0});t.on("error",(t=>r.emit("error",t))),t.on("data",(t=>e.push(t))),t.on("end",(()=>e.push(null)));const r=e.pipe(new x(this.options));return r}}_transform(t,e,r){this.jsonParser.write(t),this.lastOnValueJob.then((()=>r()),(t=>r(t)))}async newOnValueJob(t,e,r,i){let s=!0;if(i&&r<this.lastDepth){const t=this.parsingContext.listPointerStack[this.lastDepth];t&&(t.value&&this.push(this.util.dataFactory.quad(t.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),t.listId.listHead=!0,this.parsingContext.idStack[t.listRootDepth+1]=[t.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),s=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const o=await this.util.unaliasKeyword(t[r],t,r),c=await this.util.unaliasKeywordParent(t,r);this.parsingContext.emittedStack[r]=!0;let u=!0;n.Util.isValidKeyword(o)&&"@reverse"===c&&"@context"!==o&&this.emit("error",new n.ErrorCoded(`Found the @id '${e}' inside an @reverse property`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let l=!1;this.parsingContext.validationStack.length>1&&(l=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let n=Math.max(1,this.parsingContext.validationStack.length-1);n<t.length-1;n++){const e=this.parsingContext.validationStack[n]||(this.parsingContext.validationStack[n]=await this.validateKey(t.slice(0,n+1),n,l));if(!e.valid){this.parsingContext.emittedStack[r]=!1,u=!1;break}!l&&e.property&&(l=!0)}if(await this.util.isLiteral(t,r)&&(u=!1),u)for(const n of x.ENTRY_HANDLERS){const i=await n.test(this.parsingContext,this.util,o,t,r);if(i){await n.handle(this.parsingContext,this.util,o,t,e,r,i),n.isStackProcessor()&&(this.parsingContext.processingStack[r]=!0);break}}0===r&&Array.isArray(e)&&await this.util.validateValueIndexes(e),s&&r<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=r,this.lastKeys=t,this.parsingContext.unaliasedKeywordCacheStack.splice(r-1)}flushStacks(t){this.parsingContext.processingStack.splice(t,1),this.parsingContext.processingType.splice(t,1),this.parsingContext.emittedStack.splice(t,1),this.parsingContext.idStack.splice(t,1),this.parsingContext.graphStack.splice(t+1,1),this.parsingContext.graphContainerTermStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1),this.parsingContext.validationStack.splice(t-1,2),this.parsingContext.literalStack.splice(t,this.parsingContext.literalStack.length-t),this.parsingContext.annotationsBuffer.splice(t,1)}async flushBuffer(t,e){let r=this.parsingContext.idStack[t];!!r||(r=this.parsingContext.idStack[t]=[this.util.dataFactory.blankNode()]);const i=this.parsingContext.unidentifiedValuesBuffer[t];if(i){for(const n of r){const r=await this.util.getDepthOffsetGraph(t,e),s=this.parsingContext.graphStack[t]||r>=0?this.parsingContext.idStack[t-r-1]:[await this.util.getGraphContainerValue(e,t)];if(s)for(const e of s){this.parsingContext.emittedStack[t]=!0;for(const r of i)this.util.emitQuadChecked(t,n,r.predicate,r.object,e,r.reverse,r.isEmbedded)}else{const r=this.parsingContext.getUnidentifiedGraphBufferSafe(t-await this.util.getDepthOffsetGraph(t,e)-1);for(const t of i)t.reverse?r.push({object:n,predicate:t.predicate,subject:t.object,isEmbedded:t.isEmbedded}):r.push({object:t.object,predicate:t.predicate,subject:n,isEmbedded:t.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(t,1),this.parsingContext.literalStack.splice(t,1),this.parsingContext.jsonLiteralStack.splice(t,1)}const s=this.parsingContext.unidentifiedGraphsBuffer[t];if(s){for(const e of r){const r=1!==t||"BlankNode"!==e.termType||this.parsingContext.topLevelProperties?e:this.util.getDefaultGraph();this.parsingContext.emittedStack[t]=!0;for(const e of s)this.parsingContext.emitQuad(t,this.util.dataFactory.quad(e.subject,e.predicate,e.object,r))}this.parsingContext.unidentifiedGraphsBuffer.splice(t,1)}const o=this.parsingContext.annotationsBuffer[t];if(o){o.length>0&&1===t&&this.parsingContext.emitError(new n.ErrorCoded("Annotations can not be made on top-level nodes",n.ERROR_CODES.INVALID_ANNOTATION));const e=this.parsingContext.getAnnotationsBufferSafe(t-1);for(const t of o)e.push(t);delete this.parsingContext.annotationsBuffer[t]}}async validateKey(t,e,r){for(const i of x.ENTRY_HANDLERS)if(await i.validate(this.parsingContext,this.util,t,e,r))return{valid:!0,property:r||i.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=t=>{const e=this.jsonParser.stack.length,r=new Array(e+1).fill(0).map(((t,r)=>r===e?this.jsonParser.key:this.jsonParser.stack[r].key));if(!this.isParsingContextInner(e)){const i=()=>this.newOnValueJob(r,t,e,!0);if(this.parsingContext.streamingProfile||this.parsingContext.contextTree.getContext(r.slice(0,-1)))this.lastOnValueJob=this.lastOnValueJob.then(i);else if("@context"===r[e]){let t=this.contextJobs[e];t||(t=this.contextJobs[e]=[]),t.push(i)}else this.contextAwaitingJobs.push({job:i,keys:r,depth:e});this.parsingContext.streamingProfile||0!==e||(this.lastOnValueJob=this.lastOnValueJob.then((()=>this.executeBufferedJobs())))}},this.jsonParser.onError=t=>{this.emit("error",t)}}isParsingContextInner(t){for(let e=t;e>0;e--)if("@context"===this.jsonParser.stack[e-1].key)return!0;return!1}async executeBufferedJobs(){for(const e of this.contextJobs)if(e)for(const t of e)await t();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const t=[];for(const e of this.contextAwaitingJobs)"@type"===await this.util.unaliasKeyword(e.keys[e.depth],e.keys,e.depth,!0)||"number"==typeof e.keys[e.depth]&&"@type"===await this.util.unaliasKeyword(e.keys[e.depth-1],e.keys,e.depth-1,!0)?this.typeJobs.push({job:e.job,keys:e.keys.slice(0,e.keys.length-1)}):t.push(e);for(const e of t){if(this.typeJobs.length>0){const t=[],r=[];for(let s=0;s<this.typeJobs.length;s++){const i=this.typeJobs[s];m.Util.isPrefixArray(i.keys,e.keys)&&(t.push(i),r.push(s))}const i=t.sort(((t,e)=>t.keys.length-e.keys.length));for(const e of i)await e.job();const n=r.sort().reverse();for(const e of n)this.typeJobs.splice(e,1)}await e.job()}}}x.DEFAULT_PROCESSING_MODE="1.1",x.ENTRY_HANDLERS=[new o.EntryHandlerArrayValue,new l.EntryHandlerKeywordContext,new d.EntryHandlerKeywordId,new f.EntryHandlerKeywordIncluded,new h.EntryHandlerKeywordGraph,new p.EntryHandlerKeywordNest,new g.EntryHandlerKeywordType,new b.EntryHandlerKeywordValue,new w.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new _.EntryHandlerKeywordUnknownFallback,new u.EntryHandlerPredicate,new c.EntryHandlerInvalidFallback],e.JsonLdParser=x},3099:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParsingContext=void 0;const i=r(5821),n=r(8033),s=r(4405),o=r(2277);class a{constructor(t){this.contextParser=new i.ContextParser({documentLoader:t.documentLoader,skipValidation:t.skipContextValidation}),this.streamingProfile=!!t.streamingProfile,this.baseIRI=t.baseIRI,this.produceGeneralizedRdf=!!t.produceGeneralizedRdf,this.allowSubjectList=!!t.allowSubjectList,this.processingMode=t.processingMode||o.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!t.strictValues,this.validateValueIndexes=!!t.validateValueIndexes,this.defaultGraph=t.defaultGraph,this.rdfDirection=t.rdfDirection,this.normalizeLanguageTags=t.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=t.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=!1!==t.rdfstar,this.rdfstarReverseInEmbedded=t.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new s.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=t.parser,t.context?(this.rootContext=this.parseContext(t.context),this.rootContext.then((t=>this.validateContext(t)))):this.rootContext=Promise.resolve(new i.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(t,e,r){return this.contextParser.parse(t,{baseIRI:this.baseIRI,ignoreProtection:r,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:e,processingMode:this.activeProcessingMode})}validateContext(t){const e=t.getContextRaw()["@version"];if(e){if(this.activeProcessingMode&&e>this.activeProcessingMode)throw new n.ErrorCoded(`Unsupported JSON-LD version '${e}' under active processing mode ${this.activeProcessingMode}.`,n.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&e<this.activeProcessingMode)throw new n.ErrorCoded(`Invalid JSON-LD version ${e} under active processing mode ${this.activeProcessingMode}.`,n.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=e}}async getContext(t,e=1){const r=t;for(;"number"==typeof t[t.length-1];)t=t.slice(0,t.length-1);e&&(t=t.slice(0,-e));const n=await this.getContextPropagationAware(t);let s=n.context.getContextRaw();for(let o=n.depth;o<r.length-e;o++){const t=r[o],n=s[t];if(n&&"object"==typeof n&&"@context"in n){const a=(await this.parseContext(n,s,!0)).getContextRaw(),c=!(t in a)||a[t]["@context"]["@propagate"];!1===c&&o!==r.length-1-e||(s=Object.assign({},a),delete s["@propagate"],s[t]=Object.assign({},s[t]),"@id"in n&&(s[t]["@id"]=n["@id"]),delete s[t]["@context"],!1!==c&&this.contextTree.setContext(r.slice(0,o+e),Promise.resolve(new i.JsonLdContextNormalized(s))))}}return new i.JsonLdContextNormalized(s)}async getContextPropagationAware(t){const e=t.length;let r,n=null;do{r=!1,n&&"@__propagateFallback"in n.context.getContextRaw()?n.context=new i.JsonLdContextNormalized(n.context.getContextRaw()["@__propagateFallback"]):(n&&(t=t.slice(0,n.depth-1)),n=await this.contextTree.getContext(t)||{context:await this.rootContext,depth:0});const e=t[t.length-1];if(e in n.context.getContextRaw()){const t=n.context.getContextRaw()[e];t&&"object"==typeof t&&"@context"in t&&(r=!0)}}while(n.depth>0&&!1===n.context.getContextRaw()["@propagate"]&&n.depth!==e&&!r);return 0===n.depth&&!1===n.context.getContextRaw()["@propagate"]&&n.depth!==e&&(n.context=new i.JsonLdContextNormalized({})),n}async newOnValueJob(t,e,r,i){await this.parser.newOnValueJob(t,e,r,i)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const t of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(t.depth,t.keys),this.parser.flushStacks(t.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}return!1}emitQuad(t,e){1===t&&(this.topLevelProperties=!0),this.parser.push(e)}emitError(t){this.parser.emit("error",t)}emitContext(t){this.parser.emit("context",t)}getUnidentifiedValueBufferSafe(t){let e=this.unidentifiedValuesBuffer[t];return e||(e=[],this.unidentifiedValuesBuffer[t]=e),e}getUnidentifiedGraphBufferSafe(t){let e=this.unidentifiedGraphsBuffer[t];return e||(e=[],this.unidentifiedGraphsBuffer[t]=e),e}getAnnotationsBufferSafe(t){let e=this.annotationsBuffer[t];return e||(e=[],this.annotationsBuffer[t]=e),e}getExpandOptions(){return a.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(t,e){const r=this.idStack[t+e];if(r&&(this.idStack[t]=r,this.emittedStack[t]=!0,delete this.idStack[t+e]),this.pendingContainerFlushBuffers.length)for(const i of this.pendingContainerFlushBuffers)i.depth>=t+e&&(i.depth-=e,i.keys.splice(t,e));this.unidentifiedValuesBuffer[t+e]&&(this.unidentifiedValuesBuffer[t]=this.unidentifiedValuesBuffer[t+e],delete this.unidentifiedValuesBuffer[t+e]),this.annotationsBuffer[t+e-1]&&(this.annotationsBuffer[t-1]||(this.annotationsBuffer[t-1]=[]),this.annotationsBuffer[t-1]=[...this.annotationsBuffer[t-1],...this.annotationsBuffer[t+e-1]],delete this.annotationsBuffer[t+e-1])}}a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},e.ParsingContext=a},888:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const i=r(5821),n=r(7793),s=r(4860),o=r(2341);class a{constructor(t){this.parsingContext=t.parsingContext,this.dataFactory=t.dataFactory||new n.DataFactory,this.rdfFirst=this.dataFactory.namedNode(a.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(a.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(a.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(a.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(a.RDF+"JSON")}static getContextValue(t,e,r,i){const n=t.getContextRaw()[r];if(!n)return i;const s=n[e];return void 0===s?i:s}static getContextValueContainer(t,e){return a.getContextValue(t,"@container",e,{"@set":!0})}static getContextValueType(t,e){const r=a.getContextValue(t,"@type",e,null);return"@none"===r?null:r}static getContextValueLanguage(t,e){return a.getContextValue(t,"@language",e,t.getContextRaw()["@language"]||null)}static getContextValueDirection(t,e){return a.getContextValue(t,"@direction",e,t.getContextRaw()["@direction"]||null)}static isContextValueReverse(t,e){return!!a.getContextValue(t,"@reverse",e,null)}static getContextValueIndex(t,e){return a.getContextValue(t,"@index",e,t.getContextRaw()["@index"]||null)}static isPropertyReverse(t,e,r){return"@reverse"===r!==a.isContextValueReverse(t,e)}static isPropertyInEmbeddedNode(t){return"@id"===t}static isPropertyInAnnotationObject(t){return"@annotation"===t}static isValidIri(t){return null!==t&&i.Util.isValidIri(t)}static isPrefixArray(t,e){if(t.length>e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}async validateValueIndexes(t){if(this.parsingContext.validateValueIndexes){const e={};for(const r of t)if(r&&"object"==typeof r){const t=r["@id"],n=r["@index"];if(t&&n){const r=e[t];if(r&&r!==n)throw new i.ErrorCoded(`Conflicting @index value for ${t}`,i.ERROR_CODES.CONFLICTING_INDEXES);e[t]=n}}}}async valueToTerm(t,e,r,n,s){if("@json"===a.getContextValueType(t,e))return[this.dataFactory.literal(this.valueToJsonString(r),this.rdfJson)];const o=typeof r;switch(o){case"object":if(null==r)return[];if(Array.isArray(r))return"@list"in a.getContextValueContainer(t,e)?0===r.length?[this.rdfNil]:this.parsingContext.idStack[n+1]||[]:(await this.validateValueIndexes(r),[]);if(t=await this.getContextSelfOrPropertyScoped(t,e),"@context"in r&&(t=await this.parsingContext.parseContext(r["@context"],(await this.parsingContext.getContext(s,0)).getContextRaw())),"@value"in(r=await this.unaliasKeywords(r,s,n,t))){let o,a,c,u,l;for(e in r){const t=r[e];switch(e){case"@value":o=t;break;case"@language":a=t;break;case"@direction":c=t;break;case"@type":u=t;break;case"@index":l=t;break;case"@annotation":break;default:throw new i.ErrorCoded(`Unknown value entry '${e}' in @value: ${JSON.stringify(r)}`,i.ERROR_CODES.INVALID_VALUE_OBJECT)}}if("@json"===await this.unaliasKeyword(u,s,n,!0,t))return[this.dataFactory.literal(this.valueToJsonString(o),this.rdfJson)];if(null===o)return[];if("object"==typeof o)throw new i.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(o)}'`,i.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&l&&"string"!=typeof l)throw new i.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(l)}'`,i.ERROR_CODES.INVALID_INDEX_VALUE);if(a){if("string"!=typeof o)throw new i.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(o)}'`,i.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!i.ContextParser.validateLanguage(a,this.parsingContext.strictValues,i.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||1===this.parsingContext.activeProcessingMode)&&(a=a.toLowerCase())}if(c){if("string"!=typeof o)throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(o)}'`);if(!i.ContextParser.validateDirection(c,this.parsingContext.strictValues))return[]}if(a&&c&&this.parsingContext.rdfDirection){if(u)throw new i.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,i.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(n,o,a,c))}if(a){if(u)throw new i.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(r)}'`,i.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(o,a)]}if(c&&this.parsingContext.rdfDirection){if(u)throw new i.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(r)}'`,i.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(n,o,a,c))}if(u){if("string"!=typeof u)throw new i.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(u)}'`,i.ERROR_CODES.INVALID_TYPED_VALUE);const e=this.createVocabOrBaseTerm(t,u);if(!e)throw new i.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(u)}'`,i.ERROR_CODES.INVALID_TYPED_VALUE);if("NamedNode"!==e.termType)throw new i.ErrorCoded(`Illegal value type (${e.termType}): ${u}`,i.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(o,e)]}return await this.valueToTerm(new i.JsonLdContextNormalized({}),e,o,n,s)}if("@set"in r){if(Object.keys(r).length>1)throw new i.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${e}'`,i.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}if("@list"in r){if(Object.keys(r).length>1)throw new i.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${e}'`,i.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const t=r["@list"];return Array.isArray(t)?0===t.length?[this.rdfNil]:this.parsingContext.idStack[n+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(s),e,t,n-1,s.slice(0,-1))}if("@reverse"in r&&"boolean"==typeof r["@reverse"])return[];if("@graph"in a.getContextValueContainer(await this.parsingContext.getContext(s),e)){const t=this.parsingContext.graphContainerTermStack[n+1];return t?Object.values(t):[this.dataFactory.blankNode()]}if("@id"in r){if(Object.keys(r).length>1&&(t=await this.parsingContext.getContext(s,0)),"@context"in r&&(t=await this.parsingContext.parseContext(r["@context"],t.getContextRaw())),"@vocab"===r["@type"])return this.nullableTermToArray(this.createVocabOrBaseTerm(t,r["@id"]));{const e=r["@id"];let s;if("object"==typeof e){if(!this.parsingContext.rdfstar)throw new i.ErrorCoded(`Found illegal @id '${r}'`,i.ERROR_CODES.INVALID_ID_VALUE);s=this.parsingContext.idStack[n+1][0]}else s=this.resourceToTerm(t,e);return this.nullableTermToArray(s)}}return this.parsingContext.emittedStack[n+1]||r&&"object"==typeof r&&0===Object.keys(r).length?this.parsingContext.idStack[n+1]||(this.parsingContext.idStack[n+1]=[this.dataFactory.blankNode()]):[];case"string":return this.nullableTermToArray(this.stringValueToTerm(n,await this.getContextSelfOrPropertyScoped(t,e),e,r,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(n,await this.getContextSelfOrPropertyScoped(t,e),e,Boolean(r).toString(),this.dataFactory.namedNode(a.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(n,await this.getContextSelfOrPropertyScoped(t,e),e,r,this.dataFactory.namedNode(r%1==0&&r<1e21?a.XSD_INTEGER:a.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${o}`)),[]}}async getContextSelfOrPropertyScoped(t,e){const r=t.getContextRaw()[e];return r&&"object"==typeof r&&"@context"in r&&(t=await this.parsingContext.parseContext(r,t.getContextRaw(),!0)),t}nullableTermToArray(t){return t?[t]:[]}predicateToTerm(t,e){const r=t.expandTerm(e,!0,this.parsingContext.getExpandOptions());return r?"_"===r[0]&&":"===r[1]?this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(r.substr(2)):null:a.isValidIri(r)?this.dataFactory.namedNode(r):r&&this.parsingContext.strictValues?(this.parsingContext.emitError(new i.ErrorCoded(`Invalid predicate IRI: ${r}`,i.ERROR_CODES.INVALID_IRI_MAPPING)),null):null:null}resourceToTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const r=t.expandTerm(e,!1,this.parsingContext.getExpandOptions());if(!a.isValidIri(r)){if(!r||!this.parsingContext.strictValues)return null;this.parsingContext.emitError(new Error(`Invalid resource IRI: ${r}`))}return this.dataFactory.namedNode(r)}createVocabOrBaseTerm(t,e){if(e.startsWith("_:"))return this.dataFactory.blankNode(e.substr(2));const r=this.parsingContext.getExpandOptions();let i=t.expandTerm(e,!0,r);if(i===e&&(i=t.expandTerm(e,!1,r)),!a.isValidIri(i)){if(!i||!this.parsingContext.strictValues||i.startsWith("@"))return null;this.parsingContext.emitError(new Error(`Invalid term IRI: ${i}`))}return this.dataFactory.namedNode(i)}intToString(t,e){if("number"==typeof t){if(Number.isFinite(t)){return!(t%1==0)||e&&e.value===a.XSD_DOUBLE?t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):Number(t).toString()}return t>0?"INF":"-INF"}return t}stringValueToTerm(t,e,r,i,n){const s=a.getContextValueType(e,r);if(s)if("@id"===s){if(!n)return this.resourceToTerm(e,this.intToString(i,n))}else if("@vocab"===s){if(!n)return this.createVocabOrBaseTerm(e,this.intToString(i,n))}else n=this.dataFactory.namedNode(s);if(!n){const s=a.getContextValueLanguage(e,r),o=a.getContextValueDirection(e,r);return o&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(t,this.intToString(i,n),s,o):this.dataFactory.literal(this.intToString(i,n),s)}return this.dataFactory.literal(this.intToString(i,n),n)}createLanguageDirectionLiteral(t,e,r,i){if("i18n-datatype"===this.parsingContext.rdfDirection)return r||(r=""),this.dataFactory.literal(e,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${r}_${i}`));{const n=this.dataFactory.blankNode(),s=this.getDefaultGraph();return this.parsingContext.emitQuad(t,this.dataFactory.quad(n,this.dataFactory.namedNode(a.RDF+"value"),this.dataFactory.literal(e),s)),r&&this.parsingContext.emitQuad(t,this.dataFactory.quad(n,this.dataFactory.namedNode(a.RDF+"language"),this.dataFactory.literal(r),s)),this.parsingContext.emitQuad(t,this.dataFactory.quad(n,this.dataFactory.namedNode(a.RDF+"direction"),this.dataFactory.literal(i),s)),n}}valueToJsonString(t){return o(t)}async unaliasKeyword(t,e,r,n,s){if(Number.isInteger(t))return t;if(!n){const t=this.parsingContext.unaliasedKeywordCacheStack[r];if(t)return t}if(!i.Util.isPotentialKeyword(t)){let r=(s=s||await this.parsingContext.getContext(e)).getContextRaw()[t];r&&"object"==typeof r&&(r=r["@id"]),i.Util.isValidKeyword(r)&&(t=r)}return n?t:this.parsingContext.unaliasedKeywordCacheStack[r]=t}async unaliasKeywordParent(t,e){return await this.unaliasKeyword(e>0&&t[e-1],t,e-1)}async unaliasKeywords(t,e,r,i){const n={};for(const s in t)n[await this.unaliasKeyword(s,e,r+1,!0,i)]=t[s];return n}async isLiteral(t,e){for(let r=e;r>=0;r--){if("@annotation"===await this.unaliasKeyword(t[r],t,r))return!1;if(this.parsingContext.literalStack[r]||this.parsingContext.jsonLiteralStack[r])return!0}return!1}async getDepthOffsetGraph(t,e){for(let r=t-1;r>0;r--)if("@graph"===await this.unaliasKeyword(e[r],e,r)){const i=(await s.EntryHandlerContainer.getContainerHandler(this.parsingContext,e,r)).containers;return s.EntryHandlerContainer.isComplexGraphContainer(i)?-1:t-r-1}return-1}validateReverseSubject(t){if("Literal"===t.termType)throw new i.ErrorCoded(`Found illegal literal in subject position: ${t.value}`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(t,e){let r=this.getDefaultGraph();const{containers:i,depth:n}=await s.EntryHandlerContainer.getContainerHandler(this.parsingContext,t,e);if("@graph"in i){const e=s.EntryHandlerContainer.getContainerGraphIndex(i,n,t),o=this.parsingContext.graphContainerTermStack[n];if(r=o?o[e]:null,!r){let s=null;if("@id"in i){const e=await this.getContainerKey(t[n],t,n);null!==e&&(s=await this.resourceToTerm(await this.parsingContext.getContext(t),e))}s||(s=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[n]||(this.parsingContext.graphContainerTermStack[n]={}),r=this.parsingContext.graphContainerTermStack[n][e]=s}}return r}async getPropertiesDepth(t,e){let r=e;for(let i=e-1;i>0;i--)if("number"!=typeof t[i]){const e=await this.unaliasKeyword(t[i],t,i);if("@reverse"===e)return i;if("@nest"!==e)return r;r=i}return r}async getContainerKey(t,e,r){const i=await this.unaliasKeyword(t,e,r);return"@none"===i?null:i}validateReverseInEmbeddedNode(t,e,r){if(r&&e&&!this.parsingContext.rdfstarReverseInEmbedded)throw new i.ErrorCoded(`Illegal reverse property in embedded node in ${t}`,i.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(t,e,r,n,s,o,a){let c;if(o?(this.validateReverseSubject(n),c=this.dataFactory.quad(n,r,e,s)):c=this.dataFactory.quad(e,r,n,s),a){if("DefaultGraph"!==c.graph.termType&&(c=this.dataFactory.quad(c.subject,c.predicate,c.object)),this.parsingContext.idStack[t-1])throw new i.ErrorCoded("Illegal multiple properties in an embedded node",i.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[t-1]=[c]}else this.parsingContext.emitQuad(t,c);const u=this.parsingContext.annotationsBuffer[t];if(u){for(const e of u)this.emitAnnotation(t,c,e);delete this.parsingContext.annotationsBuffer[t]}}emitAnnotation(t,e,r){let i;r.reverse?(this.validateReverseSubject(r.object),i=this.dataFactory.quad(r.object,r.predicate,e)):i=this.dataFactory.quad(e,r.predicate,r.object),this.parsingContext.emitQuad(t,i);for(const n of r.nestedAnnotations)this.emitAnnotation(t,i,n)}}a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e.Util=a},7986:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIdentifier=void 0;e.ContainerHandlerIdentifier=class{canCombineWithGraph(){return!0}async handle(t,e,r,i,n,s){let o;if(e.emittedStack[s+1]&&e.idStack[s+1])o=e.idStack[s+1][0];else{const t=null!==await r.getContainerKey(i[s],i,s)?await r.resourceToTerm(await e.getContext(i),i[s]):r.dataFactory.blankNode();if(!t)return void(e.emittedStack[s]=!1);o=t,e.idStack[s+1]=[o]}let a=e.idStack[s];a||(a=e.idStack[s]=[]),a.some((t=>t.equals(o)))||a.push(o),await e.handlePendingContainerFlushBuffers()||(e.emittedStack[s]=!1)}}},1977:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerIndex=void 0;const i=r(5821),n=r(6970),s=r(888);e.ContainerHandlerIndex=class{canCombineWithGraph(){return!0}async handle(t,e,r,o,a,c){if(!Array.isArray(a)){const u="@graph"in t,l=await e.getContext(o),h=o[c-1],d=s.Util.getContextValueIndex(l,h);if(d){if(i.Util.isPotentialKeyword(d))throw new i.ErrorCoded(`Keywords can not be used as @index value, got: ${d}`,i.ERROR_CODES.INVALID_TERM_DEFINITION);if("string"!=typeof d)throw new i.ErrorCoded(`@index values must be strings, got: ${d}`,i.ERROR_CODES.INVALID_TERM_DEFINITION);if("object"!=typeof a){if("@id"!==s.Util.getContextValueType(l,h))throw new i.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${a}`,i.ERROR_CODES.INVALID_VALUE_OBJECT);const t=r.resourceToTerm(l,a);t&&(e.idStack[c+1]=[t])}const t=r.createVocabOrBaseTerm(l,d);if(t){const i=await r.valueToTerm(l,d,await r.getContainerKey(o[c],o,c),c,o);if(u){const n=await r.getGraphContainerValue(o,c+1);for(const s of i)e.emitQuad(c,r.dataFactory.quad(n,t,s,r.getDefaultGraph()))}else for(const s of i)await n.EntryHandlerPredicate.handlePredicateObject(e,r,o,c+1,t,s,!1,!1,!1)}}const f=u?2:1;await e.newOnValueJob(o.slice(0,o.length-f),a,c-f,!0),await e.handlePendingContainerFlushBuffers()}e.emittedStack[c]=!1}}},3847:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerLanguage=void 0;const i=r(5821);e.ContainerHandlerLanguage=class{canCombineWithGraph(){return!1}async handle(t,e,r,n,s,o){const a=await r.getContainerKey(n[o],n,o);if(Array.isArray(s))s=s.map((t=>({"@value":t,"@language":a})));else{if("string"!=typeof s)throw new i.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,i.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":a}}await e.newOnValueJob(n.slice(0,n.length-1),s,o-1,!0),e.emittedStack[o]=!1}}},7229:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerHandlerType=void 0;const i=r(6970),n=r(888);e.ContainerHandlerType=class{canCombineWithGraph(){return!1}async handle(t,e,r,s,o,a){if(!Array.isArray(o)){if("string"==typeof o){const t=await e.getContext(s),i="@vocab"===n.Util.getContextValueType(t,s[a-1])?await r.createVocabOrBaseTerm(t,o):await r.resourceToTerm(t,o);if(i){const t={"@id":"NamedNode"===i.termType?i.value:o};await e.newOnValueJob(s.slice(0,s.length-1),t,a-1,!0),e.idStack[a+1]=[i]}}else{const t=!!e.idStack[a+1];t||delete e.idStack[a],await e.newOnValueJob(s.slice(0,s.length-1),o,a-1,!0),t||(e.idStack[a+1]=e.idStack[a])}const t=await r.getContainerKey(s[a],s,a),c=null!==t?r.createVocabOrBaseTerm(await e.getContext(s),t):null;c&&await i.EntryHandlerPredicate.handlePredicateObject(e,r,s,a+1,r.rdfType,c,!1,!1,!1),await e.handlePendingContainerFlushBuffers()}e.emittedStack[a]=!1}}},9693:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerArrayValue=void 0;const i=r(888),n=r(5821);e.EntryHandlerArrayValue=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,i,n){return this.test(t,e,null,r,i)}async test(t,e,r,i,n){return"number"==typeof i[n]}async handle(t,e,r,n,s,o){let a=await e.unaliasKeywordParent(n,o);if("@list"===a){let r=null,i=0;for(let t=o-2;t>0;t--){const e=n[t];if("string"==typeof e||"number"==typeof e){i=t,r=e;break}}if(null!==r){const a=await e.valueToTerm(await t.getContext(n),r,s,o,n);for(const r of a)await this.handleListElement(t,e,r,s,o,n.slice(0,i),i);0===a.length&&await this.handleListElement(t,e,null,s,o,n.slice(0,i),i)}}else if("@set"===a)await t.newOnValueJob(n.slice(0,-2),s,o-2,!1);else if(void 0!==a&&"@type"!==a){for(let t=o-1;t>0;t--)if("number"!=typeof n[t]){a=await e.unaliasKeyword(n[t],n,t);break}const r=await t.getContext(n.slice(0,-1));if("@list"in i.Util.getContextValueContainer(r,a)){t.emittedStack[o+1]=!0;const r=await e.valueToTerm(await t.getContext(n),a,s,o,n);for(const i of r)await this.handleListElement(t,e,i,s,o,n.slice(0,-1),o-1);0===r.length&&await this.handleListElement(t,e,null,s,o,n.slice(0,-1),o-1)}else t.shiftStack(o,1),await t.newOnValueJob(n.slice(0,-1),s,o-1,!1),t.contextTree.removeContext(n.slice(0,-1))}}async handleListElement(t,e,r,i,s,o,a){let c=t.listPointerStack[s];if(null!==i&&null!==(await e.unaliasKeywords(i,o,s))["@value"]){if(c&&c.value){const r=e.dataFactory.blankNode();t.emitQuad(s,e.dataFactory.quad(c.value,e.rdfRest,r,e.getDefaultGraph())),c.value=r}else{const t=e.dataFactory.blankNode();c={value:t,listRootDepth:a,listId:t}}r&&t.emitQuad(s,e.dataFactory.quad(c.value,e.rdfFirst,r,e.getDefaultGraph()))}else c||(c={listRootDepth:a,listId:e.rdfNil});t.listPointerStack[s]=c,t.rdfstar&&t.annotationsBuffer[s]&&t.emitError(new n.ErrorCoded("Found an illegal annotation inside a list",n.ERROR_CODES.INVALID_ANNOTATION))}}},4860:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerContainer=void 0;const i=r(7986),n=r(1977),s=r(3847),o=r(7229),a=r(888);class c{static isSimpleGraphContainer(t){return"@graph"in t&&("@set"in t&&2===Object.keys(t).length||1===Object.keys(t).length)}static isComplexGraphContainer(t){return"@graph"in t&&("@set"in t&&Object.keys(t).length>2||!("@set"in t)&&Object.keys(t).length>1)}static getContainerGraphIndex(t,e,r){let i=c.isSimpleGraphContainer(t),n="";for(let s=e;s<r.length;s++)i&&"number"!=typeof r[s]||(n+=":"+r[s]),i||"number"==typeof r[s]||(i=!0);return n}static async getContainerHandler(t,e,r){const i={containers:{"@set":!0},depth:r,fallback:!0};let n=!1;const s=await t.getContext(e,2);for(let o=r-1;o>=0;o--)if("number"!=typeof e[o]){const t=a.Util.getContextValue(s,"@container",e[o],!1);if(t&&c.isSimpleGraphContainer(t))return{containers:t,depth:o+1,fallback:!1};const r=a.Util.getContextValue(s,"@container",e[o-1],!1);if(r){const t="@graph"in r;for(const e in c.CONTAINER_HANDLERS)if(r[e])return t?c.CONTAINER_HANDLERS[e].canCombineWithGraph()?{containers:r,depth:o,fallback:!1}:i:n?i:{containers:r,depth:o,fallback:!1};return i}if(n)return i;n=!0}return i}static async isBufferableContainerHandler(t,e,r){const i=await c.getContainerHandler(t,e,r);return!i.fallback&&!("@graph"in i.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,i,n){return!!(await this.test(t,e,null,r,i))}async test(t,e,r,i,n){const s=a.Util.getContextValueContainer(await t.getContext(i,2),i[n-1]);for(const o in c.CONTAINER_HANDLERS)if(s[o])return{containers:s,handler:c.CONTAINER_HANDLERS[o]};return null}async handle(t,e,r,i,n,s,o){return o.handler.handle(o.containers,t,e,i,n,s)}}c.CONTAINER_HANDLERS={"@id":new i.ContainerHandlerIdentifier,"@index":new n.ContainerHandlerIndex,"@language":new s.ContainerHandlerLanguage,"@type":new o.ContainerHandlerType},e.EntryHandlerContainer=c},2386:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerInvalidFallback=void 0;e.EntryHandlerInvalidFallback=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,i,n){return!1}async test(t,e,r,i,n){return!0}async handle(t,e,r,i,n,s){t.emittedStack[s]=!1}}},6970:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerPredicate=void 0;const i=r(5821),n=r(888);class s{static async handlePredicateObject(t,e,r,n,s,o,a,c,u){const l=await e.getPropertiesDepth(r,n),h=await e.getDepthOffsetGraph(n,r),d=n-h,f=t.idStack[l];if(f&&!u)for(const i of f){if(h>=0){const r=t.idStack[d-1];if(r)for(const t of r)e.emitQuadChecked(n,i,s,o,t,a,c);else a?(e.validateReverseSubject(o),t.getUnidentifiedGraphBufferSafe(d-1).push({subject:o,predicate:s,object:i,isEmbedded:c})):t.getUnidentifiedGraphBufferSafe(d-1).push({subject:i,predicate:s,object:o,isEmbedded:c})}else{const t=await e.getGraphContainerValue(r,l);e.emitQuadChecked(n,i,s,o,t,a,c)}}else if(a&&e.validateReverseSubject(o),u){if(t.rdfstar){t.idStack[n]&&t.emitError(new i.ErrorCoded(`Found an illegal @id inside an annotation: ${t.idStack[n][0].value}`,i.ERROR_CODES.INVALID_ANNOTATION));for(let s=0;s<n;s++)"@id"===await e.unaliasKeyword(r[s],r,s)&&t.emitError(new i.ErrorCoded("Found an illegal annotation inside an embedded node",i.ERROR_CODES.INVALID_ANNOTATION));const c=t.getAnnotationsBufferSafe(l),u={predicate:s,object:o,reverse:a,nestedAnnotations:[],depth:l};c.push(u);for(let t=c.length-2;t>=0;t--){const e=c[t];e.depth>l&&(u.nestedAnnotations.push(e),c.splice(t,1))}}}else t.getUnidentifiedValueBufferSafe(l).push({predicate:s,object:o,reverse:a,isEmbedded:c})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(t,e,r,i,s){const o=r[i];if(o){const s=await t.getContext(r);if(!t.jsonLiteralStack[i]&&await e.predicateToTerm(s,r[i]))return"@json"===n.Util.getContextValueType(s,o)&&(t.jsonLiteralStack[i+1]=!0),!0}return!1}async test(t,e,r,i,n){return i[n]}async handle(t,e,r,o,a,c,u){const l=o[c],h=await t.getContext(o),d=await e.predicateToTerm(h,r);if(d){const u=await e.valueToTerm(h,r,a,c,o);if(u.length)for(let f of u){let u=await e.unaliasKeywordParent(o,c);const p=n.Util.isPropertyReverse(h,l,u);let g=0;for(;"@reverse"===u||"number"==typeof u;)"number"==typeof u?g++:c--,u=await e.unaliasKeywordParent(o,c-g);const _=n.Util.isPropertyInEmbeddedNode(u);e.validateReverseInEmbeddedNode(r,p,_);const b=n.Util.isPropertyInAnnotationObject(u);if(a){const s="@list"in n.Util.getContextValueContainer(h,r);if(s||a["@list"]){if((s&&!Array.isArray(a)&&!a["@list"]||a["@list"]&&!Array.isArray(a["@list"]))&&f!==e.rdfNil){const r=e.dataFactory.blankNode();t.emitQuad(c,e.dataFactory.quad(r,e.rdfRest,e.rdfNil,e.getDefaultGraph())),t.emitQuad(c,e.dataFactory.quad(r,e.rdfFirst,f,e.getDefaultGraph())),f=r}if(p&&!t.allowSubjectList)throw new i.ErrorCoded(`Found illegal list value in subject position at ${r}`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await s.handlePredicateObject(t,e,o,c,d,f,p,_,b)}}}}e.EntryHandlerPredicate=s},1548:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeyword=void 0;e.EntryHandlerKeyword=class{constructor(t){this.keyword=t}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,i,n){return!1}async test(t,e,r,i,n){return r===this.keyword}}},6105:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordAnnotation=void 0;const i=r(1548),n=r(5821);class s extends i.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(t,e,r,i,s,o){("string"==typeof s||"object"==typeof s&&s["@value"])&&t.emitError(new n.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(s)}`,n.ERROR_CODES.INVALID_ANNOTATION))}}e.EntryHandlerKeywordAnnotation=s},3809:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordContext=void 0;const i=r(5821),n=r(1548);class s extends n.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(t,e,r,n,s,o){t.streamingProfile&&(t.processingStack[o]||t.processingType[o]||void 0!==t.idStack[o])&&t.emitError(new i.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",i.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const a=t.getContext(n),c=t.parseContext(s,(await a).getContextRaw());t.contextTree.setContext(n.slice(0,-1),c),t.emitContext(s),await t.validateContext(await c)}}e.EntryHandlerKeywordContext=s},5998:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordGraph=void 0;const i=r(1548);class n extends i.EntryHandlerKeyword{constructor(){super("@graph")}async handle(t,e,r,i,n,s){t.graphStack[s+1]=!0}}e.EntryHandlerKeywordGraph=n},5517:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordId=void 0;const i=r(5821),n=r(1548);class s extends n.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(t,e,r,n,s,o){if("string"!=typeof s){if(t.rdfstar&&"object"==typeof s){const e=Object.keys(s);1===e.length&&"@id"===e[0]&&t.emitError(new i.ErrorCoded(`Invalid embedded node without property with @id ${s["@id"]}`,i.ERROR_CODES.INVALID_EMBEDDED_NODE))}else t.emitError(new i.ErrorCoded(`Found illegal @id '${s}'`,i.ERROR_CODES.INVALID_ID_VALUE));return}const a=await e.getPropertiesDepth(n,o);if(void 0!==t.idStack[a]&&(t.idStack[a][0].listHead?t.emitError(new i.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${n[o-1]}'`,i.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):t.emitError(new i.ErrorCoded(`Found duplicate @ids '${t.idStack[a][0].value}' and '${s}'`,i.ERROR_CODES.COLLIDING_KEYWORDS))),t.rdfstar&&t.annotationsBuffer[o])for(const c of t.annotationsBuffer[o])c.depth===o&&t.emitError(new i.ErrorCoded(`Found an illegal @id inside an annotation: ${s}`,i.ERROR_CODES.INVALID_ANNOTATION));t.idStack[a]=e.nullableTermToArray(await e.resourceToTerm(await t.getContext(n),s))}}e.EntryHandlerKeywordId=s},736:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordIncluded=void 0;const i=r(5821),n=r(1548);class s extends n.EntryHandlerKeyword{constructor(){super("@included")}async handle(t,e,r,n,s,o){"object"!=typeof s&&t.emitError(new i.ErrorCoded(`Found illegal @included '${s}'`,i.ERROR_CODES.INVALID_INCLUDED_VALUE));const a=await e.unaliasKeywords(s,n,o,await t.getContext(n));"@value"in a&&t.emitError(new i.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(s)}'`,i.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in a&&t.emitError(new i.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(s)}'`,i.ERROR_CODES.INVALID_INCLUDED_VALUE)),t.emittedStack[o]=!1}}e.EntryHandlerKeywordIncluded=s},4910:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordNest=void 0;const i=r(5821),n=r(1548);class s extends n.EntryHandlerKeyword{constructor(){super("@nest")}async handle(t,e,r,n,s,o){"object"!=typeof s&&t.emitError(new i.ErrorCoded(`Found invalid @nest entry for '${r}': '${s}'`,i.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await e.unaliasKeywords(s,n,o,await t.getContext(n))&&t.emitError(new i.ErrorCoded(`Found an invalid @value node for '${r}'`,i.ERROR_CODES.INVALID_NEST_VALUE)),t.emittedStack[o]=!1}}e.EntryHandlerKeywordNest=s},2036:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordType=void 0;const i=r(5821),n=r(888),s=r(6970),o=r(1548);class a extends o.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(t,e,r,o,a,c){const u=o[c],l=await t.getContext(o),h=e.rdfType,d=await e.unaliasKeywordParent(o,c),f=n.Util.isPropertyReverse(l,u,d),p=n.Util.isPropertyInEmbeddedNode(d);e.validateReverseInEmbeddedNode(r,f,p);const g=n.Util.isPropertyInAnnotationObject(d),_=Array.isArray(a)?a:[a];for(const n of _){"string"!=typeof n&&t.emitError(new i.ErrorCoded(`Found illegal @type '${n}'`,i.ERROR_CODES.INVALID_TYPE_VALUE));const r=e.createVocabOrBaseTerm(l,n);r&&await s.EntryHandlerPredicate.handlePredicateObject(t,e,o,c,h,r,f,p,g)}let b=Promise.resolve(l),y=!1;for(const i of _.sort()){const e=n.Util.getContextValue(l,"@context",i,null);e&&(y=!0,b=b.then((r=>t.parseContext(e,r.getContextRaw()))))}!t.streamingProfile||!y&&t.streamingProfileAllowOutOfOrderPlainType||!t.processingStack[c]&&!t.idStack[c]||t.emitError(new i.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",i.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),y&&(b=b.then((t=>!0!==t.getContextRaw()["@propagate"]?new i.JsonLdContextNormalized(Object.assign(Object.assign({},t.getContextRaw()),{"@propagate":!1,"@__propagateFallback":l.getContextRaw()})):t)),t.contextTree.setContext(o.slice(0,o.length-1),b)),t.processingType[c]=!0}}e.EntryHandlerKeywordType=a},6454:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordUnknownFallback=void 0;const i=r(5821);class n{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(t,e,r,n,s){const o=await e.unaliasKeyword(r[n],r,n);return!!i.Util.isPotentialKeyword(o)&&!(!s&&"@list"===o)}async test(t,e,r,n,s){return i.Util.isPotentialKeyword(r)}async handle(t,e,r,s,o,a){const c=n.VALID_KEYWORDS_TYPES[r];void 0!==c?c&&typeof o!==c.type&&t.emitError(new i.ErrorCoded(`Invalid value type for '${r}' with value '${o}'`,c.errorCode)):t.strictValues&&t.emitError(new Error(`Unknown keyword '${r}' with value '${o}'`)),t.emittedStack[a]=!1}}n.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:i.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:i.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},e.EntryHandlerKeywordUnknownFallback=n},3283:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EntryHandlerKeywordValue=void 0;const i=r(1548);class n extends i.EntryHandlerKeyword{constructor(){super("@value")}async validate(t,e,r,i,n){const s=r[i];return s&&!t.literalStack[i]&&await this.test(t,e,s,r,i)&&(t.literalStack[i]=!0),super.validate(t,e,r,i,n)}async test(t,e,r,i,n){return"@value"===await e.unaliasKeyword(i[n],i.slice(0,i.length-1),n-1,!0)}async handle(t,e,r,i,n,s){t.literalStack[s]=!0,delete t.unidentifiedValuesBuffer[s],delete t.unidentifiedGraphsBuffer[s],t.emittedStack[s]=!1}}e.EntryHandlerKeywordValue=n},5821:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(8314),e),n(r(8033),e),n(r(9344),e),n(r(2731),e),n(r(1579),e),n(r(2602),e),n(r(384),e)},8314:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextParser=void 0;const i=r(742),n=r(8033),s=r(9344),o=r(2602),a=r(384);class c{constructor(t){t=t||{},this.documentLoader=t.documentLoader||new s.FetchDocumentLoader,this.documentCache={},this.validateContext=!t.skipValidation,this.expandContentTypeToBase=!!t.expandContentTypeToBase,this.remoteContextsDepthLimit=t.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in t)||!!t.redirectSchemaOrgHttps}static validateLanguage(t,e,r){if("string"!=typeof t)throw new n.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(t)}'`,r);if(!a.Util.REGEX_LANGUAGE_TAG.test(t)){if(e)throw new n.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(t)}'`,r);return!1}return!0}static validateDirection(t,e){if("string"!=typeof t)throw new n.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(t)}'`,n.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(t)){if(e)throw new n.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(t)}'`,n.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(t){for(const e of Object.keys(t)){let r=t[e];if(r&&"object"==typeof r&&r["@reverse"]&&!r["@id"]){if("string"!=typeof r["@reverse"]||a.Util.isValidKeyword(r["@reverse"]))throw new n.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);r=t[e]=Object.assign(Object.assign({},r),{"@id":r["@reverse"]}),r["@id"]=r["@reverse"],a.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return t}expandPrefixedTerms(t,e,r){const i=t.getContextRaw();for(const s of r||Object.keys(i))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(s)<0&&!a.Util.isReservedInternalKeyword(s)){const r=i[s];if(a.Util.isPotentialKeyword(s)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(s)>=0&&("@type"!==s||"object"==typeof i[s]&&!i[s]["@protected"]&&"@set"!==i[s]["@container"]))throw new n.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${s} to ${JSON.stringify(r)}`,n.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(r))>=0)throw new n.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${s} to ${JSON.stringify(r)}`,n.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(r&&a.Util.isPotentialKeyword(a.Util.getContextValueId(r))&&!0===r["@prefix"])throw new n.ErrorCoded(`Tried to use keyword aliases as prefix: '${s}': '${JSON.stringify(r)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(i[s]);){const r=i[s];let n=!1;if("string"==typeof r)i[s]=t.expandTerm(r,!0),n=n||r!==i[s];else{const o=r["@id"],c=r["@type"],u=!("@prefix"in r)||a.Util.isValidIri(s);if("@id"in r)null!=o&&"string"==typeof o&&(i[s]=Object.assign(Object.assign({},i[s]),{"@id":t.expandTerm(o,!0)}),n=n||o!==i[s]["@id"]);else if(!a.Util.isPotentialKeyword(s)&&u){const e=t.expandTerm(s,!0);e!==s&&(i[s]=Object.assign(Object.assign({},i[s]),{"@id":e}),n=!0)}if(c&&"string"==typeof c&&"@vocab"!==c&&(!r["@container"]||!r["@container"]["@type"])&&u){let r=t.expandTerm(c,!0);e&&c===r&&(r=t.expandTerm(c,!1)),r!==c&&(n=!0,i[s]=Object.assign(Object.assign({},i[s]),{"@type":r}))}}if(!n)break}}}normalize(t,{processingMode:e,normalizeLanguageTags:r}){if(r||1===e)for(const i of Object.keys(t))if("@language"===i&&"string"==typeof t[i])t[i]=t[i].toLowerCase();else{const e=t[i];if(e&&"object"==typeof e&&"string"==typeof e["@language"]){const r=e["@language"].toLowerCase();r!==e["@language"]&&(t[i]=Object.assign(Object.assign({},e),{"@language":r}))}}}containersToHash(t){for(const e of Object.keys(t)){const r=t[e];if(r&&"object"==typeof r)if("string"==typeof r["@container"])t[e]=Object.assign(Object.assign({},r),{"@container":{[r["@container"]]:!0}});else if(Array.isArray(r["@container"])){const i={};for(const t of r["@container"])i[t]=!0;t[e]=Object.assign(Object.assign({},r),{"@container":i})}}}applyScopedProtected(t,{processingMode:e},r){if(e&&e>=1.1&&t["@protected"]){for(const e of Object.keys(t))if(!a.Util.isReservedInternalKeyword(e)&&!a.Util.isPotentialKeyword(e)&&!a.Util.isTermProtected(t,e)){const i=t[e];i&&"object"==typeof i?"@protected"in t[e]||(t[e]=Object.assign(Object.assign({},t[e]),{"@protected":!0})):(t[e]={"@id":i,"@protected":!0},a.Util.isSimpleTermDefinitionPrefix(i,r)&&(t[e]=Object.assign(Object.assign({},t[e]),{"@prefix":!0})))}delete t["@protected"]}}validateKeywordRedefinitions(t,e,r,i){for(const s of null!=i?i:Object.keys(e))if(a.Util.isTermProtected(t,s)&&("string"==typeof e[s]?e[s]={"@id":e[s],"@protected":!0}:e[s]=Object.assign(Object.assign({},e[s]),{"@protected":!0}),!a.Util.deepEqual(t[s],e[s])))throw new n.ErrorCoded(`Attempted to override the protected keyword ${s} from ${JSON.stringify(a.Util.getContextValueId(t[s]))} to ${JSON.stringify(a.Util.getContextValueId(e[s]))}`,n.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(t,{processingMode:e}){for(const r of Object.keys(t)){if(a.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new n.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(t[r])}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);const i=t[r],s=typeof i;if(a.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==i&&"string"!==s)throw new n.ErrorCoded(`Found an invalid @vocab IRI: ${i}`,n.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==i&&"string"!==s)throw new n.ErrorCoded(`Found an invalid @base IRI: ${t[r]}`,n.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==i&&c.validateLanguage(i,!0,n.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==i&&"number"!==s)throw new n.ErrorCoded(`Found an invalid @version number: ${i}`,n.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==i&&c.validateDirection(i,!0);break;case"propagate":if(1===e)throw new n.ErrorCoded(`Found an illegal @propagate keyword: ${i}`,n.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==i&&"boolean"!==s)throw new n.ErrorCoded(`Found an invalid @propagate value: ${i}`,n.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(a.Util.isValidKeyword(r)&&a.Util.isValidKeyword(a.Util.getContextValueId(i)))throw new n.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${a.Util.getContextValueId(i)}'`,n.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==i)switch(s){case"string":if(a.Util.getPrefix(i,t)===r)throw new n.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(r)){if("@type"===i)throw new n.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${i}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(i)&&i!==new o.JsonLdContextNormalized(t).expandTerm(r))throw new n.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${i}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(a.Util.isCompactIri(r)||"@id"in i||("@id"===i["@type"]?t["@base"]:t["@vocab"])))throw new n.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);for(const u of Object.keys(i)){const l=i[u];if(l)switch(u){case"@id":if(a.Util.isValidKeyword(l)&&"@type"!==l&&"@id"!==l&&"@graph"!==l&&"@nest"!==l)throw new n.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(r)){if("@type"===l)throw new n.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(l)&&l!==new o.JsonLdContextNormalized(t).expandTerm(r))throw new n.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!=typeof l)throw new n.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(l,t)===r)throw new n.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===i["@container"]&&"@id"!==l&&"@vocab"!==l)throw new n.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${l}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!=typeof l)throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(s)}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);if(!("@id"===l||"@vocab"===l||1!==e&&"@json"===l||1!==e&&"@none"===l||"_"!==l[0]&&a.Util.isValidIri(l)))throw new n.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${l}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"==typeof l&&i["@id"]&&i["@id"]!==l)throw new n.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${l}' and '${i["@id"]}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in i)throw new n.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===e&&(Object.keys(l).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(l)[0])<0))throw new n.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(l)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,n.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const t of Object.keys(l)){if("@list"===t&&i["@reverse"])throw new n.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(t)<0)throw new n.ErrorCoded(`Invalid term @container for '${r}' ('${t}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,n.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":c.validateLanguage(l,!0,n.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":c.validateDirection(l,!0);break;case"@prefix":if(null!==l&&"boolean"!=typeof l)throw new n.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in i)&&!a.Util.isValidIri(r))throw new n.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===e||!i["@container"]||!i["@container"]["@index"])throw new n.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(l)&&"@nest"!==l)throw new n.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new n.ErrorCoded(`Found an invalid term value: '${r}': '${i}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(t,e,r){return"string"==typeof t||(r&&!("@base"in t)&&e.parentContext&&"object"==typeof e.parentContext&&"@base"in e.parentContext&&(t["@base"]=e.parentContext["@base"],e.parentContext["@__baseDocument"]&&(t["@__baseDocument"]=!0)),e.baseIRI&&!e.external&&("@base"in t?null===t["@base"]||"string"!=typeof t["@base"]||a.Util.isValidIri(t["@base"])||(t["@base"]=(0,i.resolve)(t["@base"],e.parentContext&&e.parentContext["@base"]||e.baseIRI)):(t["@base"]=e.baseIRI,t["@__baseDocument"]=!0))),t}normalizeContextIri(t,e){if(!a.Util.isValidIri(t))try{t=(0,i.resolve)(t,e)}catch(r){throw new Error(`Invalid context IRI: ${t}`)}return this.redirectSchemaOrgHttps&&t.startsWith("http://schema.org")&&(t="https://schema.org/"),t}async parseInnerContexts(t,e,r){for(const s of null!=r?r:Object.keys(t)){const r=t[s];if(r&&"object"==typeof r&&"@context"in r&&null!==r["@context"]&&!e.ignoreScopedContexts){if(this.validateContext)try{const i=Object.assign(Object.assign({},t),{[s]:Object.assign({},t[s])});delete i[s]["@context"],await this.parse(r["@context"],Object.assign(Object.assign({},e),{external:!1,parentContext:i,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(i){throw new n.ErrorCoded(i.message,n.ERROR_CODES.INVALID_SCOPED_CONTEXT)}t[s]=Object.assign(Object.assign({},r),{"@context":(await this.parse(r["@context"],Object.assign(Object.assign({},e),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:t}))).getContextRaw()})}}return t}async parse(t,e={},r={}){const{baseIRI:i,parentContext:s,external:u,processingMode:l=c.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:h,ignoreProtection:d,minimalProcessing:f}=e,p=e.remoteContexts||{};if(Object.keys(p).length>=this.remoteContextsDepthLimit)throw new n.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(p),n.ERROR_CODES.CONTEXT_OVERFLOW);if(null==t){if(!d&&s&&a.Util.hasProtectedTerms(s))throw new n.ErrorCoded("Illegal context nullification when terms are protected",n.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new o.JsonLdContextNormalized(this.applyBaseEntry({},e,!1))}if("string"==typeof t){const r=this.normalizeContextIri(t,i),n=this.getOverriddenLoad(r,e);if(n)return new o.JsonLdContextNormalized(n);const s=await this.parse(await this.load(r),Object.assign(Object.assign({},e),{baseIRI:r,external:!0,remoteContexts:Object.assign(Object.assign({},p),{[r]:!0})}));return this.applyBaseEntry(s.getContextRaw(),e,!0),s}if(Array.isArray(t)){const r=[],n=await Promise.all(t.map(((t,n)=>{if("string"==typeof t){const s=this.normalizeContextIri(t,i);r[n]=s;const o=this.getOverriddenLoad(s,e);return o||this.load(s)}return t})));if(f)return new o.JsonLdContextNormalized(n);const a=await n.reduce(((t,i,s)=>t.then((t=>this.parse(i,Object.assign(Object.assign({},e),{baseIRI:r[s]||e.baseIRI,external:!!r[s]||e.external,parentContext:t.getContextRaw(),remoteContexts:r[s]?Object.assign(Object.assign({},p),{[r[s]]:!0}):p}),{skipValidation:s<n.length-1})))),Promise.resolve(new o.JsonLdContextNormalized(s||{})));return this.applyBaseEntry(a.getContextRaw(),e,!0),a}if("object"==typeof t){if("@context"in t)return await this.parse(t["@context"],e);if(t=Object.assign({},t),u&&delete t["@base"],this.applyBaseEntry(t,e,!0),this.containersToHash(t),f)return new o.JsonLdContextNormalized(t);let p={};if("@import"in t){if(!(l>=1.1))throw new n.ErrorCoded("Context importing is not supported in JSON-LD 1.0",n.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!=typeof t["@import"])throw new n.ErrorCoded("An @import value must be a string, but got "+typeof t["@import"],n.ERROR_CODES.INVALID_IMPORT_VALUE);p=await this.loadImportContext(this.normalizeContextIri(t["@import"],i)),delete t["@import"]}this.applyScopedProtected(p,{processingMode:l},o.defaultExpandOptions);const g=Object.assign(p,t);this.idifyReverseTerms(g),this.normalize(g,{processingMode:l,normalizeLanguageTags:h}),this.applyScopedProtected(g,{processingMode:l},o.defaultExpandOptions);const _=Object.keys(g),b=[];if("object"==typeof s)for(const t in s)t in g?b.push(t):g[t]=s[t];await this.parseInnerContexts(g,e,_);const y=new o.JsonLdContextNormalized(g);return(g&&g["@version"]||c.DEFAULT_PROCESSING_MODE)>=1.1&&(t["@vocab"]&&"string"==typeof t["@vocab"]||""===t["@vocab"])&&(s&&"@vocab"in s&&t["@vocab"].indexOf(":")<0?g["@vocab"]=s["@vocab"]+t["@vocab"]:(a.Util.isCompactIri(t["@vocab"])||t["@vocab"]in g)&&(g["@vocab"]=y.expandTerm(t["@vocab"],!0))),this.expandPrefixedTerms(y,this.expandContentTypeToBase,_),!d&&s&&l>=1.1&&this.validateKeywordRedefinitions(s,g,o.defaultExpandOptions,b),this.validateContext&&!r.skipValidation&&this.validate(g,{processingMode:l}),y}throw new n.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${t}`,n.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(t){const e=this.documentCache[t];if(e)return e;let r;try{r=await this.documentLoader.load(t)}catch(i){throw new n.ErrorCoded(`Failed to load remote context ${t}: ${i.message}`,n.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new n.ErrorCoded(`Missing @context in remote context at ${t}`,n.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[t]=r["@context"]}getOverriddenLoad(t,e){if(t in(e.remoteContexts||{})){if(e.ignoreRemoteScopedContexts)return t;throw new n.ErrorCoded("Detected a cyclic context inclusion of "+t,n.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(t){let e=await this.load(t);if("object"!=typeof e||Array.isArray(e))throw new n.ErrorCoded("An imported context must be a single object: "+t,n.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in e)throw new n.ErrorCoded("An imported context can not import another context: "+t,n.ERROR_CODES.INVALID_CONTEXT_ENTRY);return e=Object.assign({},e),this.containersToHash(e),e}}c.DEFAULT_PROCESSING_MODE=1.1,e.ContextParser=c},8033:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_CODES=e.ErrorCoded=void 0;class r extends Error{constructor(t,e){super(t),this.code=e}}e.ErrorCoded=r,function(t){t.COLLIDING_KEYWORDS="colliding keywords",t.CONFLICTING_INDEXES="conflicting indexes",t.CYCLIC_IRI_MAPPING="cyclic IRI mapping",t.INVALID_ID_VALUE="invalid @id value",t.INVALID_INDEX_VALUE="invalid @index value",t.INVALID_NEST_VALUE="invalid @nest value",t.INVALID_PREFIX_VALUE="invalid @prefix value",t.INVALID_PROPAGATE_VALUE="invalid @propagate value",t.INVALID_REVERSE_VALUE="invalid @reverse value",t.INVALID_IMPORT_VALUE="invalid @import value",t.INVALID_VERSION_VALUE="invalid @version value",t.INVALID_BASE_IRI="invalid base IRI",t.INVALID_CONTAINER_MAPPING="invalid container mapping",t.INVALID_CONTEXT_ENTRY="invalid context entry",t.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",t.INVALID_DEFAULT_LANGUAGE="invalid default language",t.INVALID_INCLUDED_VALUE="invalid @included value",t.INVALID_IRI_MAPPING="invalid IRI mapping",t.INVALID_JSON_LITERAL="invalid JSON literal",t.INVALID_KEYWORD_ALIAS="invalid keyword alias",t.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",t.INVALID_LANGUAGE_MAPPING="invalid language mapping",t.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",t.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",t.INVALID_LOCAL_CONTEXT="invalid local context",t.INVALID_REMOTE_CONTEXT="invalid remote context",t.INVALID_REVERSE_PROPERTY="invalid reverse property",t.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",t.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",t.INVALID_SCOPED_CONTEXT="invalid scoped context",t.INVALID_SCRIPT_ELEMENT="invalid script element",t.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",t.INVALID_TERM_DEFINITION="invalid term definition",t.INVALID_TYPE_MAPPING="invalid type mapping",t.INVALID_TYPE_VALUE="invalid type value",t.INVALID_TYPED_VALUE="invalid typed value",t.INVALID_VALUE_OBJECT="invalid value object",t.INVALID_VALUE_OBJECT_VALUE="invalid value object value",t.INVALID_VOCAB_MAPPING="invalid vocab mapping",t.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",t.KEYWORD_REDEFINITION="keyword redefinition",t.LOADING_DOCUMENT_FAILED="loading document failed",t.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",t.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",t.PROCESSING_MODE_CONFLICT="processing mode conflict",t.PROTECTED_TERM_REDEFINITION="protected term redefinition",t.CONTEXT_OVERFLOW="context overflow",t.INVALID_BASE_DIRECTION="invalid base direction",t.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",t.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",t.INVALID_EMBEDDED_NODE="invalid embedded node",t.INVALID_ANNOTATION="invalid annotation"}(e.ERROR_CODES||(e.ERROR_CODES={}))},9344:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FetchDocumentLoader=void 0;const i=r(8033),n=r(2384),s=r(742);e.FetchDocumentLoader=class{constructor(t){this.fetcher=t}async load(t){const e=await(this.fetcher||fetch)(t,{headers:new Headers({accept:"application/ld+json"})});if(e.ok&&e.headers){let r=e.headers.get("Content-Type");if(r){const t=r.indexOf(";");t>0&&(r=r.substr(0,t))}if("application/ld+json"===r)return await e.json();if(e.headers.has("Link")){let r;if(e.headers.forEach(((e,i)=>{if("link"===i){const i=(0,n.parse)(e);for(const e of i.get("type","application/ld+json"))if("alternate"===e.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+t);r=(0,s.resolve)(e.uri,t)}}})),r)return this.load(r)}throw new i.ErrorCoded(`Unsupported JSON-LD media type ${r}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(e.statusText||`Status code: ${e.status}`)}}},2731:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},1579:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2602:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExpandOptions=e.JsonLdContextNormalized=void 0;const i=r(742),n=r(8033),s=r(384);e.JsonLdContextNormalized=class{constructor(t){this.contextRaw=t}getContextRaw(){return this.contextRaw}expandTerm(t,r,o=e.defaultExpandOptions){const a=this.contextRaw[t];if(null===a||a&&null===a["@id"])return null;let c=!0;if(a&&r){const e=s.Util.getContextValueId(a);if(e&&e!==t){if("string"==typeof e&&(s.Util.isValidIri(e)||s.Util.isValidKeyword(e)))return e;s.Util.isPotentialKeyword(e)||(c=!1)}}const u=s.Util.getPrefix(t,this.contextRaw),l=this.contextRaw["@vocab"],h=(!!l||""===l)&&l.indexOf(":")<0,d=this.contextRaw["@base"],f=s.Util.isPotentialKeyword(t);if(u){const e=this.contextRaw[u],r=s.Util.getContextValueId(e);if(r){if("string"!=typeof e&&o.allowPrefixForcing){if("_"!==r[0]&&!f&&!e["@prefix"]&&!(t in this.contextRaw))return t}else if(!s.Util.isSimpleTermDefinitionPrefix(r,o))return t;return r+t.substr(u.length+1)}}else{if(r&&(l||""===l||o.allowVocabRelativeToBase&&d&&h)&&!f&&!s.Util.isCompactIri(t)){if(h){if(o.allowVocabRelativeToBase)return(l||d?(0,i.resolve)(l,d):"")+t;throw new n.ErrorCoded(`Relative vocab expansion for term '${t}' with vocab '${l}' is not allowed.`,n.ERROR_CODES.INVALID_VOCAB_MAPPING)}return l+t}if(!r&&d&&!f&&!s.Util.isCompactIri(t))return(0,i.resolve)(t,d)}if(c)return t;throw new n.ErrorCoded(`Invalid IRI mapping found for context entry '${t}': '${JSON.stringify(a)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(t,e){if(e&&this.contextRaw["@vocab"]&&t.startsWith(this.contextRaw["@vocab"]))return t.substr(this.contextRaw["@vocab"].length);if(!e&&this.contextRaw["@base"]&&t.startsWith(this.contextRaw["@base"]))return t.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:t};for(const i in this.contextRaw){const n=this.contextRaw[i];if(n&&!s.Util.isPotentialKeyword(i)){const o=s.Util.getContextValueId(n);if(t.startsWith(o)){const n=t.substr(o.length);if(n)n.length<r.suffix.length&&(r.prefix=i,r.suffix=n);else if(e)return i}}}return r.prefix?r.prefix+":"+r.suffix:t}},e.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},384:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;class r{static isCompactIri(t){return t.indexOf(":")>0&&!(t&&"#"===t[0])}static getPrefix(t,e){if(t&&"#"===t[0])return null;const r=t.indexOf(":");if(r>=0){if(t.length>r+1&&"/"===t.charAt(r+1)&&"/"===t.charAt(r+2))return null;const i=t.substr(0,r);if("_"===i)return null;if(e[i])return i}return null}static getContextValueId(t){if(null===t||"string"==typeof t)return t;const e=t["@id"];return e||null}static isSimpleTermDefinitionPrefix(t,e){return!r.isPotentialKeyword(t)&&(e.allowPrefixNonGenDelims||"string"==typeof t&&("_"===t[0]||r.isPrefixIriEndingWithGenDelim(t)))}static isPotentialKeyword(t){return"string"==typeof t&&r.KEYWORD_REGEX.test(t)}static isPrefixIriEndingWithGenDelim(t){return r.ENDS_WITH_GEN_DELIM.test(t)}static isPrefixValue(t){return t&&("string"==typeof t||t&&"object"==typeof t)}static isValidIri(t){return Boolean(t&&r.IRI_REGEX.test(t))}static isValidIriWeak(t){return!!t&&":"!==t[0]&&r.IRI_REGEX_WEAK.test(t)}static isValidKeyword(t){return r.VALID_KEYWORDS[t]}static isTermProtected(t,e){const r=t[e];return!("string"==typeof r)&&r&&r["@protected"]}static hasProtectedTerms(t){for(const e of Object.keys(t))if(r.isTermProtected(t,e))return!0;return!1}static isReservedInternalKeyword(t){return t.startsWith("@__")}static deepEqual(t,e){const r=Object.keys(t),i=Object.keys(e);return r.length===i.length&&r.every((r=>{const i=t[r],n=e[r];return i===n||null!==i&&null!==n&&"object"==typeof i&&"object"==typeof n&&this.deepEqual(i,n)}))}}r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,r.IRI_REGEX_WEAK=/(?::[^:])|\//,r.KEYWORD_REGEX=/^@[a-z]+$/i,r.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,r.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,r.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,r.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},r.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],r.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],r.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],r.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],r.CONTAINERS_1_0=["@list","@set","@index"],e.Util=r},1009:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(3170),e),n(r(8686),e),n(r(7194),e),n(r(6458),e),n(r(8770),e),n(r(3392),e),n(r(8073),e),n(r(5636),e),n(r(6126),e),n(r(3153),e)},3392:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},8073:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5636:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},6126:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrodataRdfParser=void 0;const i=r(8659),n=r(9198),s=r(8686),o=r(7194),a=r(6458),c=r(8770),u=r(3153),l=r(8395);class h extends n.Transform{constructor(t){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},t=t||{},this.options=t,this.util=new u.Util(t.dataFactory,t.baseIRI),this.defaultGraph=t.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=t.htmlParseListener,this.vocabRegistry=t.vocabRegistry||l,this.parser=this.initializeParser(!!t.xmlMode)}import(t){const e=new n.PassThrough({readableObjectMode:!0});t.on("error",(t=>r.emit("error",t))),t.on("data",(t=>e.push(t))),t.on("end",(()=>e.push(null)));const r=e.pipe(new h(this.options));return r}_transform(t,e,r){this.parser.write(t.toString()),r()}_flush(t){this.parser.end(),t()}getItemScope(t){let e=this.itemScopeStack.length-(t?2:1);for(;e>0&&!this.itemScopeStack[e];)e--;return this.itemScopeStack[e]}getDepth(){return this.itemScopeStack.length}onTagOpen(t,e){if(!this.isEmittingReferences){if("id"in e){const t=e.id;this.pendingItemRefsRangeCollecting[t]={events:[],counter:0,ids:[]}}for(const r of Object.values(this.pendingItemRefsRangeCollecting))r.counter++,r.events.push({type:"open",name:t,attributes:e})}let r;if(this.textBufferStack.push(void 0),"itemscope"in e){let t;if(this.emittingReferencesItemScopeIdGenerator)t=this.emittingReferencesItemScopeIdGenerator();else{t="itemid"in e&&this.util.createSubject(e.itemid)||this.util.dataFactory.blankNode();for(const e of Object.values(this.pendingItemRefsRangeCollecting))e.ids.push(t)}r={subject:t},this.isEmittingReferences&&(r.blockEmission=!0);const i=this.getItemScope();i&&i.vocab&&(r.vocab=i.vocab),this.itemScopeStack.push(r)}else r=this.getItemScope(),this.itemScopeStack.push(void 0);if(r){if("itemtype"in e)for(const t of this.util.createVocabIris(e.itemtype,r,!1))r.vocab||(r.vocab=this.util.deriveVocab(t.value,this.vocabRegistry)),r.blockEmission||this.emitTriple(r.subject,this.util.dataFactory.namedNode(`${u.Util.RDF}type`),t);if("lang"in e&&(r.language=e.lang),"xml:lang"in e&&(r.language=e["xml:lang"]),"itemscope"in e&&!this.isEmittingReferences&&"itemref"in e)for(const t of e.itemref.split(/\s+/u))t in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[t]=[]),this.pendingItemRefsDomain[t].push(r),this.tryToEmitReferences(t,r)}"itemprop"in e&&this.handleItemProperties(e.itemprop,!1,r,t,e),"itemprop-reverse"in e&&this.handleItemProperties(e["itemprop-reverse"],!0,r,t,e)}onText(t){if(!this.isEmittingReferences)for(const e of Object.values(this.pendingItemRefsRangeCollecting))e.events.push({type:"text",data:t});for(const e of this.textBufferStack)e&&e.push(t)}onTagClose(){if(!this.isEmittingReferences)for(const[e,r]of Object.entries(this.pendingItemRefsRangeCollecting))r.counter--,r.events.push({type:"close"}),0===r.counter&&(this.pendingItemRefsRangeFinalized[e]=r,delete this.pendingItemRefsRangeCollecting[e],this.tryToEmitReferences(e));const t=this.getItemScope(!0);if(t){const e=this.getDepth();if(t.predicates&&e in t.predicates)for(const[r,i]of Object.entries(t.predicates[e])){const n=this.util.createLiteral(this.textBufferStack[e].join(""),t);this.emitPredicateTriples(t,i,n,"reverse"===r),delete t.predicates[e][r]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(t){return new i.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(t){this.emit("error",t)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(t){this.emit("error",t)}},onopentag:(t,e)=>{try{this.onTagOpen(t,e),this.htmlParseListener&&this.htmlParseListener.onTagOpen(t,e)}catch(r){this.emit("error",r)}},ontext:t=>{try{this.onText(t),this.htmlParseListener&&this.htmlParseListener.onText(t)}catch(e){this.emit("error",e)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:t})}handleItemProperties(t,e,r,i,n){const s=this.getItemScope(!0);if(s){const o=this.getDepth(),a=this.util.createVocabIris(t,s,!0);s.predicates||(s.predicates={}),s.predicates[o]||(s.predicates[o]={});const c=e?"reverse":"forward";s.predicates[o][c]=a;for(const e of this.util.getVocabularyExpansionType(t,s,this.vocabRegistry))a.push(e);if(r&&"itemscope"in n)this.emitPredicateTriples(s,a,r.subject,e),delete s.predicates[o][c];else for(const t of h.ITEM_PROPERTY_HANDLERS)if(t.canHandle(i,n)){const r=t.getObject(n,this.util,s);this.emitPredicateTriples(s,a,r,e),delete s.predicates[o][c]}s.predicates[o][c]&&(this.textBufferStack[o]=[])}}emitPredicateTriples(t,e,r,i){if(!t.blockEmission)for(const n of e)i?"Literal"!==r.termType&&this.emitTriple(r,n,t.subject):this.emitTriple(t.subject,n,r)}emitTriple(t,e,r){this.push(this.util.dataFactory.quad(t,e,r,this.defaultGraph))}tryToEmitReferences(t,e){const r=this.pendingItemRefsRangeFinalized[t];if(r){let i;if(e){i=[e];const r=this.pendingItemRefsDomain[t].indexOf(e);this.pendingItemRefsDomain[t].splice(r,1)}else i=this.pendingItemRefsDomain[t],delete this.pendingItemRefsDomain[t];if(i){const t=this.itemScopeStack,e=this.textBufferStack;this.isEmittingReferences=!0;for(const n of i){this.itemScopeStack=[n],this.textBufferStack=[void 0];const t=[...r.ids];this.emittingReferencesItemScopeIdGenerator=()=>t.shift();for(const e of r.events)switch(e.type){case"open":this.onTagOpen(e.name,e.attributes);break;case"text":this.onText(e.data);break;case"close":this.onTagClose()}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=t,this.textBufferStack=e,this.isEmittingReferences=!1}}}}e.MicrodataRdfParser=h,h.ITEM_PROPERTY_HANDLERS=[new s.ItemPropertyHandlerContent,new c.ItemPropertyHandlerUrl("a","href"),new c.ItemPropertyHandlerUrl("area","href"),new c.ItemPropertyHandlerUrl("audio","src"),new c.ItemPropertyHandlerUrl("embed","src"),new c.ItemPropertyHandlerUrl("iframe","src"),new c.ItemPropertyHandlerUrl("img","src"),new c.ItemPropertyHandlerUrl("link","href"),new c.ItemPropertyHandlerUrl("object","data"),new c.ItemPropertyHandlerUrl("source","src"),new c.ItemPropertyHandlerUrl("track","src"),new c.ItemPropertyHandlerUrl("video","src"),new o.ItemPropertyHandlerNumber("data","value"),new o.ItemPropertyHandlerNumber("meter","value"),new a.ItemPropertyHandlerTime]},3153:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const i=r(7793),n=r(742);class s{constructor(t,e){this.dataFactory=t||new i.DataFactory,this.baseIRI=e||""}static isValidIri(t){return s.IRI_REGEX.test(t)}createVocabIris(t,e,r){return t.split(/\s+/u).filter((t=>!!t)).map((t=>{if(!s.isValidIri(t)){if(!r)return;t=`${e.vocab||`${this.baseIRI}#`}${t}`}return this.dataFactory.namedNode(t)})).filter((t=>!!t))}getVocabularyExpansionType(t,e,r){const i=t.split(/\s+/u);if(i.includes("subPropertyOf")||i.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${s.RDF}type`)];if(e.vocab&&e.vocab in r&&r[e.vocab].properties){let t=[];for(const[n,s]of Object.entries(r[e.vocab].properties))i.includes(n)&&(t=[...Object.values(s).map((t=>this.dataFactory.namedNode(t)))]);return t}return[]}createSubject(t){if(!s.isValidIri(t))try{t=(0,n.resolve)(t,this.baseIRI)}catch(e){return}return this.dataFactory.namedNode(t)}createLiteral(t,e){return this.dataFactory.literal(t,e.language)}deriveVocab(t,e){let r;for(const i in e)if(t.startsWith(i)){r=i,r.endsWith("/")||(r+="#");break}if(!r){const e=t.indexOf("#");r=e>0?t.slice(0,e+1):(0,n.resolve)(".",t)}return r}}e.Util=s,s.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s.XSD="http://www.w3.org/2001/XMLSchema#",s.RDFA="http://www.w3.org/ns/rdfa#",s.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u},3170:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},8686:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerContent=void 0;e.ItemPropertyHandlerContent=class{canHandle(t,e){return"content"in e}getObject(t,e,r){return e.createLiteral(t.content,r)}}},7194:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerNumber=void 0;const i=r(3153);e.ItemPropertyHandlerNumber=class{constructor(t,e){this.tagName=t,this.attributeName=e}canHandle(t,e){return this.tagName===t&&this.attributeName in e}getObject(t,e,r){const n=t[this.attributeName];let s;return Number.isNaN(Number.parseInt(n,10))||n.includes(".")?Number.isNaN(Number.parseFloat(n))||(s=`${i.Util.XSD}double`):s=`${i.Util.XSD}integer`,e.dataFactory.literal(n,s&&e.dataFactory.namedNode(s))}}},6458:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerTime=void 0;const i=r(3153);class n{canHandle(t,e){return"time"===t&&"datetime"in e}getObject(t,e,r){const s=t.datetime;let o;for(const a of n.TIME_REGEXES)if(a.regex.test(s)){o=e.dataFactory.namedNode(i.Util.XSD+a.type);break}return e.dataFactory.literal(s,o)}}e.ItemPropertyHandlerTime=n,n.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}]},8770:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemPropertyHandlerUrl=void 0;const i=r(742);e.ItemPropertyHandlerUrl=class{constructor(t,e){this.tagName=t,this.attributeName=e}canHandle(t,e){return this.tagName===t&&this.attributeName in e}getObject(t,e,r){return e.dataFactory.namedNode((0,i.resolve)(t[this.attributeName],e.baseIRI))}}},5606:t=>{var e,r,i=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:n}catch(t){e=n}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,c=[],u=!1,l=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!u){var t=o(h);u=!0;for(var e=c.length;e;){for(a=c,c=[];++l<e;)a&&a[l].run();l=-1,e=c.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new f(t,e)),1!==c.length||u||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},9596:(t,e,r)=>{let i;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:r.g):t=>(i||(i=Promise.resolve())).then(t).catch((t=>setTimeout((()=>{throw t}),0)))},7793:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(9931),e),n(r(8483),e),n(r(2142),e),n(r(2426),e),n(r(3988),e),n(r(6754),e),n(r(8401),e)},9931:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlankNode=void 0;e.BlankNode=class{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&"BlankNode"===t.termType&&t.value===this.value}}},8483:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataFactory=void 0;const i=r(9931),n=r(2142),s=r(2426),o=r(3988),a=r(6754),c=r(8401);let u=0;e.DataFactory=class{constructor(t){this.blankNodeCounter=0,t=t||{},this.blankNodePrefix=t.blankNodePrefix||`df_${u++}_`}namedNode(t){return new o.NamedNode(t)}blankNode(t){return new i.BlankNode(t||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(t,e){return new s.Literal(t,e)}variable(t){return new c.Variable(t)}defaultGraph(){return n.DefaultGraph.INSTANCE}quad(t,e,r,i){return new a.Quad(t,e,r,i||this.defaultGraph())}fromTerm(t){switch(t.termType){case"NamedNode":return this.namedNode(t.value);case"BlankNode":return this.blankNode(t.value);case"Literal":return t.language?this.literal(t.value,t.language):t.datatype.equals(s.Literal.XSD_STRING)?this.literal(t.value):this.literal(t.value,this.fromTerm(t.datatype));case"Variable":return this.variable(t.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(t.subject),this.fromTerm(t.predicate),this.fromTerm(t.object),this.fromTerm(t.graph))}}fromQuad(t){return this.fromTerm(t)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},2142:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&"DefaultGraph"===t.termType}}e.DefaultGraph=r,r.INSTANCE=new r},2426:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Literal=void 0;const i=r(3988);class n{constructor(t,e){this.termType="Literal",this.value=t,"string"==typeof e?(this.language=e,this.datatype=n.RDF_LANGUAGE_STRING):e?(this.language="",this.datatype=e):(this.language="",this.datatype=n.XSD_STRING)}equals(t){return!!t&&"Literal"===t.termType&&t.value===this.value&&t.language===this.language&&this.datatype.equals(t.datatype)}}e.Literal=n,n.RDF_LANGUAGE_STRING=new i.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),n.XSD_STRING=new i.NamedNode("http://www.w3.org/2001/XMLSchema#string")},3988:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NamedNode=void 0;e.NamedNode=class{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&"NamedNode"===t.termType&&t.value===this.value}}},6754:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Quad=void 0;e.Quad=class{constructor(t,e,r,i){this.termType="Quad",this.value="",this.subject=t,this.predicate=e,this.object=r,this.graph=i}equals(t){return!!t&&("Quad"===t.termType||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}},8401:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Variable=void 0;e.Variable=class{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&"Variable"===t.termType&&t.value===this.value}}},2271:(t,e,r)=>{t.exports=function(t){const e=new(r(412).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),i=new(r(412).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),n=new(r(412).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),s=new(r(412).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),o=new(r(412).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),a=new(r(2740).MediatorRace)({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:e}),c=new(r(7498).ActorDereferenceFallback)({name:"urn:comunica:default:dereference/actors#fallback",bus:i,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),u=new(r(2740).MediatorRace)({name:"urn:comunica:default:dereference/mediators#main",bus:i}),l=new(r(178).ActorHttpFetch)({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),h=new(r(1588).MediatorNumber)({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:n}),d=new(r(6361).ActorRdfParseN3)({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:s,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),f=new(r(9227).ActorRdfParseRdfXml)({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:s,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),p=new(r(2669).ActorRdfParseXmlRdfa)({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:s,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),g=new(r(1356).ActorRdfParseShaclc)({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:s,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),_=new(r(2740).MediatorRace)({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:s}),b=new(r(4560).MediatorCombineUnion)({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:s}),y=new(r(7103).ActorRdfParseHtml)({busRdfParseHtml:o,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:s,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),m=new(r(7630).ActorRdfParseHtmlMicrodata)({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:o,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),v=new(r(9453).ActorRdfParseHtmlRdfa)({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:o,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),w=new(r(1108).ActorRdfParseJsonLd)({mediatorHttp:h,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:s,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),x=new(r(1558).ActorDereferenceRdfParse)({mediatorDereference:u,mediatorParse:_,mediatorParseMediatypes:b,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:e,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),I=new(r(8505).ActorRdfParseHtmlScript)({mediatorRdfParseMediatypes:b,mediatorRdfParseHandle:_,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:o,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),E=new(r(8e3).ActorDereferenceHttp)({mediatorHttp:h,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:i,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[c]}),S=new(r(5050).ActorHttpProxy)({mediatorHttp:h,name:"urn:comunica:default:http/actors#proxy",bus:n,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[l]});return new(r(4326).RdfDereferencer)({mediatorDereferenceRdf:a,actors:[E,c,x,S,l,d,w,f,p,y,g,m,v,I]})}},397:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RdfDereferencer=void 0;const i=r(3949);class n extends i.RdfDereferencerBase{}e.RdfDereferencer=n},3949:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RdfDereferencerBase=void 0;const i=r(412),n=r(711),s=r(7793);e.RdfDereferencerBase=class{constructor(t){this.mediatorDereferenceRdf=t.mediatorDereferenceRdf}dereference(t,e={}){const r=new i.ActionContext(e).setDefault(n.KeysInitQuery.dataFactory,new s.DataFactory);return this.mediatorDereferenceRdf.mediate({context:"function"==typeof e.fetch?r.setDefault(n.KeysHttp.fetch,e.fetch):r,headers:new Headers(e.headers),method:e.method,url:t})}}},4326:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.rdfDereferencer=void 0,n(r(397),e),n(r(3949),e);const s=r(2271),o="function"==typeof s?s():void 0;e.rdfDereferencer=o},3347:(t,e,r)=>{"use strict";e.Tt=void 0;const i=r(3585);Object.defineProperty(e,"Tt",{enumerable:!0,get:function(){return i.quadToStringQuad}})},3585:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringQuadToQuad=e.quadToStringQuad=e.stringToTerm=e.getLiteralLanguage=e.getLiteralType=e.getLiteralValue=e.termToString=void 0;const i=new(r(7793).DataFactory);function n(t){if(t)switch(t.termType){case"NamedNode":case"DefaultGraph":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const e=t;return'"'+e.value+'"'+(e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==e.datatype.value?"^^"+e.datatype.value:"")+(e.language?"@"+e.language:"");case"Quad":return`<<${n(t.subject)} ${n(t.predicate)} ${n(t.object)}${"DefaultGraph"===t.graph.termType?"":" "+n(t.graph)}>>`;case"Variable":return"?"+t.value}}function s(t){const e=/^"([^]*)"/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]}function o(t){const e=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function a(t){const e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]?e[1].toLowerCase():""}function c(t,e){if(e=e||i,!t||!t.length)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.substr(1));case'"':const r=a(t),i=e.namedNode(o(t));return e.literal(s(t),r||i);default:if("<"===t[0]&&t.length>4&&"<"===t[1]&&">"===t[t.length-1]&&">"===t[t.length-2]){const r=t.slice(2,-2).trim();let i=[],n=0,s=0,o=!1;for(let e=0;e<r.length;e++){const a=r[e];if("<"===a&&n++,">"===a){if(0===n)throw new Error("Found closing tag without opening tag in "+t);n--}if('"'===a){let t=!1,i=e;for(;i-- >0&&"\\"===r[i];)t=!t;t||(o=!o)}if(" "===a&&!o&&0===n){for(i.push(r.slice(s,e));" "===r[e+1];)e+=1;s=e+1}}if(0!==n)throw new Error("Found opening tag without closing tag in "+t);if(i.push(r.slice(s,r.length)),3!==i.length&&4!==i.length)throw new Error("Nested quad syntax error "+t);return i=i.map((t=>t.startsWith("<")&&!t.includes(" ")?t.slice(1,-1):t)),e.quad(c(i[0]),c(i[1]),c(i[2]),i[3]?c(i[3]):void 0)}return e.namedNode(t)}}e.termToString=n,e.getLiteralValue=s,e.getLiteralType=o,e.getLiteralLanguage=a,e.stringToTerm=c,e.quadToStringQuad=function(t){return{subject:n(t.subject),predicate:n(t.predicate),object:n(t.object),graph:n(t.graph)}},e.stringQuadToQuad=function(t,e){return(e=e||i).quad(c(t.subject,e),c(t.predicate,e),c(t.object,e),c(t.graph,e))}},9749:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(2710),e),n(r(972),e),n(r(9479),e),n(r(4465),e),n(r(5213),e),n(r(6429),e)},2710:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},972:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},9479:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},4465:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RdfaParser=void 0;const i=r(8659),n=r(9198),s=r(5180),o=r(532),a=r(5213),c=r(6429);class u extends n.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],t=t||{},this.options=t,this.util=new c.Util(t.dataFactory,t.baseIRI),this.defaultGraph=t.defaultGraph||this.util.dataFactory.defaultGraph();const e=t.contentType?c.Util.contentTypeToProfile(t.contentType):t.profile||"";this.features=t.features||a.RDFA_FEATURES[e],this.htmlParseListener=t.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser("xml"===e),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:t.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},o["@context"]),this.features.xhtmlInitialContext?s["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:t.vocab})}import(t){const e=new n.PassThrough({readableObjectMode:!0});t.on("error",(t=>r.emit("error",t))),t.on("data",(t=>e.push(t))),t.on("end",(()=>e.push(null)));const r=e.pipe(new u(this.options));return r}_transform(t,e,r){this.parser.write(t.toString()),r()}_flush(t){this.parser.end(),t()}onTagOpen(t,e){let r=this.activeTagStack.length-1;for(;r>0&&this.activeTagStack[r].skipElement;)r--;let i=this.activeTagStack[r];r!==this.activeTagStack.length-1&&(i=Object.assign(Object.assign({},i),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const n={collectChildTags:i.collectChildTags,incompleteTriples:[],inlist:"inlist"in e,listMapping:[],listMappingLocal:i.listMapping,localBaseIRI:i.localBaseIRI,name:t,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(n),n.collectChildTags){for(const t of Object.keys(i.prefixesCustom).sort()){const r=i.prefixesCustom[t],n=""===t?"xmlns":"xmlns:"+t;n in e||(e[n]=r)}const r=Object.keys(e).map((t=>`${t}="${e[t]}"`)).join(" ");if(n.text=[`<${t}${r?" "+r:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let s,o,a,u=!0,l=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in e&&"rel"in e&&(u=!1,e.rel.indexOf(":")<0&&delete e.rel),"property"in e&&"rev"in e&&(l=!1,e.rev.indexOf(":")<0&&delete e.rev)),this.features.copyRdfaPatterns){if(i.collectedPatternTag){const r={attributes:e,children:[],name:t,referenced:!1,rootPattern:!1,text:[]};return i.collectedPatternTag.children.push(r),void(n.collectedPatternTag=r)}if("rdfa:Pattern"===e.typeof)return void(n.collectedPatternTag={attributes:e,children:[],name:t,parentTag:i,referenced:!1,rootPattern:!0,text:[]});if("rdfa:copy"===e.property){const t=e.resource||e.href||e.src;return void(this.rdfaPatterns[t]?this.emitPatternCopy(i,this.rdfaPatterns[t],t):(this.pendingRdfaPatternCopies[t]||(this.pendingRdfaPatternCopies[t]=[]),this.pendingRdfaPatternCopies[t].push(i)))}}if(this.features.baseTag&&"base"===t&&e.href&&(this.util.baseIRI=this.util.getBaseIRI(e.href)),this.features.xmlBase&&e["xml:base"]&&(n.localBaseIRI=this.util.getBaseIRI(e["xml:base"])),this.features.timeTag&&"time"===t&&!e.datatype&&(n.interpretObjectAsTime=!0),"vocab"in e?e.vocab?(n.vocab=e.vocab,this.emitTriple(this.util.getBaseIriTerm(n),this.util.dataFactory.namedNode(c.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(n.vocab))):n.vocab=this.activeTagStack[0].vocab:n.vocab=i.vocab,n.prefixesCustom=c.Util.parsePrefixes(e,i.prefixesCustom,this.features.xmlnsPrefixMappings),n.prefixesAll=Object.keys(n.prefixesCustom).length>0?Object.assign(Object.assign({},i.prefixesAll),n.prefixesCustom):i.prefixesAll,this.features.roleAttribute&&e.role){const t=e.id?this.util.createIri("#"+e.id,n,!1,!1,!1):this.util.createBlankNode(),r=n.vocab;n.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const i of this.util.createVocabIris(e.role,n,!0,!1))this.emitTriple(t,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),i);n.vocab=r}"xml:lang"in e||this.features.langAttribute&&"lang"in e?n.language=e["xml:lang"]||e.lang:n.language=i.language;const h=2===this.activeTagStack.length;if("rel"in e||"rev"in e?("about"in e?(s=this.util.createIri(e.about,n,!1,!0,!0),n.explicitNewSubject=!!s,"typeof"in e&&(a=s)):h?s=!0:i.object&&(s=i.object),"resource"in e&&(o=this.util.createIri(e.resource,n,!1,!0,!0)),o||("href"in e||"src"in e?o=this.util.createIri(e.href||e.src,n,!1,!1,!0):!("typeof"in e)||"about"in e||this.isInheritSubjectInHeadBody(t)||(o=this.util.createBlankNode())),"typeof"in e&&!("about"in e)&&(a=this.isInheritSubjectInHeadBody(t)?s:o)):!("property"in e)||"content"in e||"datatype"in e?(("about"in e||"resource"in e)&&(s=this.util.createIri(e.about||e.resource,n,!1,!0,!0),n.explicitNewSubject=!!s),s||!("href"in e)&&!("src"in e)||(s=this.util.createIri(e.href||e.src,n,!1,!1,!0),n.explicitNewSubject=!!s),s||(h?s=!0:this.isInheritSubjectInHeadBody(t)?s=i.object:"typeof"in e?(s=this.util.createBlankNode(),n.explicitNewSubject=!0):i.object&&(s=i.object,"property"in e||(n.skipElement=!0))),"typeof"in e&&(a=s)):("about"in e?(s=this.util.createIri(e.about,n,!1,!0,!0),n.explicitNewSubject=!!s):h?s=!0:i.object&&(s=i.object),"typeof"in e&&("about"in e&&(a=this.util.createIri(e.about,n,!1,!0,!0)),!a&&h&&(a=!0),!a&&"resource"in e&&(a=this.util.createIri(e.resource,n,!1,!0,!0)),a||!("href"in e)&&!("src"in e)||(a=this.util.createIri(e.href||e.src,n,!1,!1,!0)),!a&&this.isInheritSubjectInHeadBody(t)&&(a=s),a||(a=this.util.createBlankNode()),o=a)),a)for(const f of this.util.createVocabIris(e.typeof,n,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(a,n),this.util.dataFactory.namedNode(c.Util.RDF+"type"),f);if(s&&(n.listMapping={}),o){if("rel"in e&&"inlist"in e)for(const t of this.util.createVocabIris(e.rel,n,u,!1))this.addListMapping(n,s,t,o);if(!("rel"in e)||!("inlist"in e)){if("rel"in e)for(const t of this.util.createVocabIris(e.rel,n,u,!1))this.emitTriple(this.util.getResourceOrBaseIri(s,n),t,this.util.getResourceOrBaseIri(o,n));if("rev"in e)for(const t of this.util.createVocabIris(e.rev,n,l,!1))this.emitTriple(this.util.getResourceOrBaseIri(o,n),t,this.util.getResourceOrBaseIri(s,n))}}if(!o){if("rel"in e)if("inlist"in e)for(const t of this.util.createVocabIris(e.rel,n,u,!1))this.addListMapping(n,s,t,null),n.incompleteTriples.push({predicate:t,reverse:!1,list:!0});else for(const t of this.util.createVocabIris(e.rel,n,u,!1))n.incompleteTriples.push({predicate:t,reverse:!1});if("rev"in e)for(const t of this.util.createVocabIris(e.rev,n,l,!1))n.incompleteTriples.push({predicate:t,reverse:!0});n.incompleteTriples.length>0&&(o=this.util.createBlankNode())}if("property"in e){let t;if(n.predicates=this.util.createVocabIris(e.property,n,!0,!1),"datatype"in e?(n.datatype=this.util.createIri(e.datatype,n,!0,!0,!1),n.datatype&&(n.datatype.value===c.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&n.datatype.value===c.Util.RDF+"HTML")&&(n.collectChildTags=!0)):("rev"in e||"rel"in e||"content"in e||("resource"in e&&(t=this.util.createIri(e.resource,n,!1,!0,!0)),!t&&"href"in e&&(t=this.util.createIri(e.href,n,!1,!1,!0)),!t&&"src"in e&&(t=this.util.createIri(e.src,n,!1,!1,!0))),"typeof"in e&&!("about"in e)&&(t=a)),"content"in e){const t=this.util.createLiteral(e.content,n);if("inlist"in e)for(const e of n.predicates)this.addListMapping(n,s,e,t);else{const e=this.util.getResourceOrBaseIri(s,n);for(const r of n.predicates)this.emitTriple(e,r,t)}n.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in e){n.interpretObjectAsTime=!0;const t=this.util.createLiteral(e.datetime,n);if("inlist"in e)for(const e of n.predicates)this.addListMapping(n,s,e,t);else{const e=this.util.getResourceOrBaseIri(s,n);for(const r of n.predicates)this.emitTriple(e,r,t)}n.predicates=null}else if(t){const r=this.util.getResourceOrBaseIri(t,n);if("inlist"in e)for(const t of n.predicates)this.addListMapping(n,s,t,r);else{const t=this.util.getResourceOrBaseIri(s,n);for(const e of n.predicates)this.emitTriple(t,e,r)}n.predicates=null}}let d=!1;if(!n.skipElement&&s&&i.incompleteTriples.length>0){d=!0;const t=this.util.getResourceOrBaseIri(i.subject,n),e=this.util.getResourceOrBaseIri(s,n);for(const r of i.incompleteTriples)if(r.reverse)this.emitTriple(e,r.predicate,t);else if(r.list){let t=null;for(let e=this.activeTagStack.length-1;e>=0;e--)if(this.activeTagStack[e].inlist){t=this.activeTagStack[e];break}this.addListMapping(t,s,r.predicate,e)}else this.emitTriple(t,r.predicate,e)}!d&&i.incompleteTriples.length>0&&(n.incompleteTriples=n.incompleteTriples.concat(i.incompleteTriples)),n.subject=s||i.subject,n.object=o||s}onText(t){const e=this.activeTagStack[this.activeTagStack.length-1];this.features.copyRdfaPatterns&&e.collectedPatternTag?e.collectedPatternTag.text.push(t):(e.text||(e.text=[]),e.text.push(t))}onTagClose(){const t=this.activeTagStack[this.activeTagStack.length-1],e=this.activeTagStack[this.activeTagStack.length-2];if(!(t.collectChildTags&&e.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&t.collectedPatternTag&&t.collectedPatternTag.rootPattern){const e=t.collectedPatternTag.attributes.resource;if(delete t.collectedPatternTag.attributes.resource,delete t.collectedPatternTag.attributes.typeof,this.rdfaPatterns[e]=t.collectedPatternTag,this.pendingRdfaPatternCopies[e]){for(const r of this.pendingRdfaPatternCopies[e])this.emitPatternCopy(r,t.collectedPatternTag,e);delete this.pendingRdfaPatternCopies[e]}return void this.activeTagStack.pop()}if(t.predicates){const r=this.util.getResourceOrBaseIri(t.subject,t);let i=t.text||[];t.collectChildTags&&e.collectChildTags&&(i=i.slice(1));const n=this.util.createLiteral(i.join(""),t);if(t.inlist)for(const e of t.predicates)this.addListMapping(t,r,e,n);else for(const e of t.predicates)this.emitTriple(r,e,n);e.predicates||(t.text=null)}if(t.object&&Object.keys(t.listMapping).length>0){const e=this.util.getResourceOrBaseIri(t.object,t);for(const r in t.listMapping){const i=this.util.dataFactory.namedNode(r),n=t.listMapping[r];if(n.length>0){const r=n.map((()=>this.util.createBlankNode()));for(let e=0;e<n.length;e++){const i=this.util.getResourceOrBaseIri(n[e],t);this.emitTriple(r[e],this.util.dataFactory.namedNode(c.Util.RDF+"first"),i),this.emitTriple(r[e],this.util.dataFactory.namedNode(c.Util.RDF+"rest"),e<n.length-1?r[e+1]:this.util.dataFactory.namedNode(c.Util.RDF+"nil"))}this.emitTriple(e,i,r[0])}else this.emitTriple(e,i,this.util.dataFactory.namedNode(c.Util.RDF+"nil"))}}}this.activeTagStack.pop(),t.collectChildTags&&t.text&&t.text.push(`</${t.name}>`),t.text&&e&&(e.text?e.text=e.text.concat(t.text):e.text=t.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const t in this.rdfaPatterns){const e=this.rdfaPatterns[t];e.referenced||(e.attributes.typeof="rdfa:Pattern",e.attributes.resource=t,this.emitPatternCopy(e.parentTag,e,t),e.referenced=!1,delete e.attributes.typeof,delete e.attributes.resource)}for(const t in this.pendingRdfaPatternCopies)for(const e of this.pendingRdfaPatternCopies[t])this.activeTagStack.push(e),this.onTagOpen("link",{property:"rdfa:copy",href:t}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(t){return this.features.inheritSubjectInHeadBody&&("head"===t||"body"===t)}addListMapping(t,e,r,i){if(t.explicitNewSubject){const n=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(e,t),r,n),this.emitTriple(n,this.util.dataFactory.namedNode(c.Util.RDF+"first"),this.util.getResourceOrBaseIri(i,t)),this.emitTriple(n,this.util.dataFactory.namedNode(c.Util.RDF+"rest"),this.util.dataFactory.namedNode(c.Util.RDF+"nil"))}else{let e=t.listMappingLocal[r.value];e||(t.listMappingLocal[r.value]=e=[]),i&&e.push(i)}}emitTriple(t,e,r){"NamedNode"===t.termType&&t.value.indexOf(":")<0||"NamedNode"===e.termType&&e.value.indexOf(":")<0||"NamedNode"===r.termType&&r.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(t,e,r,this.defaultGraph))}emitPatternCopy(t,e,r){if(this.activeTagStack.push(t),e.referenced=!0,e.constructedBlankNodes){let t=0;this.util.blankNodeFactory=()=>e.constructedBlankNodes[t++]}else e.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const t=this.util.dataFactory.blankNode();return e.constructedBlankNodes.push(t),t};this.emitPatternCopyAbsolute(e,!0,r),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(t,e,r){if(e||"rdfa:copy"!==t.attributes.property||t.attributes.href!==r){this.onTagOpen(t.name,t.attributes);for(const e of t.text)this.onText(e);for(const e of t.children)this.emitPatternCopyAbsolute(e,!1,r);this.onTagClose()}}initializeParser(t){return new i.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(t){this.emit("error",t)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(t){this.emit("error",t)}},onopentag:(t,e)=>{try{this.onTagOpen(t,e),this.htmlParseListener&&this.htmlParseListener.onTagOpen(t,e)}catch(r){this.emit("error",r)}},ontext:t=>{try{this.onText(t),this.htmlParseListener&&this.htmlParseListener.onText(t)}catch(e){this.emit("error",e)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:t})}}e.RdfaParser=u},5213:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RDFA_CONTENTTYPES=e.RDFA_FEATURES=void 0,e.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},e.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}},6429:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=void 0;const i=r(742),n=r(5213),s=r(7793);class o{constructor(t,e){this.dataFactory=t||new s.DataFactory,this.baseIRI=this.dataFactory.namedNode(e||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(t,e,r){const i={};if(r)for(const n in t)n.startsWith("xmlns")&&(i[n.substr(6)]=t[n]);if(t.prefix||Object.keys(i).length>0){const r=Object.assign(Object.assign({},e),i);if(t.prefix){let e;for(;e=o.PREFIX_REGEX.exec(t.prefix);)r[e[1]]=e[2]}return r}return e}static expandPrefixedTerm(t,e){const r=t.indexOf(":");let i,n;if(r>=0&&(i=t.substr(0,r),n=t.substr(r+1)),""===i)return"http://www.w3.org/1999/xhtml/vocab#"+n;if(i){const t=e.prefixesAll[i];if(t)return t+n}if(t){const r=e.prefixesAll[t.toLocaleLowerCase()];if(r)return r}return t}static isValidIri(t){return o.IRI_REGEX.test(t)}static contentTypeToProfile(t){return n.RDFA_CONTENTTYPES[t]||""}getBaseIRI(t){let e=t;const r=e.indexOf("#");return r>=0&&(e=e.substr(0,r)),this.dataFactory.namedNode((0,i.resolve)(e,this.baseIRI.value))}getResourceOrBaseIri(t,e){return!0===t?this.getBaseIriTerm(e):t}getBaseIriTerm(t){return t.localBaseIRI||this.baseIRI}createVocabIris(t,e,r,i){return t.split(/\s+/).filter((t=>t&&(r||t.indexOf(":")>=0))).map((t=>this.createIri(t,e,!0,!0,i))).filter((t=>null!=t))}createLiteral(t,e){if(e.interpretObjectAsTime&&!e.datatype)for(const r of o.TIME_REGEXES)if(t.match(r.regex)){e.datatype=this.dataFactory.namedNode(o.XSD+r.type);break}return this.dataFactory.literal(t,e.datatype||e.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(t,e,r,n,s){if(t=t||"",!n)return r||(t=(0,i.resolve)(t,this.getBaseIriTerm(e).value)),o.isValidIri(t)?this.dataFactory.namedNode(t):null;if(t.length>0&&"["===t[0]&&"]"===t[t.length-1]&&(t=t.substr(1,t.length-2)).indexOf(":")<0)return null;if(t.startsWith("_:"))return s?this.dataFactory.blankNode(t.substr(2)||"b_identity"):null;if(r&&e.vocab&&t.indexOf(":")<0)return this.dataFactory.namedNode(e.vocab+t);let a=o.expandPrefixedTerm(t,e);return r?t!==a&&(a=(0,i.resolve)(a,this.baseIRIDocument.value)):a=(0,i.resolve)(a,this.getBaseIriTerm(e).value),o.isValidIri(a)?this.dataFactory.namedNode(a):null}}e.Util=o,o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XSD="http://www.w3.org/2001/XMLSchema#",o.RDFA="http://www.w3.org/ns/rdfa#",o.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,o.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],o.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/},5611:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(8225),e)},5916:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=void 0;class r extends Error{constructor(t,e){const r=t.saxParser;super(t.trackPosition?`Line ${r.line} column ${r.column+1}: ${e}`:e)}}e.ParseError=r},8225:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParseType=e.RdfXmlParser=void 0;const i=r(742),n=r(5201),s=r(9198),o=r(5916),a=r(7793),c=r(7024);class u extends s.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},t&&(Object.assign(this,t),this.options=t),this.dataFactory||(this.dataFactory=new a.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),!1!==this.validateUri&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?c.IriValidationStrategy.Pragmatic:c.IriValidationStrategy.None),this.saxParser=new n.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(t){const e=new s.PassThrough({readableObjectMode:!0});t.on("error",(t=>r.emit("error",t))),t.on("data",(t=>e.push(t))),t.on("end",(()=>e.push(null)));const r=e.pipe(new u(this.options));return r}_transform(t,e,r){try{this.saxParser.write(t)}catch(i){return r(i)}r()}newParseError(t){return new o.ParseError(this,t)}valueToUri(t,e){return this.uriToNamedNode((0,i.resolve)(t,e.baseIRI))}uriToNamedNode(t){const e=(0,c.validateIri)(t,this.iriValidationStrategy);if(e instanceof Error)throw this.newParseError(e.message);return this.dataFactory.namedNode(t)}validateNcname(t){if(!u.NCNAME_MATCHER.test(t))throw this.newParseError(`Not a valid NCName: ${t}`)}attachSaxListeners(){this.saxParser.on("error",(t=>this.emit("error",t))),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(t){const e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let r=l.RESOURCE;if(e&&(e.hadChildren=!0,r=e.childrenParseType),e&&e.childrenStringTags){const r=t.name;let i="";for(const e in t.attributes)i+=` ${e}="${t.attributes[e].value}"`;const n=`<${`${r}${i}`}>`;e.childrenStringTags.push(n);const s={childrenStringTags:e.childrenStringTags};return s.childrenStringEmitClosingTag=`</${r}>`,void this.activeTagStack.push(s)}const i={};e?(i.language=e.language,i.baseIRI=e.baseIRI):i.baseIRI=this.baseIRI,this.activeTagStack.push(i),r===l.RESOURCE?this.onTagResource(t,i,e,!e):this.onTagProperty(t,i,e)}onTagResource(t,e,r,n){e.childrenParseType=l.PROPERTY;let s=!0;if(t.uri===u.RDF){if(!n&&u.FORBIDDEN_NODE_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal node element name: ${t.local}`);switch(t.local){case"RDF":e.childrenParseType=l.RESOURCE;case"Description":s=!1}}const o=[],a=[];let c=null,h=!1,d=!1,f=null;for(const l in t.attributes){const n=t.attributes[l];if(r&&n.uri===u.RDF)switch(n.local){case"about":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${n.value} and ${c} where found.`);c=n.value;continue;case"ID":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${n.value} and ${c} where found.`);this.validateNcname(n.value),c="#"+n.value,h=!0;continue;case"nodeID":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${n.value} and ${c} where found.`);this.validateNcname(n.value),c=n.value,d=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":f=n.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(n.uri===u.XML){if("lang"===n.local){e.language=""===n.value?null:n.value.toLowerCase();continue}if("base"===n.local){e.baseIRI=(0,i.resolve)(n.value,e.baseIRI);continue}}"xml"===n.prefix||"xmlns"===n.prefix||""===n.prefix&&"xmlns"===n.local||!n.uri||(o.push(this.uriToNamedNode(n.uri+n.local)),a.push(n.value))}if(null!==c&&(e.subject=d?this.dataFactory.blankNode(c):this.valueToUri(c,e),h&&this.claimNodeId(e.subject)),e.subject||(e.subject=this.dataFactory.blankNode()),s){const i=this.uriToNamedNode(t.uri+t.local);this.emitTriple(e.subject,this.dataFactory.namedNode(u.RDF+"type"),i,r?r.reifiedStatementId:null)}if(r){if(r.predicate)if(r.childrenCollectionSubject){const t=this.dataFactory.blankNode();this.emitTriple(r.childrenCollectionSubject,r.childrenCollectionPredicate,t,r.reifiedStatementId),this.emitTriple(t,this.dataFactory.namedNode(u.RDF+"first"),e.subject,e.reifiedStatementId),r.childrenCollectionSubject=t,r.childrenCollectionPredicate=this.dataFactory.namedNode(u.RDF+"rest")}else{this.emitTriple(r.subject,r.predicate,e.subject,r.reifiedStatementId);for(let t=0;t<r.predicateSubPredicates.length;t++)this.emitTriple(e.subject,r.predicateSubPredicates[t],r.predicateSubObjects[t],null);r.predicateSubPredicates=[],r.predicateSubObjects=[],r.predicateEmitted=!0}for(let t=0;t<o.length;t++){const i=this.dataFactory.literal(a[t],e.datatype||e.language);this.emitTriple(e.subject,o[t],i,r.reifiedStatementId)}f&&this.emitTriple(e.subject,this.dataFactory.namedNode(u.RDF+"type"),this.uriToNamedNode(f),null)}}onTagProperty(t,e,r){if(e.childrenParseType=l.RESOURCE,e.subject=r.subject,t.uri===u.RDF&&"li"===t.local?(r.listItemCounter||(r.listItemCounter=1),e.predicate=this.uriToNamedNode(t.uri+"_"+r.listItemCounter++)):e.predicate=this.uriToNamedNode(t.uri+t.local),t.uri===u.RDF&&u.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal property element name: ${t.local}`);e.predicateSubPredicates=[],e.predicateSubObjects=[];let i=!1,n=!1,s=null,o=!0;const a=[],c=[];for(const h in t.attributes){const r=t.attributes[h];if(r.uri===u.RDF)switch(r.local){case"resource":if(s)throw this.newParseError(`Found both rdf:resource (${r.value}) and rdf:nodeID (${s}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${r.value})`);e.hadChildren=!0,s=r.value,o=!1;continue;case"datatype":if(n)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${r.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${r.value})`);e.datatype=this.valueToUri(r.value,e);continue;case"nodeID":if(n)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${r.value}).`);if(e.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${r.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${r.value})`);this.validateNcname(r.value),e.hadChildren=!0,s=r.value,o=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(n)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(e.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${e.datatype.value})`);if(s)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${s})`);if("Resource"===r.value){i=!0,e.childrenParseType=l.PROPERTY;const t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId),e.subject=t,e.predicate=null}else"Collection"===r.value?(i=!0,e.hadChildren=!0,e.childrenCollectionSubject=e.subject,e.childrenCollectionPredicate=e.predicate,o=!1):"Literal"===r.value&&(i=!0,e.childrenTagsToString=!0,e.childrenStringTags=[]);continue;case"ID":this.validateNcname(r.value),e.reifiedStatementId=this.valueToUri("#"+r.value,e),this.claimNodeId(e.reifiedStatementId);continue}else if(r.uri===u.XML&&"lang"===r.local){e.language=""===r.value?null:r.value.toLowerCase();continue}if("xml"!==r.prefix&&"xmlns"!==r.prefix&&(""!==r.prefix||"xmlns"!==r.local)&&r.uri){if(i||e.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${r.value}`);e.hadChildren=!0,n=!0,a.push(this.uriToNamedNode(r.uri+r.local)),c.push(this.dataFactory.literal(r.value,e.datatype||e.language))}}if(null!==s){const t=e.subject;e.subject=o?this.dataFactory.blankNode(s):this.valueToUri(s,e),this.emitTriple(t,e.predicate,e.subject,e.reifiedStatementId);for(let r=0;r<a.length;r++)this.emitTriple(e.subject,a[r],c[r],null);e.predicateEmitted=!0}else o&&(e.predicateSubPredicates=a,e.predicateSubObjects=c,e.predicateEmitted=!1)}emitTriple(t,e,r,i){this.push(this.dataFactory.quad(t,e,r,this.defaultGraph)),i&&(this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(u.RDF+"type"),this.dataFactory.namedNode(u.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(u.RDF+"subject"),t,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(u.RDF+"predicate"),e,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(u.RDF+"object"),r,this.defaultGraph)))}claimNodeId(t){if(!this.allowDuplicateRdfIds){if(this.nodeIds[t.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${t.value}'.`);this.nodeIds[t.value]=!0}}onText(t){const e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;e&&(e.childrenStringTags?e.childrenStringTags.push(t):e.predicate&&(e.text=t))}onCloseTag(){const t=this.activeTagStack.pop();if(t.childrenStringEmitClosingTag&&t.childrenStringTags.push(t.childrenStringEmitClosingTag),t.childrenTagsToString&&(t.datatype=this.dataFactory.namedNode(u.RDF+"XMLLiteral"),t.text=t.childrenStringTags.join(""),t.hadChildren=!1),t.childrenCollectionSubject)this.emitTriple(t.childrenCollectionSubject,t.childrenCollectionPredicate,this.dataFactory.namedNode(u.RDF+"nil"),t.reifiedStatementId);else if(t.predicate)if(t.hadChildren||t.childrenParseType===l.PROPERTY){if(!t.predicateEmitted){const e=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,e,t.reifiedStatementId);for(let r=0;r<t.predicateSubPredicates.length;r++)this.emitTriple(e,t.predicateSubPredicates[r],t.predicateSubObjects[r],null)}}else this.emitTriple(t.subject,t.predicate,this.dataFactory.literal(t.text||"",t.datatype||t.language),t.reifiedStatementId)}onDoctype(t){t.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,((t,e,r)=>(this.saxParser.ENTITIES[e]=r,"")))}}var l;e.RdfXmlParser=u,u.MIME_TYPE="application/rdf+xml",u.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u.XML="http://www.w3.org/XML/1998/namespace",u.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],u.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],u.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,function(t){t[t.RESOURCE=0]="RESOURCE",t[t.PROPERTY=1]="PROPERTY"}(l||(e.ParseType=l={}))},5276:t=>{t.exports=function(e){if(!t.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var r=!1,i={};return new ReadableStream({start:function(t){for(var n in i.data=s,i.end=s,i.end=o,i.close=o,i.error=o,i)e.on(n,i[n]);function s(i){r||(t.enqueue(i),e.pause())}function o(n){if(!r){for(var s in r=!0,i)e.removeListener(s,i[s]);n?t.error(n):t.close()}}e.pause()},pull:function(){r||e.resume()},cancel:function(){for(var t in r=!0,i)e.removeListener(t,i[t]);e.push(null),e.pause(),e.destroy?e.destroy():e.close&&e.close()}})},t.exports.WEBSTREAM_SUPPORT="undefined"!=typeof ReadableStream},4147:(t,e,r)=>{"use strict";const{SymbolDispose:i}=r(4134),{AbortError:n,codes:s}=r(6371),{isNodeStream:o,isWebStream:a,kControllerErrorFunction:c}=r(6115),u=r(6238),{ERR_INVALID_ARG_TYPE:l}=s;let h;t.exports.addAbortSignal=function(e,r){if(((t,e)=>{if("object"!=typeof t||!("aborted"in t))throw new l(e,"AbortSignal",t)})(e,"signal"),!o(r)&&!a(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(t,e){if("object"!=typeof t||!("aborted"in t))return e;const s=o(e)?()=>{e.destroy(new n(void 0,{cause:t.reason}))}:()=>{e[c](new n(void 0,{cause:t.reason}))};if(t.aborted)s();else{h=h||r(7760).addAbortListener;const n=h(t,s);u(e,n[i])}return e}},345:(t,e,r)=>{"use strict";const{StringPrototypeSlice:i,SymbolIterator:n,TypedArrayPrototypeSet:s,Uint8Array:o}=r(4134),{Buffer:a}=r(8287),{inspect:c}=r(7760);t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,r=""+e.data;for(;null!==(e=e.next);)r+=t+e.data;return r}concat(t){if(0===this.length)return a.alloc(0);const e=a.allocUnsafe(t>>>0);let r=this.head,i=0;for(;r;)s(e,r.data,i),i+=r.data.length,r=r.next;return e}consume(t,e){const r=this.head.data;if(t<r.length){const e=r.slice(0,t);return this.head.data=r.slice(t),e}return t===r.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[n](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let e="",r=this.head,n=0;do{const s=r.data;if(!(t>s.length)){t===s.length?(e+=s,++n,r.next?this.head=r.next:this.head=this.tail=null):(e+=i(s,0,t),this.head=r,r.data=i(s,t));break}e+=s,t-=s.length,++n}while(null!==(r=r.next));return this.length-=n,e}_getBuffer(t){const e=a.allocUnsafe(t),r=t;let i=this.head,n=0;do{const a=i.data;if(!(t>a.length)){t===a.length?(s(e,a,r-t),++n,i.next?this.head=i.next:this.head=this.tail=null):(s(e,new o(a.buffer,a.byteOffset,t),r-t),this.head=i,i.data=a.slice(t));break}s(e,a,r-t),t-=a.length,++n}while(null!==(i=i.next));return this.length-=n,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return c(this,{...e,depth:0,customInspect:!1})}}},7830:(t,e,r)=>{"use strict";const{pipeline:i}=r(7758),n=r(3370),{destroyer:s}=r(5896),{isNodeStream:o,isReadable:a,isWritable:c,isWebStream:u,isTransformStream:l,isWritableStream:h,isReadableStream:d}=r(6115),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=r(6371),_=r(6238);t.exports=function(...t){if(0===t.length)throw new g("streams");if(1===t.length)return n.from(t[0]);const e=[...t];if("function"==typeof t[0]&&(t[0]=n.from(t[0])),"function"==typeof t[t.length-1]){const e=t.length-1;t[e]=n.from(t[e])}for(let i=0;i<t.length;++i)if(o(t[i])||u(t[i])){if(i<t.length-1&&!(a(t[i])||d(t[i])||l(t[i])))throw new p(`streams[${i}]`,e[i],"must be readable");if(i>0&&!(c(t[i])||h(t[i])||l(t[i])))throw new p(`streams[${i}]`,e[i],"must be writable")}let r,b,y,m,v;const w=t[0],x=i(t,(function(t){const e=m;m=null,e?e(t):t?v.destroy(t):E||I||v.destroy()})),I=!!(c(w)||h(w)||l(w)),E=!!(a(x)||d(x)||l(x));if(v=new n({writableObjectMode:!(null==w||!w.writableObjectMode),readableObjectMode:!(null==x||!x.readableObjectMode),writable:I,readable:E}),I){if(o(w))v._write=function(t,e,i){w.write(t,e)?i():r=i},v._final=function(t){w.end(),b=t},w.on("drain",(function(){if(r){const t=r;r=null,t()}}));else if(u(w)){const t=(l(w)?w.writable:w).getWriter();v._write=async function(e,r,i){try{await t.ready,t.write(e).catch((()=>{})),i()}catch(n){i(n)}},v._final=async function(e){try{await t.ready,t.close().catch((()=>{})),b=e}catch(r){e(r)}}}const t=l(x)?x.readable:x;_(t,(()=>{if(b){const t=b;b=null,t()}}))}if(E)if(o(x))x.on("readable",(function(){if(y){const t=y;y=null,t()}})),x.on("end",(function(){v.push(null)})),v._read=function(){for(;;){const t=x.read();if(null===t)return void(y=v._read);if(!v.push(t))return}};else if(u(x)){const t=(l(x)?x.readable:x).getReader();v._read=async function(){for(;;)try{const{value:e,done:r}=await t.read();if(!v.push(e))return;if(r)return void v.push(null)}catch{return}}}return v._destroy=function(t,e){t||null===m||(t=new f),y=null,r=null,b=null,null===m?e(t):(m=e,o(x)&&s(x,t))},v}},5896:(t,e,r)=>{"use strict";const i=r(5606),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:o}=r(6371),{Symbol:a}=r(4134),{kIsDestroyed:c,isDestroyed:u,isFinished:l,isServerRequest:h}=r(6115),d=a("kDestroy"),f=a("kConstruct");function p(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function g(t,e,r){let n=!1;function s(e){if(n)return;n=!0;const s=t._readableState,o=t._writableState;p(e,o,s),o&&(o.closed=!0),s&&(s.closed=!0),"function"==typeof r&&r(e),e?i.nextTick(_,t,e):i.nextTick(b,t)}try{t._destroy(e||null,s)}catch(e){s(e)}}function _(t,e){y(t,e),b(t)}function b(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=r&&r.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function y(t,e){const r=t._readableState,i=t._writableState;null!=i&&i.errorEmitted||null!=r&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function m(t,e,r){const n=t._readableState,s=t._writableState;if(null!=s&&s.destroyed||null!=n&&n.destroyed)return this;null!=n&&n.autoDestroy||null!=s&&s.autoDestroy?t.destroy(e):e&&(e.stack,s&&!s.errored&&(s.errored=e),n&&!n.errored&&(n.errored=e),r?i.nextTick(y,t,e):y(t,e))}function v(t){let e=!1;function r(r){if(e)return void m(t,null!=r?r:new s);e=!0;const n=t._readableState,o=t._writableState,a=o||n;n&&(n.constructed=!0),o&&(o.constructed=!0),a.destroyed?t.emit(d,r):r?m(t,r,!0):i.nextTick(w,t)}try{t._construct((t=>{i.nextTick(r,t)}))}catch(n){i.nextTick(r,n)}}function w(t){t.emit(f)}function x(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function I(t){t.emit("close")}function E(t,e){t.emit("error",e),i.nextTick(I,t)}t.exports={construct:function(t,e){if("function"!=typeof t._construct)return;const r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(f,e),t.listenerCount(f)>1||i.nextTick(v,t)},destroyer:function(t,e){t&&!u(t)&&(e||l(t)||(e=new o),h(t)?(t.socket=null,t.destroy(e)):x(t)?t.abort():x(t.req)?t.req.abort():"function"==typeof t.destroy?t.destroy(e):"function"==typeof t.close?t.close():e?i.nextTick(E,t,e):i.nextTick(I,t),t.destroyed||(t[c]=!0))},destroy:function(t,e){const r=this._readableState,i=this._writableState,s=i||r;return null!=i&&i.destroyed||null!=r&&r.destroyed?("function"==typeof e&&e(),this):(p(t,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),s.constructed?g(this,t,e):this.once(d,(function(r){g(this,n(r,t),e)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:m}},3370:(t,e,r)=>{"use strict";const{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:s,ObjectSetPrototypeOf:o}=r(4134);t.exports=u;const a=r(7576),c=r(8584);o(u.prototype,a.prototype),o(u,a);{const t=s(c.prototype);for(let e=0;e<t.length;e++){const r=t[e];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(t){if(!(this instanceof u))return new u(t);a.call(this,t),c.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let l,h;function d(){return void 0===l&&(l={}),l}i(u.prototype,{writable:{__proto__:null,...n(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(c.prototype,"writableLength")},writableFinished:{__proto__:null,...n(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),u.fromWeb=function(t,e){return d().newStreamDuplexFromReadableWritablePair(t,e)},u.toWeb=function(t){return d().newReadableWritablePairFromDuplex(t)},u.from=function(t){return h||(h=r(6706)),h(t,"body")}},6706:(t,e,r)=>{const i=r(5606),n=r(8287),{isReadable:s,isWritable:o,isIterable:a,isNodeStream:c,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:h,isReadableStream:d,isWritableStream:f}=r(6115),p=r(6238),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:b}}=r(6371),{destroyer:y}=r(5896),m=r(3370),v=r(7576),w=r(8584),{createDeferredPromise:x}=r(7760),I=r(6532),E=globalThis.Blob||n.Blob,S=void 0!==E?function(t){return t instanceof E}:function(t){return!1},T=globalThis.AbortController||r(5568).AbortController,{FunctionPrototypeCall:R}=r(4134);class A extends m{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function O(t){const e=t.readable&&"function"!=typeof t.readable.read?v.wrap(t.readable):t.readable,r=t.writable;let i,n,a,c,u,l=!!s(e),h=!!o(r);function d(t){const e=c;c=null,e?e(t):t&&u.destroy(t)}return u=new A({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:l,writable:h}),h&&(p(r,(t=>{h=!1,t&&y(e,t),d(t)})),u._write=function(t,e,n){r.write(t,e)?n():i=n},u._final=function(t){r.end(),n=t},r.on("drain",(function(){if(i){const t=i;i=null,t()}})),r.on("finish",(function(){if(n){const t=n;n=null,t()}}))),l&&(p(e,(t=>{l=!1,t&&y(e,t),d(t)})),e.on("readable",(function(){if(a){const t=a;a=null,t()}})),e.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const t=e.read();if(null===t)return void(a=u._read);if(!u.push(t))return}}),u._destroy=function(t,s){t||null===c||(t=new g),a=null,i=null,n=null,null===c?s(t):(c=s,y(r,t),y(e,t))},u}t.exports=function t(e,r){if(h(e))return e;if(u(e))return O({readable:e});if(l(e))return O({writable:e});if(c(e))return O({writable:!1,readable:!1});if(d(e))return O({readable:v.fromWeb(e)});if(f(e))return O({writable:w.fromWeb(e)});if("function"==typeof e){const{value:t,write:n,final:s,destroy:o}=function(t){let{promise:e,resolve:r}=x();const n=new T,s=n.signal,o=t(async function*(){for(;;){const t=e;e=null;const{chunk:n,done:o,cb:a}=await t;if(i.nextTick(a),o)return;if(s.aborted)throw new g(void 0,{cause:s.reason});({promise:e,resolve:r}=x()),yield n}}(),{signal:s});return{value:o,write(t,e,i){const n=r;r=null,n({chunk:t,done:!1,cb:i})},final(t){const e=r;r=null,e({done:!0,cb:t})},destroy(t,e){n.abort(),e(t)}}}(e);if(a(t))return I(A,t,{objectMode:!0,write:n,final:s,destroy:o});const c=null==t?void 0:t.then;if("function"==typeof c){let e;const r=R(c,t,(t=>{if(null!=t)throw new b("nully","body",t)}),(t=>{y(e,t)}));return e=new A({objectMode:!0,readable:!1,write:n,final(t){s((async()=>{try{await r,i.nextTick(t,null)}catch(e){i.nextTick(t,e)}}))},destroy:o})}throw new b("Iterable, AsyncIterable or AsyncFunction",r,t)}if(S(e))return t(e.arrayBuffer());if(a(e))return I(A,e,{objectMode:!0,writable:!1});if(d(null==e?void 0:e.readable)&&f(null==e?void 0:e.writable))return A.fromWeb(e);if("object"==typeof(null==e?void 0:e.writable)||"object"==typeof(null==e?void 0:e.readable)){return O({readable:null!=e&&e.readable?u(null==e?void 0:e.readable)?null==e?void 0:e.readable:t(e.readable):void 0,writable:null!=e&&e.writable?l(null==e?void 0:e.writable)?null==e?void 0:e.writable:t(e.writable):void 0})}const n=null==e?void 0:e.then;if("function"==typeof n){let t;return R(n,e,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{y(t,e)})),t=new A({objectMode:!0,writable:!1,read(){}})}throw new _(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)}},6238:(t,e,r)=>{const i=r(5606),{AbortError:n,codes:s}=r(6371),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:a}=s,{kEmptyObject:c,once:u}=r(7760),{validateAbortSignal:l,validateFunction:h,validateObject:d,validateBoolean:f}=r(277),{Promise:p,PromisePrototypeThen:g,SymbolDispose:_}=r(4134),{isClosed:b,isReadable:y,isReadableNodeStream:m,isReadableStream:v,isReadableFinished:w,isReadableErrored:x,isWritable:I,isWritableNodeStream:E,isWritableStream:S,isWritableFinished:T,isWritableErrored:R,isNodeStream:A,willEmitClose:O,kIsClosedPromise:N}=r(6115);let C;const D=()=>{};function P(t,e,s){var f,p;if(2===arguments.length?(s=e,e=c):null==e?e=c:d(e,"options"),h(s,"callback"),l(e.signal,"options.signal"),s=u(s),v(t)||S(t))return function(t,e,s){let o=!1,a=D;if(e.signal)if(a=()=>{o=!0,s.call(t,new n(void 0,{cause:e.signal.reason}))},e.signal.aborted)i.nextTick(a);else{C=C||r(7760).addAbortListener;const i=C(e.signal,a),n=s;s=u(((...e)=>{i[_](),n.apply(t,e)}))}const c=(...e)=>{o||i.nextTick((()=>s.apply(t,e)))};return g(t[N].promise,c,c),D}(t,e,s);if(!A(t))throw new o("stream",["ReadableStream","WritableStream","Stream"],t);const P=null!==(f=e.readable)&&void 0!==f?f:m(t),j=null!==(p=e.writable)&&void 0!==p?p:E(t),k=t._writableState,L=t._readableState,F=()=>{t.writable||$()};let M=O(t)&&m(t)===P&&E(t)===j,B=T(t,!1);const $=()=>{B=!0,t.destroyed&&(M=!1),(!M||t.readable&&!P)&&(P&&!V||s.call(t))};let V=w(t,!1);const U=()=>{V=!0,t.destroyed&&(M=!1),(!M||t.writable&&!j)&&(j&&!B||s.call(t))},q=e=>{s.call(t,e)};let H=b(t);const G=()=>{H=!0;const e=R(t)||x(t);return e&&"boolean"!=typeof e?s.call(t,e):P&&!V&&m(t,!0)&&!w(t,!1)?s.call(t,new a):!j||B||T(t,!1)?void s.call(t):s.call(t,new a)},z=()=>{H=!0;const e=R(t)||x(t);if(e&&"boolean"!=typeof e)return s.call(t,e);s.call(t)},K=()=>{t.req.on("finish",$)};!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?j&&!k&&(t.on("end",F),t.on("close",F)):(t.on("complete",$),M||t.on("abort",G),t.req?K():t.on("request",K)),M||"boolean"!=typeof t.aborted||t.on("aborted",G),t.on("end",U),t.on("finish",$),!1!==e.error&&t.on("error",q),t.on("close",G),H?i.nextTick(G):null!=k&&k.errorEmitted||null!=L&&L.errorEmitted?M||i.nextTick(z):(P||M&&!y(t)||!B&&!1!==I(t))&&(j||M&&!I(t)||!V&&!1!==y(t))?L&&t.req&&t.aborted&&i.nextTick(z):i.nextTick(z);const W=()=>{s=D,t.removeListener("aborted",G),t.removeListener("complete",$),t.removeListener("abort",G),t.removeListener("request",K),t.req&&t.req.removeListener("finish",$),t.removeListener("end",F),t.removeListener("close",F),t.removeListener("finish",$),t.removeListener("end",U),t.removeListener("error",q),t.removeListener("close",G)};if(e.signal&&!H){const o=()=>{const r=s;W(),r.call(t,new n(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)i.nextTick(o);else{C=C||r(7760).addAbortListener;const i=C(e.signal,o),n=s;s=u(((...e)=>{i[_](),n.apply(t,e)}))}}return W}t.exports=P,t.exports.finished=function(t,e){var r;let i=!1;return null===e&&(e=c),null!==(r=e)&&void 0!==r&&r.cleanup&&(f(e.cleanup,"cleanup"),i=e.cleanup),new p(((r,n)=>{const s=P(t,e,(t=>{i&&s(),t?n(t):r()}))}))}},6532:(t,e,r)=>{"use strict";const i=r(5606),{PromisePrototypeThen:n,SymbolAsyncIterator:s,SymbolIterator:o}=r(4134),{Buffer:a}=r(8287),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:u}=r(6371).codes;t.exports=function(t,e,r){let l,h;if("string"==typeof e||e instanceof a)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});if(e&&e[s])h=!0,l=e[s]();else{if(!e||!e[o])throw new c("iterable",["Iterable"],e);h=!1,l=e[o]()}const d=new t({objectMode:!0,highWaterMark:1,...r});let f=!1;return d._read=function(){f||(f=!0,async function(){for(;;){try{const{value:t,done:e}=h?await l.next():l.next();if(e)d.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw f=!1,new u;if(d.push(e))continue;f=!1}}catch(t){d.destroy(t)}break}}())},d._destroy=function(t,e){n(async function(t){const e=null!=t,r="function"==typeof l.throw;if(e&&r){const{value:e,done:r}=await l.throw(t);if(await e,r)return}if("function"==typeof l.return){const{value:t}=await l.return();await t}}(t),(()=>i.nextTick(e,t)),(r=>i.nextTick(e,r||t)))},d}},4259:(t,e,r)=>{"use strict";const{ArrayIsArray:i,ObjectSetPrototypeOf:n}=r(4134),{EventEmitter:s}=r(7007);function o(t){s.call(this,t)}function a(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?i(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}n(o.prototype,s.prototype),n(o,s),o.prototype.pipe=function(t,e){const r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function n(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",n),t._isStdio||e&&!1===e.end||(r.on("end",c),r.on("close",u));let o=!1;function c(){o||(o=!0,t.end())}function u(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){h(),0===s.listenerCount(this,"error")&&this.emit("error",t)}function h(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),t.removeListener("close",h)}return a(r,"error",l),a(t,"error",l),r.on("end",h),r.on("close",h),t.on("close",h),t.emit("pipe",r),t},t.exports={Stream:o,prependListener:a}},823:(t,e,r)=>{"use strict";const i=globalThis.AbortController||r(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:a},AbortError:c}=r(6371),{validateAbortSignal:u,validateInteger:l,validateObject:h}=r(277),d=r(4134).Symbol("kWeak"),f=r(4134).Symbol("kResistStopPropagation"),{finished:p}=r(6238),g=r(7830),{addAbortSignalNoValidate:_}=r(4147),{isWritable:b,isNodeStream:y}=r(6115),{deprecate:m}=r(7760),{ArrayPrototypePush:v,Boolean:w,MathFloor:x,Number:I,NumberIsNaN:E,Promise:S,PromiseReject:T,PromiseResolve:R,PromisePrototypeThen:A,Symbol:O}=r(4134),N=O("kEmpty"),C=O("kEof");function D(t,e){if("function"!=typeof t)throw new s("fn",["Function","AsyncFunction"],t);null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal");let i=1;null!=(null==e?void 0:e.concurrency)&&(i=x(e.concurrency));let n=i-1;return null!=(null==e?void 0:e.highWaterMark)&&(n=x(e.highWaterMark)),l(i,"options.concurrency",1),l(n,"options.highWaterMark",0),n+=i,async function*(){const s=r(7760).AbortSignalAny([null==e?void 0:e.signal].filter(w)),o=this,a=[],u={signal:s};let l,h,d=!1,f=0;function p(){d=!0,g()}function g(){f-=1,_()}function _(){h&&!d&&f<i&&a.length<n&&(h(),h=null)}!async function(){try{for await(let r of o){if(d)return;if(s.aborted)throw new c;try{if(r=t(r,u),r===N)continue;r=R(r)}catch(e){r=T(e)}f+=1,A(r,g,p),a.push(r),l&&(l(),l=null),!d&&(a.length>=n||f>=i)&&await new S((t=>{h=t}))}a.push(C)}catch(e){const t=T(e);A(t,g,p),a.push(t)}finally{d=!0,l&&(l(),l=null)}}();try{for(;;){for(;a.length>0;){const t=await a[0];if(t===C)return;if(s.aborted)throw new c;t!==N&&(yield t),a.shift(),_()}await new S((t=>{l=t}))}}finally{d=!0,h&&(h(),h=null)}}.call(this)}async function P(t,e=void 0){for await(const r of j.call(this,t,e))return!0;return!1}function j(t,e){if("function"!=typeof t)throw new s("fn",["Function","AsyncFunction"],t);return D.call(this,(async function(e,r){return await t(e,r)?e:N}),e)}class k extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function L(t){if(t=I(t),E(t))return 0;if(t<0)throw new a("number",">= 0",t);return t}t.exports.streamReturningOperators={asIndexedPairs:m((function(t=void 0){return null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),async function*(){let e=0;for await(const i of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c({cause:t.signal.reason});yield[e++,i]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(t,e=void 0){return null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),t=L(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c;for await(const n of this){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new c;t--<=0&&(yield n)}}.call(this)},filter:j,flatMap:function(t,e){const r=D.call(this,t,e);return async function*(){for await(const t of r)yield*t}.call(this)},map:D,take:function(t,e=void 0){return null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),t=L(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c;for await(const n of this){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new c;if(t-- >0&&(yield n),t<=0)return}}.call(this)},compose:function(t,e){if(null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),y(t)&&!b(t))throw new n("stream",t,"must be writable");const r=g(this,t);return null!=e&&e.signal&&_(e.signal,r),r}},t.exports.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new s("fn",["Function","AsyncFunction"],t);return!(await P.call(this,(async(...e)=>!(await t(...e))),e))},forEach:async function(t,e){if("function"!=typeof t)throw new s("fn",["Function","AsyncFunction"],t);for await(const r of D.call(this,(async function(e,r){return await t(e,r),N}),e));},reduce:async function(t,e,r){var n;if("function"!=typeof t)throw new s("reducer",["Function","AsyncFunction"],t);null!=r&&h(r,"options"),null!=(null==r?void 0:r.signal)&&u(r.signal,"options.signal");let o=arguments.length>1;if(null!=r&&null!==(n=r.signal)&&void 0!==n&&n.aborted){const t=new c(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await p(this.destroy(t)),t}const a=new i,l=a.signal;if(null!=r&&r.signal){const t={once:!0,[d]:this,[f]:!0};r.signal.addEventListener("abort",(()=>a.abort()),t)}let g=!1;try{for await(const i of this){var _;if(g=!0,null!=r&&null!==(_=r.signal)&&void 0!==_&&_.aborted)throw new c;o?e=await t(e,i,{signal:l}):(e=i,o=!0)}if(!g&&!o)throw new k}finally{a.abort()}return e},toArray:async function(t){null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal");const e=[];for await(const i of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c(void 0,{cause:t.signal.reason});v(e,i)}return e},some:P,find:async function(t,e){for await(const r of j.call(this,t,e))return r}}},6524:(t,e,r)=>{"use strict";const{ObjectSetPrototypeOf:i}=r(4134);t.exports=s;const n=r(7382);function s(t){if(!(this instanceof s))return new s(t);n.call(this,t)}i(s.prototype,n.prototype),i(s,n),s.prototype._transform=function(t,e,r){r(null,t)}},7758:(t,e,r)=>{const i=r(5606),{ArrayIsArray:n,Promise:s,SymbolAsyncIterator:o,SymbolDispose:a}=r(4134),c=r(6238),{once:u}=r(7760),l=r(5896),h=r(3370),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:y}=r(6371),{validateFunction:m,validateAbortSignal:v}=r(277),{isIterable:w,isReadable:x,isReadableNodeStream:I,isNodeStream:E,isTransformStream:S,isWebStream:T,isReadableStream:R,isReadableFinished:A}=r(6115),O=globalThis.AbortController||r(5568).AbortController;let N,C,D;function P(t,e,r){let i=!1;t.on("close",(()=>{i=!0}));return{destroy:e=>{i||(i=!0,l.destroyer(t,e||new _("pipe")))},cleanup:c(t,{readable:e,writable:r},(t=>{i=!t}))}}function j(t){if(w(t))return t;if(I(t))return async function*(t){C||(C=r(7576));yield*C.prototype[o].call(t)}(t);throw new f("val",["Readable","Iterable","AsyncIterable"],t)}async function k(t,e,r,{end:i}){let n,o=null;const a=t=>{if(t&&(n=t),o){const t=o;o=null,t()}},u=()=>new s(((t,e)=>{n?e(n):o=()=>{n?e(n):t()}}));e.on("drain",a);const l=c(e,{readable:!1},a);try{e.writableNeedDrain&&await u();for await(const r of t)e.write(r)||await u();i&&(e.end(),await u()),r()}catch(h){r(n!==h?d(n,h):h)}finally{l(),e.off("drain",a)}}async function L(t,e,r,{end:i}){S(e)&&(e=e.writable);const n=e.getWriter();try{for await(const e of t)await n.ready,n.write(e).catch((()=>{}));await n.ready,i&&await n.close(),r()}catch(s){try{await n.abort(s),r(s)}catch(s){r(s)}}}function F(t,e,s){if(1===t.length&&n(t[0])&&(t=t[0]),t.length<2)throw new g("streams");const o=new O,c=o.signal,u=null==s?void 0:s.signal,l=[];function d(){$(new y)}let _,b,m;v(u,"options.signal"),D=D||r(7760).addAbortListener,u&&(_=D(u,d));const A=[];let C,F=0;function B(t){$(t,0==--F)}function $(t,r){var n;if(!t||b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code||(b=t),b||r){for(;A.length;)A.shift()(b);null===(n=_)||void 0===n||n[a](),o.abort(),r&&(b||l.forEach((t=>t())),i.nextTick(e,b,m))}}for(let H=0;H<t.length;H++){const G=t[H],z=H<t.length-1,K=H>0,W=z||!1!==(null==s?void 0:s.end),Q=H===t.length-1;if(E(G)){if(W){const{destroy:J,cleanup:X}=P(G,z,K);A.push(J),x(G)&&Q&&l.push(X)}function V(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&B(t)}G.on("error",V),x(G)&&Q&&l.push((()=>{G.removeListener("error",V)}))}if(0===H)if("function"==typeof G){if(C=G({signal:c}),!w(C))throw new p("Iterable, AsyncIterable or Stream","source",C)}else C=w(G)||I(G)||S(G)?G:h.from(G);else if("function"==typeof G){var U;if(S(C))C=j(null===(U=C)||void 0===U?void 0:U.readable);else C=j(C);if(C=G(C,{signal:c}),z){if(!w(C,!0))throw new p("AsyncIterable",`transform[${H-1}]`,C)}else{var q;N||(N=r(6524));const Y=new N({objectMode:!0}),Z=null===(q=C)||void 0===q?void 0:q.then;if("function"==typeof Z)F++,Z.call(C,(t=>{m=t,null!=t&&Y.write(t),W&&Y.end(),i.nextTick(B)}),(t=>{Y.destroy(t),i.nextTick(B,t)}));else if(w(C,!0))F++,k(C,Y,B,{end:W});else{if(!R(C)&&!S(C))throw new p("AsyncIterable or Promise","destination",C);{const rt=C.readable||C;F++,k(rt,Y,B,{end:W})}}C=Y;const{destroy:tt,cleanup:et}=P(C,!1,!0);A.push(tt),Q&&l.push(et)}}else if(E(G)){if(I(C)){F+=2;const it=M(C,G,B,{end:W});x(G)&&Q&&l.push(it)}else if(S(C)||R(C)){const nt=C.readable||C;F++,k(nt,G,B,{end:W})}else{if(!w(C))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],C);F++,k(C,G,B,{end:W})}C=G}else if(T(G)){if(I(C))F++,L(j(C),G,B,{end:W});else if(R(C)||w(C))F++,L(C,G,B,{end:W});else{if(!S(C))throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],C);F++,L(C.readable,G,B,{end:W})}C=G}else C=h.from(G)}return(null!=c&&c.aborted||null!=u&&u.aborted)&&i.nextTick(d),C}function M(t,e,r,{end:n}){let s=!1;if(e.on("close",(()=>{s||r(new b)})),t.pipe(e,{end:!1}),n){function o(){s=!0,e.end()}A(t)?i.nextTick(o):t.once("end",o)}else r();return c(t,{readable:!0,writable:!1},(e=>{const i=t._readableState;e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code&&i&&i.ended&&!i.errored&&!i.errorEmitted?t.once("end",r).once("error",r):r(e)})),c(e,{readable:!1,writable:!0},r)}t.exports={pipelineImpl:F,pipeline:function(...t){return F(t,u(function(t){return m(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}},7576:(t,e,r)=>{const i=r(5606),{ArrayPrototypeIndexOf:n,NumberIsInteger:s,NumberIsNaN:o,NumberParseInt:a,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:h,SafeSet:d,SymbolAsyncDispose:f,SymbolAsyncIterator:p,Symbol:g}=r(4134);t.exports=K,K.ReadableState=z;const{EventEmitter:_}=r(7007),{Stream:b,prependListener:y}=r(4259),{Buffer:m}=r(8287),{addAbortSignal:v}=r(4147),w=r(6238);let x=r(7760).debuglog("stream",(t=>{x=t}));const I=r(345),E=r(5896),{getHighWaterMark:S,getDefaultHighWaterMark:T}=r(5291),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:N,ERR_STREAM_PUSH_AFTER_EOF:C,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D},AbortError:P}=r(6371),{validateObject:j}=r(277),k=g("kPaused"),{StringDecoder:L}=r(3141),F=r(6532);l(K.prototype,b.prototype),l(K,b);const M=()=>{},{errorOrDestroy:B}=E,$=1,V=16,U=32,q=2048,H=4096;function G(t){return{enumerable:!1,get(){return!!(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function z(t,e,i){"boolean"!=typeof i&&(i=e instanceof r(3370)),this.state=q|H|V|U,t&&t.objectMode&&(this.state|=$),i&&t&&t.readableObjectMode&&(this.state|=$),this.highWaterMark=t?S(this,t,"readableHighWaterMark",i):T(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this[k]=null,t&&!1===t.emitClose&&(this.state&=~q),t&&!1===t.autoDestroy&&(this.state&=~H),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new L(t.encoding),this.encoding=t.encoding)}function K(t){if(!(this instanceof K))return new K(t);const e=this instanceof r(3370);this._readableState=new z(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&v(t.signal,this)),b.call(this,t),E.construct(this,(()=>{this._readableState.needReadable&&Z(this,this._readableState)}))}function W(t,e,r,i){x("readableAddChunk",e);const n=t._readableState;let s;if(n.state&$||("string"==typeof e?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=m.from(e,r).toString(n.encoding):(e=m.from(e,r),r=""))):e instanceof m?r="":b._isUint8Array(e)?(e=b._uint8ArrayToBuffer(e),r=""):null!=e&&(s=new A("chunk",["string","Buffer","Uint8Array"],e))),s)B(t,s);else if(null===e)n.state&=-9,function(t,e){if(x("onEofChunk"),e.ended)return;if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?X(t):(e.needReadable=!1,e.emittedReadable=!0,Y(t))}(t,n);else if(n.state&$||e&&e.length>0)if(i)if(4&n.state)B(t,new D);else{if(n.destroyed||n.errored)return!1;Q(t,n,e,!0)}else if(n.ended)B(t,new C);else{if(n.destroyed||n.errored)return!1;n.state&=-9,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||0!==e.length?Q(t,n,e,!1):Z(t,n)):Q(t,n,e,!1)}else i||(n.state&=-9,Z(t,n));return!n.ended&&(n.length<n.highWaterMark||0===n.length)}function Q(t,e,r,i){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(65536&e.state?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),64&e.state&&X(t)),Z(t,e)}c(z.prototype,{objectMode:G($),ended:G(2),endEmitted:G(4),reading:G(8),constructed:G(V),sync:G(U),needReadable:G(64),emittedReadable:G(128),readableListening:G(256),resumeScheduled:G(512),errorEmitted:G(1024),emitClose:G(q),autoDestroy:G(H),destroyed:G(8192),closed:G(16384),closeEmitted:G(32768),multiAwaitDrain:G(65536),readingMore:G(1<<17),dataEmitted:G(1<<18)}),K.prototype.destroy=E.destroy,K.prototype._undestroy=E.undestroy,K.prototype._destroy=function(t,e){e(t)},K.prototype[_.captureRejectionSymbol]=function(t){this.destroy(t)},K.prototype[f]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new P,this.destroy(t)),new h(((e,r)=>w(this,(i=>i&&i!==t?r(i):e(null)))))},K.prototype.push=function(t,e){return W(this,t,e,!1)},K.prototype.unshift=function(t,e){return W(this,t,e,!0)},K.prototype.isPaused=function(){const t=this._readableState;return!0===t[k]||!1===t.flowing},K.prototype.setEncoding=function(t){const e=new L(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let i="";for(const n of r)i+=e.write(n);return r.clear(),""!==i&&r.push(i),this._readableState.length=i.length,this};function J(t,e){return t<=0||0===e.length&&e.ended?0:e.state&$?1:o(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function X(t){const e=t._readableState;x("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(x("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(Y,t))}function Y(t){const e=t._readableState;x("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,nt(t)}function Z(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,i.nextTick(tt,t,e))}function tt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const r=e.length;if(x("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function et(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[k]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function rt(t){x("readable nexttick read 0"),t.read(0)}function it(t,e){x("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),nt(t),e.flowing&&!e.reading&&t.read(0)}function nt(t){const e=t._readableState;for(x("flow",e.flowing);e.flowing&&null!==t.read(););}function st(t,e){"function"!=typeof t.read&&(t=K.wrap(t,{objectMode:!0}));const r=async function*(t,e){let r,i=M;function n(e){this===t?(i(),i=M):i=e}t.on("readable",n);const s=w(t,{writable:!1},(t=>{r=t?R(r,t):null,i(),i=M}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(r)throw r;if(null===r)return;await new h(n)}}}catch(o){throw r=R(r,o),r}finally{!r&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==r&&!t._readableState.autoDestroy?(t.off("readable",n),s()):E.destroyer(t,null)}}(t,e);return r.stream=t,r}function ot(t,e){if(0===e.length)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function at(t){const e=t._readableState;x("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(ct,e,t))}function ct(t,e){if(x("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,e.emit("end"),e.writable&&!1===e.allowHalfOpen)i.nextTick(ut,e);else if(t.autoDestroy){const t=e._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&e.destroy()}}function ut(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let lt;function ht(){return void 0===lt&&(lt={}),lt}K.prototype.read=function(t){x("read",t),void 0===t?t=NaN:s(t)||(t=a(t,10));const e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new N("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.state&=-129),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return x("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?at(this):X(this),null;if(0===(t=J(t,e))&&e.ended)return 0===e.length&&at(this),null;let i,n=!!(64&e.state);if(x("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&(n=!0,x("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,x("reading, ended or constructing",n);else if(n){x("do read"),e.state|=8|U,0===e.length&&(e.state|=64);try{this._read(e.highWaterMark)}catch(o){B(this,o)}e.state&=~U,e.reading||(t=J(r,e))}return i=t>0?ot(t,e):null,null===i?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&at(this)),null===i||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",i)),i},K.prototype._read=function(t){throw new O("_read()")},K.prototype.pipe=function(t,e){const r=this,n=this._readableState;1===n.pipes.length&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new d(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),x("pipe count=%d opts=%j",n.pipes.length,e);const s=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?a:_;function o(e,i){x("onunpipe"),e===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,function(){x("cleanup"),t.removeListener("close",p),t.removeListener("finish",g),c&&t.removeListener("drain",c);t.removeListener("error",f),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",_),r.removeListener("data",h),u=!0,c&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&c()}())}function a(){x("onend"),t.end()}let c;n.endEmitted?i.nextTick(s):r.once("end",s),t.on("unpipe",o);let u=!1;function l(){u||(1===n.pipes.length&&n.pipes[0]===t?(x("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(x("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),c||(c=function(t,e){return function(){const r=t._readableState;r.awaitDrainWriters===e?(x("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(x("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(r,t),t.on("drain",c))}function h(e){x("ondata");const r=t.write(e);x("dest.write",r),!1===r&&l()}function f(e){if(x("onerror",e),_(),t.removeListener("error",f),0===t.listenerCount("error")){const r=t._writableState||t._readableState;r&&!r.errorEmitted?B(t,e):t.emit("error",e)}}function p(){t.removeListener("finish",g),_()}function g(){x("onfinish"),t.removeListener("close",p),_()}function _(){x("unpipe"),r.unpipe(t)}return r.on("data",h),y(t,"error",f),t.once("close",p),t.once("finish",g),t.emit("pipe",r),!0===t.writableNeedDrain?l():n.flowing||(x("pipe resume"),r.resume()),t},K.prototype.unpipe=function(t){const e=this._readableState;if(0===e.pipes.length)return this;if(!t){const t=e.pipes;e.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const r=n(e.pipes,t);return-1===r||(e.pipes.splice(r,1),0===e.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},K.prototype.on=function(t,e){const r=b.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,x("on readable",n.length,n.reading),n.length?X(this):n.reading||i.nextTick(rt,this))),r},K.prototype.addListener=K.prototype.on,K.prototype.removeListener=function(t,e){const r=b.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(et,this),r},K.prototype.off=K.prototype.removeListener,K.prototype.removeAllListeners=function(t){const e=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(et,this),e},K.prototype.resume=function(){const t=this._readableState;return t.flowing||(x("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(it,t,e))}(this,t)),t[k]=!1,this},K.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[k]=!0,this},K.prototype.wrap=function(t){let e=!1;t.on("data",(r=>{!this.push(r)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{B(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const r=u(t);for(let i=1;i<r.length;i++){const e=r[i];void 0===this[e]&&"function"==typeof t[e]&&(this[e]=t[e].bind(t))}return this},K.prototype[p]=function(){return st(this)},K.prototype.iterator=function(t){return void 0!==t&&j(t,"options"),st(this,t)},c(K.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(z.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[k]},set(t){this[k]=!!t}}}),K._fromList=ot,K.from=function(t,e){return F(K,t,e)},K.fromWeb=function(t,e){return ht().newStreamReadableFromReadableStream(t,e)},K.toWeb=function(t,e){return ht().newReadableStreamFromStreamReadable(t,e)},K.wrap=function(t,e){var r,i;return new K({objectMode:null===(r=null!==(i=t.readableObjectMode)&&void 0!==i?i:t.objectMode)||void 0===r||r,...e,destroy(e,r){E.destroyer(t,e),r(e)}}).wrap(t)}},5291:(t,e,r)=>{"use strict";const{MathFloor:i,NumberIsInteger:n}=r(4134),{validateInteger:s}=r(277),{ERR_INVALID_ARG_VALUE:o}=r(6371).codes;let a=16384,c=16;function u(t){return t?c:a}t.exports={getHighWaterMark:function(t,e,r,s){const a=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,s,r);if(null!=a){if(!n(a)||a<0){throw new o(s?`options.${r}`:"options.highWaterMark",a)}return i(a)}return u(t.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(t,e){s(e,"value",0),t?c=e:a=e}}},7382:(t,e,r)=>{"use strict";const{ObjectSetPrototypeOf:i,Symbol:n}=r(4134);t.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:s}=r(6371).codes,o=r(3370),{getHighWaterMark:a}=r(5291);i(u.prototype,o.prototype),i(u,o);const c=n("kCallback");function u(t){if(!(this instanceof u))return new u(t);const e=t?a(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),o.call(this,t),this._readableState.sync=!1,this[c]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function l(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,r)=>{e?t?t(e):this.destroy(e):(null!=r&&this.push(r),this.push(null),t&&t())}))}function h(){this._final!==l&&l.call(this)}u.prototype._final=l,u.prototype._transform=function(t,e,r){throw new s("_transform()")},u.prototype._write=function(t,e,r){const i=this._readableState,n=this._writableState,s=i.length;this._transform(t,e,((t,e)=>{t?r(t):(null!=e&&this.push(e),n.ended||s===i.length||i.length<i.highWaterMark?r():this[c]=r)}))},u.prototype._read=function(){if(this[c]){const t=this[c];this[c]=null,t()}}},6115:(t,e,r)=>{"use strict";const{SymbolAsyncIterator:i,SymbolIterator:n,SymbolFor:s}=r(4134),o=s("nodejs.stream.destroyed"),a=s("nodejs.stream.errored"),c=s("nodejs.stream.readable"),u=s("nodejs.stream.writable"),l=s("nodejs.stream.disturbed"),h=s("nodejs.webstream.isClosedPromise"),d=s("nodejs.webstream.controllerErrorFunction");function f(t,e=!1){var r;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(r=t._readableState)||void 0===r?void 0:r.readable)||t._writableState&&!t._readableState)}function p(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function g(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function _(t){return!(!t||g(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function b(t){return!(!t||g(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function y(t){return!(!t||g(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function m(t){if(!g(t))return null;const e=t._writableState,r=t._readableState,i=e||r;return!!(t.destroyed||t[o]||null!=i&&i.destroyed)}function v(t){if(!p(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function w(t,e){if(!f(t))return null;const r=t._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===e&&!0===r.ended&&0===r.length))}function x(t){return t&&null!=t[c]?t[c]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!m(t)&&(f(t)&&t.readable&&!w(t))}function I(t){return t&&null!=t[u]?t[u]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!m(t)&&(p(t)&&t.writable&&!v(t))}function E(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function S(t){return"boolean"==typeof t._sent100&&E(t)}t.exports={isDestroyed:m,kIsDestroyed:o,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[l])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:l,isErrored:function(t){var e,r,i,n,s,o,c,u,l,h;return!(!t||!(null!==(e=null!==(r=null!==(i=null!==(n=null!==(s=null!==(o=t[a])&&void 0!==o?o:t.readableErrored)&&void 0!==s?s:t.writableErrored)&&void 0!==n?n:null===(c=t._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==i?i:null===(u=t._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(l=t._readableState)||void 0===l?void 0:l.errored)&&void 0!==e?e:null===(h=t._writableState)||void 0===h?void 0:h.errored))},kIsErrored:a,isReadable:x,kIsReadable:c,kIsClosedPromise:h,kControllerErrorFunction:d,kIsWritable:u,isClosed:function(t){if(!g(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,r=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==e?void 0:e.closed)||(null==r?void 0:r.closed):"boolean"==typeof t._closed&&E(t)?t._closed:null},isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return g(t)?!!m(t)||(!1===(null==e?void 0:e.readable)||!x(t))&&(!1===(null==e?void 0:e.writable)||!I(t)):null},isIterable:function(t,e){return null!=t&&(!0===e?"function"==typeof t[i]:!1===e?"function"==typeof t[n]:"function"==typeof t[i]||"function"==typeof t[n])},isReadableNodeStream:f,isReadableStream:_,isReadableEnded:function(t){if(!f(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:w,isReadableErrored:function(t){var e,r;return g(t)?t.readableErrored?t.readableErrored:null!==(e=null===(r=t._readableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isNodeStream:g,isWebStream:function(t){return _(t)||b(t)||y(t)},isWritable:I,isWritableNodeStream:p,isWritableStream:b,isWritableEnded:v,isWritableFinished:function(t,e){if(!p(t))return null;if(!0===t.writableFinished)return!0;const r=t._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===e&&!0===r.ended&&0===r.length))},isWritableErrored:function(t){var e,r;return g(t)?t.writableErrored?t.writableErrored:null!==(e=null===(r=t._writableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:S,willEmitClose:function(t){if(!g(t))return null;const e=t._writableState,r=t._readableState,i=e||r;return!i&&S(t)||!!(i&&i.autoDestroy&&i.emitClose&&!1===i.closed)},isTransformStream:y}},8584:(t,e,r)=>{const i=r(5606),{ArrayPrototypeSlice:n,Error:s,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:a,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:h,SymbolHasInstance:d}=r(4134);t.exports=j,j.WritableState=D;const{EventEmitter:f}=r(7007),p=r(4259).Stream,{Buffer:g}=r(8287),_=r(5896),{addAbortSignal:b}=r(4147),{getHighWaterMark:y,getDefaultHighWaterMark:m}=r(5291),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:I,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:S,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:A}=r(6371).codes,{errorOrDestroy:O}=_;function N(){}u(j.prototype,p.prototype),u(j,p);const C=h("kOnFinished");function D(t,e,i){"boolean"!=typeof i&&(i=e instanceof r(3370)),this.objectMode=!(!t||!t.objectMode),i&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?y(this,t,"writableHighWaterMark",i):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const n=!(!t||!1!==t.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,P(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[C]=[]}function P(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function j(t){const e=this instanceof r(3370);if(!e&&!o(j,this))return new j(t);this._writableState=new D(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&b(t.signal,this)),p.call(this,t),_.construct(this,(()=>{const t=this._writableState;t.writing||U(this,t),G(this,t)}))}function k(t,e,r,n){const s=t._writableState;if("function"==typeof r)n=r,r=s.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new A(r)}else r=s.defaultEncoding;"function"!=typeof n&&(n=N)}if(null===e)throw new T;if(!s.objectMode)if("string"==typeof e)!1!==s.decodeStrings&&(e=g.from(e,r),r="buffer");else if(e instanceof g)r="buffer";else{if(!p._isUint8Array(e))throw new v("chunk",["string","Buffer","Uint8Array"],e);e=p._uint8ArrayToBuffer(e),r="buffer"}let o;return s.ending?o=new R:s.destroyed&&(o=new E("write")),o?(i.nextTick(n,o),O(t,o,!0),o):(s.pendingcb++,function(t,e,r,i,n){const s=e.objectMode?1:r.length;e.length+=s;const o=e.length<e.highWaterMark;o||(e.needDrain=!0);e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&"buffer"!==i&&(e.allBuffers=!1),e.allNoop&&n!==N&&(e.allNoop=!1)):(e.writelen=s,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1);return o&&!e.errored&&!e.destroyed}(t,s,e,r,n))}function L(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new E("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function F(t,e,r,i){--e.pendingcb,i(r),V(e),O(t,r)}function M(t,e){const r=t._writableState,n=r.sync,s=r.writecb;"function"==typeof s?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?i.nextTick(F,t,r,e,s):F(t,r,e,s)):(r.buffered.length>r.bufferedIndex&&U(t,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===s?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:s,stream:t,state:r},i.nextTick(B,r.afterWriteTickInfo)):$(t,r,1,s))):O(t,new x)}function B({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,$(t,e,r,i)}function $(t,e,r,i){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&V(e),G(t,e)}function V(t){if(t.writing)return;for(let n=t.bufferedIndex;n<t.buffered.length;++n){var e;const{chunk:r,callback:i}=t.buffered[n],s=t.objectMode?1:r.length;t.length-=s,i(null!==(e=t.errored)&&void 0!==e?e:new E("write"))}const r=t[C].splice(0);for(let n=0;n<r.length;n++){var i;r[n](null!==(i=t.errored)&&void 0!==i?i:new E("end"))}P(t)}function U(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;const{buffered:r,bufferedIndex:i,objectMode:s}=e,o=r.length-i;if(!o)return;let a=i;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;const i=e.allNoop?N:t=>{for(let e=a;e<r.length;++e)r[e].callback(t)},s=e.allNoop&&0===a?r:n(r,a);s.allBuffers=e.allBuffers,L(t,e,!0,e.length,s,"",i),P(e)}else{do{const{chunk:i,encoding:n,callback:o}=r[a];r[a++]=null;L(t,e,!1,s?1:i.length,i,n,o)}while(a<r.length&&!e.writing);a===r.length?P(e):a>256?(r.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}function q(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function H(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.finalCalled=!0,function(t,e){let r=!1;function n(n){if(r)O(t,null!=n?n:x());else if(r=!0,e.pendingcb--,n){const r=e[C].splice(0);for(let t=0;t<r.length;t++)r[t](n);O(t,n,e.sync)}else q(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,i.nextTick(z,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(s){n(s)}e.sync=!1}(t,e)))}function G(t,e,r){q(e)&&(H(t,e),0===e.pendingcb&&(r?(e.pendingcb++,i.nextTick(((t,e)=>{q(e)?z(t,e):e.pendingcb--}),t,e)):q(e)&&(e.pendingcb++,z(t,e))))}function z(t,e){e.pendingcb--,e.finished=!0;const r=e[C].splice(0);for(let i=0;i<r.length;i++)r[i]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}D.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},a(D.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(j,d,{__proto__:null,value:function(t){return!!o(this,t)||this===j&&(t&&t._writableState instanceof D)}}),j.prototype.pipe=function(){O(this,new I)},j.prototype.write=function(t,e,r){return!0===k(this,t,e,r)},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||U(this,t))},j.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=l(t)),!g.isEncoding(t))throw new A(t);return this._writableState.defaultEncoding=t,this},j.prototype._write=function(t,e,r){if(!this._writev)throw new w("_write()");this._writev([{chunk:t,encoding:e}],r)},j.prototype._writev=null,j.prototype.end=function(t,e,r){const n=this._writableState;let o;if("function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t){const r=k(this,t,e);r instanceof s&&(o=r)}return n.corked&&(n.corked=1,this.uncork()),o||(n.errored||n.ending?n.finished?o=new S("end"):n.destroyed&&(o=new E("end")):(n.ending=!0,G(this,n,!0),n.ended=!0)),"function"==typeof r&&(o||n.finished?i.nextTick(r,o):n[C].push(r)),this},c(j.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&(!t.destroyed&&!t.ending&&t.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const K=_.destroy;let W;function Q(){return void 0===W&&(W={}),W}j.prototype.destroy=function(t,e){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[C].length)&&i.nextTick(V,r),K.call(this,t,e),this},j.prototype._undestroy=_.undestroy,j.prototype._destroy=function(t,e){e(t)},j.prototype[f.captureRejectionSymbol]=function(t){this.destroy(t)},j.fromWeb=function(t,e){return Q().newStreamWritableFromWritableStream(t,e)},j.toWeb=function(t){return Q().newWritableStreamFromStreamWritable(t)}},277:(t,e,r)=>{"use strict";const{ArrayIsArray:i,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:s,ArrayPrototypeMap:o,NumberIsInteger:a,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:l,NumberParseInt:h,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:_}=r(4134),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:w,ERR_UNKNOWN_SIGNAL:x}}=r(6371),{normalizeEncoding:I}=r(7760),{isAsyncFunction:E,isArrayBufferView:S}=r(7760).types,T={};const R=/^[0-7]+$/;const A=b(((t,e,r=l,i=u)=>{if("number"!=typeof t)throw new m(e,"number",t);if(!a(t))throw new w(e,"an integer",t);if(t<r||t>i)throw new w(e,`>= ${r} && <= ${i}`,t)})),O=b(((t,e,r=-2147483648,i=2147483647)=>{if("number"!=typeof t)throw new m(e,"number",t);if(!a(t))throw new w(e,"an integer",t);if(t<r||t>i)throw new w(e,`>= ${r} && <= ${i}`,t)})),N=b(((t,e,r=!1)=>{if("number"!=typeof t)throw new m(e,"number",t);if(!a(t))throw new w(e,"an integer",t);const i=r?1:0,n=4294967295;if(t<i||t>n)throw new w(e,`>= ${i} && <= ${n}`,t)}));function C(t,e){if("string"!=typeof t)throw new m(e,"string",t)}const D=b(((t,e,r)=>{if(!n(r,t)){const i=s(o(r,(t=>"string"==typeof t?`'${t}'`:p(t))),", ");throw new v(e,t,"must be one of: "+i)}}));function P(t,e){if("boolean"!=typeof t)throw new m(e,"boolean",t)}function j(t,e,r){return null!=t&&d(t,e)?t[e]:r}const k=b(((t,e,r=null)=>{const n=j(r,"allowArray",!1),s=j(r,"allowFunction",!1);if(!j(r,"nullable",!1)&&null===t||!n&&i(t)||"object"!=typeof t&&(!s||"function"!=typeof t))throw new m(e,"Object",t)})),L=b(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new m(e,"a dictionary",t)})),F=b(((t,e,r=0)=>{if(!i(t))throw new m(e,"Array",t);if(t.length<r){throw new v(e,t,`must be longer than ${r}`)}}));const M=b(((t,e="buffer")=>{if(!S(t))throw new m(e,["Buffer","TypedArray","DataView"],t)}));const B=b(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new m(e,"AbortSignal",t)})),$=b(((t,e)=>{if("function"!=typeof t)throw new m(e,"Function",t)})),V=b(((t,e)=>{if("function"!=typeof t||E(t))throw new m(e,"Function",t)})),U=b(((t,e)=>{if(void 0!==t)throw new m(e,"undefined",t)}));const q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function H(t,e){if(void 0===t||!f(q,t))throw new v(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,r){if(void 0===t&&(t=r),"string"==typeof t){if(null===f(R,t))throw new v(e,t,"must be a 32-bit unsigned integer or an octal string");t=h(t,8)}return N(t,e),t},validateArray:F,validateStringArray:function(t,e){F(t,e);for(let r=0;r<t.length;r++)C(t[r],`${e}[${r}]`)},validateBooleanArray:function(t,e){F(t,e);for(let r=0;r<t.length;r++)P(t[r],`${e}[${r}]`)},validateAbortSignalArray:function(t,e){F(t,e);for(let r=0;r<t.length;r++){const i=t[r],n=`${e}[${r}]`;if(null==i)throw new m(n,"AbortSignal",i);B(i,n)}},validateBoolean:P,validateBuffer:M,validateDictionary:L,validateEncoding:function(t,e){const r=I(e),i=t.length;if("hex"===r&&i%2!=0)throw new v("encoding",e,`is invalid for data of length ${i}`)},validateFunction:$,validateInt32:O,validateInteger:A,validateNumber:function(t,e,r=void 0,i){if("number"!=typeof t)throw new m(e,"number",t);if(null!=r&&t<r||null!=i&&t>i||(null!=r||null!=i)&&c(t))throw new w(e,`${null!=r?`>= ${r}`:""}${null!=r&&null!=i?" && ":""}${null!=i?`<= ${i}`:""}`,t)},validateObject:k,validateOneOf:D,validatePlainFunction:V,validatePort:function(t,e="Port",r=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===_(t).length||+t!=+t>>>0||t>65535||0===t&&!r)throw new y(e,t,r);return 0|t},validateSignalName:function(t,e="signal"){if(C(t,e),void 0===T[t]){if(void 0!==T[g(t)])throw new x(t+" (signals must use all capital letters)");throw new x(t)}},validateString:C,validateUint32:N,validateUndefined:U,validateUnion:function(t,e,r){if(!n(r,t))throw new m(e,`('${s(r,"|")}')`,t)},validateAbortSignal:B,validateLinkHeaderValue:function(t){if("string"==typeof t)return H(t,"hints"),t;if(i(t)){const e=t.length;let r="";if(0===e)return r;for(let i=0;i<e;i++){const n=t[i];H(n,"hints"),r+=n,i!==e-1&&(r+=", ")}return r}throw new v("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},9198:(t,e,r)=>{"use strict";const i=r(5506),n=r(3095),s=i.Readable.destroy;t.exports=i.Readable,t.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,t.exports._isUint8Array=i._isUint8Array,t.exports.isDisturbed=i.isDisturbed,t.exports.isErrored=i.isErrored,t.exports.isReadable=i.isReadable,t.exports.Readable=i.Readable,t.exports.Writable=i.Writable,t.exports.Duplex=i.Duplex,t.exports.Transform=i.Transform,t.exports.PassThrough=i.PassThrough,t.exports.addAbortSignal=i.addAbortSignal,t.exports.finished=i.finished,t.exports.destroy=i.destroy,t.exports.destroy=s,t.exports.pipeline=i.pipeline,t.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get:()=>n}),t.exports.Stream=i.Stream,t.exports.default=t.exports},6371:(t,e,r)=>{"use strict";const{format:i,inspect:n,AggregateError:s}=r(7760),o=globalThis.AggregateError||s,a=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,l={};function h(t,e){if(!t)throw new l.ERR_INTERNAL_ASSERTION(e)}function d(t){let e="",r=t.length;const i="-"===t[0]?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function f(t,e,r){r||(r=Error);class n extends r{constructor(...r){super(function(t,e,r){if("function"==typeof e)return h(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const n=(e.match(/%[dfijoOs]/g)||[]).length;return h(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),0===r.length?e:i(e,...r)}(t,e,r))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[a]=!0,l[t]=n}function p(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class g extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new l.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",((t,e,r)=>{h("string"==typeof t,"'name' must be a string"),Array.isArray(e)||(e=[e]);let i="The ";t.endsWith(" argument")?i+=`${t} `:i+=`"${t}" ${t.includes(".")?"property":"argument"} `,i+="must be ";const s=[],o=[],a=[];for(const n of e)h("string"==typeof n,"All expected entries have to be of type string"),c.includes(n)?s.push(n.toLowerCase()):u.test(n)?o.push(n):(h("object"!==n,'The value "object" should be written as "Object"'),a.push(n));if(o.length>0){const t=s.indexOf("object");-1!==t&&(s.splice(s,t,1),o.push("Object"))}if(s.length>0){switch(s.length){case 1:i+=`of type ${s[0]}`;break;case 2:i+=`one of type ${s[0]} or ${s[1]}`;break;default:{const t=s.pop();i+=`one of type ${s.join(", ")}, or ${t}`}}(o.length>0||a.length>0)&&(i+=" or ")}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const t=o.pop();i+=`an instance of ${o.join(", ")}, or ${t}`}}a.length>0&&(i+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(i+="an "),i+=`${a[0]}`;break;case 2:i+=`one of ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();i+=`one of ${a.join(", ")}, or ${t}`}}if(null==r)i+=`. Received ${r}`;else if("function"==typeof r&&r.name)i+=`. Received function ${r.name}`;else if("object"==typeof r){var l;if(null!==(l=r.constructor)&&void 0!==l&&l.name)i+=`. Received an instance of ${r.constructor.name}`;else{i+=`. Received ${n(r,{depth:-1})}`}}else{let t=n(r,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),i+=`. Received type ${typeof r} (${t})`}return i}),TypeError),f("ERR_INVALID_ARG_VALUE",((t,e,r="is invalid")=>{let i=n(e);i.length>128&&(i=i.slice(0,128)+"...");return`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${i}`}),TypeError),f("ERR_INVALID_RETURN_VALUE",((t,e,r)=>{var i;return`Expected ${t} to be returned from the "${e}" function but got ${null!=r&&null!==(i=r.constructor)&&void 0!==i&&i.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),f("ERR_MISSING_ARGS",((...t)=>{let e;h(t.length>0,"At least one arg needs to be specified");const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}}return`${e} must be specified`}),TypeError),f("ERR_OUT_OF_RANGE",((t,e,r)=>{let i;return h(e,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?i=d(String(r)):"bigint"==typeof r?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=d(i)),i+="n"):i=n(r),`The value of "${t}" is out of range. It must be ${e}. Received ${i}`}),RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:g,aggregateTwoErrors:p((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new o([e,t],e.message);return r.code=e.code,r}return t||e})),hideStackFrames:p,codes:l}},4134:t=>{"use strict";t.exports={ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,r)=>t.slice(e,r),Error,FunctionPrototypeCall:(t,e,...r)=>t.call(e,...r),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,r)=>Object.defineProperty(t,e,r),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,r)=>t.then(e,r),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String,StringPrototypeSlice:(t,e,r)=>t.slice(e,r),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,e,r)=>t.set(e,r),Boolean,Uint8Array}},7760:(t,e,r)=>{"use strict";const i=r(8287),{kResistStopPropagation:n,SymbolDispose:s}=r(4134),o=globalThis.AbortSignal||r(5568).AbortSignal,a=globalThis.AbortController||r(5568).AbortController,c=Object.getPrototypeOf((async function(){})).constructor,u=globalThis.Blob||i.Blob,l=void 0!==u?function(t){return t instanceof u}:function(t){return!1},h=(t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)};class d extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let r=0;r<t.length;r++)e+=`    ${t[r].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}t.exports={AggregateError:d,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((r,i)=>{t=r,e=i})),resolve:t,reject:e}},promisify:t=>new Promise(((e,r)=>{t(((t,...i)=>t?r(t):e(...i)))})),debuglog:()=>function(){},format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,r]){const i=e.shift();if("f"===r)return i.toFixed(6);if("j"===r)return JSON.stringify(i);if("s"===r&&"object"==typeof i){return`${i.constructor!==Object?i.constructor.name:""} {}`.trim()}return i.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction:t=>t instanceof c,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:l,deprecate:(t,e)=>t,addAbortListener:r(7007).addAbortListener||function(t,e){if(void 0===t)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);let r;return h(t,"signal"),((t,e)=>{if("function"!=typeof t)throw new ERR_INVALID_ARG_TYPE(e,"Function",t)})(e,"listener"),t.aborted?queueMicrotask((()=>e())):(t.addEventListener("abort",e,{__proto__:null,once:!0,[n]:!0}),r=()=>{t.removeEventListener("abort",e)}),{__proto__:null,[s](){var t;null===(t=r)||void 0===t||t()}}},AbortSignalAny:o.any||function(t){if(1===t.length)return t[0];const e=new a,r=()=>e.abort();return t.forEach((t=>{h(t,"signals"),t.addEventListener("abort",r,{once:!0})})),e.signal.addEventListener("abort",(()=>{t.forEach((t=>t.removeEventListener("abort",r)))}),{once:!0}),e.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},5506:(t,e,r)=>{const{Buffer:i}=r(8287),{ObjectDefineProperty:n,ObjectKeys:s,ReflectApply:o}=r(4134),{promisify:{custom:a}}=r(7760),{streamReturningOperators:c,promiseReturningOperators:u}=r(823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=r(6371),h=r(7830),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:f}=r(5291),{pipeline:p}=r(7758),{destroyer:g}=r(5896),_=r(6238),b=r(3095),y=r(6115),m=t.exports=r(4259).Stream;m.isDestroyed=y.isDestroyed,m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.isWritable=y.isWritable,m.Readable=r(7576);for(const x of s(c)){const I=c[x];function v(...t){if(new.target)throw l();return m.Readable.from(o(I,this,t))}n(v,"name",{__proto__:null,value:I.name}),n(v,"length",{__proto__:null,value:I.length}),n(m.Readable.prototype,x,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const E of s(u)){const S=u[E];function v(...t){if(new.target)throw l();return o(S,this,t)}n(v,"name",{__proto__:null,value:S.name}),n(v,"length",{__proto__:null,value:S.length}),n(m.Readable.prototype,E,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}m.Writable=r(8584),m.Duplex=r(3370),m.Transform=r(7382),m.PassThrough=r(6524),m.pipeline=p;const{addAbortSignal:w}=r(4147);m.addAbortSignal=w,m.finished=_,m.destroy=g,m.compose=h,m.setDefaultHighWaterMark=d,m.getDefaultHighWaterMark=f,n(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),n(p,a,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),n(_,a,{__proto__:null,enumerable:!0,get:()=>b.finished}),m.Stream=m,m._isUint8Array=function(t){return t instanceof Uint8Array},m._uint8ArrayToBuffer=function(t){return i.from(t.buffer,t.byteOffset,t.byteLength)}},3095:(t,e,r)=>{"use strict";const{ArrayPrototypePop:i,Promise:n}=r(4134),{isIterable:s,isNodeStream:o,isWebStream:a}=r(6115),{pipelineImpl:c}=r(7758),{finished:u}=r(6238);r(5506),t.exports={finished:u,pipeline:function(...t){return new n(((e,r)=>{let n,u;const l=t[t.length-1];if(l&&"object"==typeof l&&!o(l)&&!s(l)&&!a(l)){const e=i(t);n=e.signal,u=e.end}c(t,((t,i)=>{t?r(t):e(i)}),{signal:n,end:u})}))}}},742:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(4806),e)},4806:(t,e)=>{"use strict";function r(t){const e=[];let r=0;for(;r<t.length;)switch(t[r]){case"/":if("."===t[r+1])if("."===t[r+2]){if(!n(t[r+3])){e.push([]),r++;break}e.pop(),t[r+3]||e.push([]),r+=3}else{if(!n(t[r+2])){e.push([]),r++;break}t[r+2]||e.push([]),r+=2}else e.push([]),r++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(r)),r=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[r]),r++}return"/"+e.map((t=>t.join(""))).join("/")}function i(t,e){let i=e+1;e>=0?"/"===t[e+1]&&"/"===t[e+2]&&(i=e+3):"/"===t[0]&&"/"===t[1]&&(i=2);const n=t.indexOf("/",i);if(n<0)return t;return t.substr(0,n)+r(t.substr(n))}function n(t){return!t||"#"===t||"?"===t||"/"===t}Object.defineProperty(e,"__esModule",{value:!0}),e.removeDotSegmentsOfPath=e.removeDotSegments=e.resolve=void 0,e.resolve=function(t,e){const n=(e=e||"").indexOf("#");if(n>0&&(e=e.substr(0,n)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){const r=e.indexOf("?");return r>0&&(e=e.substr(0,r)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){const e=t.indexOf(":");if(e<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return i(t,e)}const s=t.indexOf(":");if(s>=0)return i(t,s);const o=e.indexOf(":");if(o<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);const a=e.substr(0,o+1);if(0===t.indexOf("//"))return a+i(t,s);let c;if(e.indexOf("//",o)===o+1){if(c=e.indexOf("/",o+3),c<0)return e.length>o+3?e+"/"+i(t,s):a+i(t,s)}else if(c=e.indexOf("/",o+1),c<0)return a+i(t,s);if(0===t.indexOf("/"))return e.substr(0,c)+r(t);let u=e.substr(c);const l=u.lastIndexOf("/");return l>=0&&l<u.length-1&&(u=u.substr(0,l+1),"."===t[0]&&"."!==t[1]&&"/"!==t[1]&&t[2]&&(t=t.substr(1))),t=r(t=u+t),e.substr(0,c)+t},e.removeDotSegments=r,e.removeDotSegmentsOfPath=i},2861:(t,e,r)=>{var i=r(8287),n=i.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(s(i,e),e.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},5148:t=>{var e=function(){var t=function(t,e,r,i){for(r=r||{},i=t.length;i--;r[t[i]]=e);return r},e=[7,12,13,14,15,16,20,25,115,130],r=[7,13,16,20,25,115,130],i=[7,13,16,115,130],n=[1,25],s=[1,29],o=[1,27],a=[1,28],c=[13,16,115,130],u=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],l=[28,56],h=[1,42],d=[46,48,53,56],f=[1,54],p=[1,60],g=[1,56],_=[1,57],b=[1,58],y=[1,63],m=[1,64],v=[1,65],w=[1,66],x=[1,67],I=[1,68],E=[1,75],S=[28,46,48,53,56],T=[28,42,46,48,53,56],R=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],A=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],O=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],N=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],C=[13,16,28,56,115,130],D=[13,16,38,58,87,96,109,115,126,130],P=[1,116],j=[1,112],k=[1,108],L=[1,114],F=[1,111],M=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],B=[48,53],$=[48,53,87,96,126],V=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],U=[1,126],q=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],H=[1,129],G=[48,53,67,87,96,126],z=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],K=[1,133],W=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],Q=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],J=[1,151],X=[1,153],Y=[1,156],Z=[1,157],tt=[1,158],et=[1,167],rt=[1,175],it=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],nt=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],st=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],ot={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(t,e,r,i,n,s,o){var a,c,u=s.length-1;switch(n){case 1:this.$=At(Dt.factory.namedNode(xt("")),Dt.factory.namedNode(ct),Dt.factory.namedNode(yt+"Ontology"));break;case 5:Dt.base=Dt.factory.namedNode(s[u].slice(1,-1)),Dt.n3Parser._setBase(Dt.base.value);break;case 6:this.$=At(Dt.base,Dt.factory.namedNode(yt+"imports"),Dt.factory.namedNode(s[u].slice(1,-1)));break;case 7:this.$=Dt.prefixes[s[u-1].substr(0,s[u-1].length-1)]=xt(s[u]);break;case 8:Dt.nodeShapeStack=!1,At(Dt.currentNodeShape=s[u],Dt.factory.namedNode(ct),Dt.factory.namedNode(bt+"NodeShape"));break;case 10:this.$=At(Dt.currentNodeShape,Dt.factory.namedNode(ct),Dt.factory.namedNode(mt+"Class"));break;case 11:this.$=Nt();break;case 13:this.$=s[u].forEach((t=>At(Dt.currentNodeShape,s[u-1],t)));break;case 14:this.$=[s[u-1],...s[u]];break;case 18:this.$=wt(s[u-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=s[u];break;case 20:Dt.tempCurrentNodeShape=Dt.currentNodeShape,this.$=Dt.currentNodeShape=St();break;case 21:case 24:Dt.currentNodeShape=Dt.tempCurrentNodeShape;break;case 22:case 31:this.$=s[u-2];break;case 23:Dt.tempCurrentNodeShape=Dt.currentNodeShape,Dt.currentNodeShape=Dt.currentPropertyNode;break;case 26:Dt.currentNodeShape=s[u];break;case 29:Dt.nodeShapeStack?(Dt.nodeShapeStack.push(Dt.currentNodeShape),At(Dt.currentPropertyNode,Dt.factory.namedNode(bt+"node"),Dt.currentNodeShape=St())):Dt.nodeShapeStack=[],this.$=Dt.currentNodeShape;break;case 30:Dt.nodeShapeStack.length>0&&(Dt.currentNodeShape=Dt.nodeShapeStack.pop());break;case 32:this.$=s[u].forEach((t=>{At(Dt.currentNodeShape,Dt.factory.namedNode(bt+"targetClass"),t)}));break;case 35:this.$=At(Dt.currentNodeShape,Dt.factory.namedNode(bt+s[u][0]),s[u][1]);break;case 36:break;case 37:const t=wt([s[u-1],...s[u]].map((t=>{const e=St();return At(e,Dt.factory.namedNode(bt+t[0]),t[1]),e})));this.$=["or",t];break;case 39:case 46:this.$=function(t,e,r){const i=St();return At(i,Dt.factory.namedNode(bt+e),r),[t,i]}("not",...s[u]);break;case 40:case 50:this.$=[s[u-2],s[u]];break;case 43:this.$=s[u]&&Ot(...s[u]);break;case 44:this.$=Ot("or",wt([s[u-1],...s[u]].map((t=>{const e=St();return At(e,Dt.factory.namedNode(bt+t[0]),t[1]),e}))));break;case 47:this.$=[vt[s[u].value]?"datatype":"class",s[u]];break;case 48:this.$=["nodeKind",Dt.factory.namedNode(bt+s[u])];break;case 49:this.$=["node",Dt.factory.namedNode(s[u])];break;case 51:this.$=void 0;break;case 53:this.$=s[u]>0&&Ot("minCount",Et(s[u],ft));break;case 54:this.$=Ot("maxCount",Et(s[u],ft));break;case 56:this.$=It(s[u].slice(1));break;case 57:this.$=xt(s[u]);break;case 59:At(Dt.currentNodeShape,Dt.factory.namedNode(bt+"property"),Dt.currentPropertyNode=St()),Ot("path",s[u]);break;case 62:const e=St();At(e,Dt.factory.namedNode(bt+"alternativePath"),wt([s[u-1],...s[u]])),this.$=e;break;case 65:this.$=wt([s[u-1],...s[u]]);break;case 67:At(this.$=St(),Dt.factory.namedNode(bt+s[u]),s[u-1]);break;case 69:At(this.$=St(),Dt.factory.namedNode(bt+"inversePath"),s[u]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=s[u-1];break;case 77:this.$=wt(s[u-1]);break;case 80:this.$=Dt.factory.namedNode(xt(s[u]));break;case 81:this.$=Dt.factory.namedNode(It(s[u]));break;case 82:this.$=Nt(Dt.factory.namedNode(ct));break;case 83:this.$=Et(s[u]);break;case 84:this.$=(a=s[u-1],c=lowercase(s[u].substr(1)),Dt.factory.literal(a,c));break;case 85:this.$=Et(s[u-2],s[u]);break;case 86:this.$=Et(s[u],ft);break;case 87:this.$=Et(s[u],pt);break;case 88:this.$=Et(s[u].toLowerCase(),gt);break;case 89:this.$=Et(s[u].toLowerCase(),_t);break;case 90:this.$=Rt(s[u],1);break;case 91:this.$=Rt(s[u],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:s[u-1].push(s[u]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[s[u]]}},table:[t(e,[2,92],{3:1,4:2}),{1:[3]},t(r,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(i,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(e,[2,93]),t(e,[2,2]),t(e,[2,3]),t(e,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(r,[2,97]),{7:[2,28],13:n,16:s,18:24,51:23,52:22,114:26,115:o,130:a},t(r,[2,94]),t(r,[2,95]),{13:n,16:s,17:30,18:31,114:26,115:o,130:a},{13:n,16:s,17:32,18:31,114:26,115:o,130:a},t(e,[2,5]),t(e,[2,6]),{13:[1,33]},{1:[2,1]},t(i,[2,111]),{13:n,16:s,18:36,29:34,30:35,114:26,115:o,130:a},t(c,[2,26]),t(u,[2,80]),t(u,[2,81]),t(u,[2,82]),t(u,[2,140]),t(u,[2,141]),t(l,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:h,56:[2,102]},t(e,[2,7]),{53:[1,43]},t(d,[2,104],{31:44,27:45,28:h}),{13:n,16:s,18:51,32:46,33:47,35:48,36:49,37:50,38:f,43:53,44:p,92:g,113:52,114:26,115:o,116:55,119:_,120:b,121:59,122:61,123:62,130:a,131:y,132:m,133:v,134:w,135:x,136:I},{22:69,27:70,28:h,56:[2,100]},t(l,[2,99]),{13:n,16:s,18:72,62:71,114:26,115:o,130:a},{23:73,55:74,56:E},{56:[2,103]},{13:n,16:s,18:36,29:76,30:35,114:26,115:o,130:a},t(i,[2,27]),t(d,[2,12]),t(d,[2,105]),t(S,[2,13]),t(T,[2,106],{34:77}),t(R,[2,15]),t(R,[2,16]),t(R,[2,17]),t(A,[2,78]),t(A,[2,79]),{13:n,16:s,18:36,29:78,30:35,114:26,115:o,130:a},t(O,[2,108],{39:79}),t(A,[2,83],{117:[1,80],118:[1,81]}),t(A,[2,86]),t(A,[2,87]),t(A,[2,88]),t(A,[2,89]),t(c,[2,20]),t(N,[2,90]),t(N,[2,91]),t(A,[2,142]),t(A,[2,143]),t(N,[2,144]),t(N,[2,145]),t(N,[2,146]),t(N,[2,147]),{23:82,55:74,56:E},{56:[2,101]},t(l,[2,32],{114:26,18:83,13:n,16:s,115:o,130:a}),t(C,[2,114]),t(r,[2,10]),t(D,[2,112],{59:84}),t(D,[2,29]),t(d,[2,11]),t(S,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:n,16:s,18:51,33:90,35:48,36:49,37:50,38:f,40:[1,89],43:53,44:p,92:g,113:52,114:26,115:o,116:55,119:_,120:b,121:59,122:61,123:62,130:a,131:y,132:m,133:v,134:w,135:x,136:I},t(A,[2,84]),{13:n,16:s,18:91,114:26,115:o,130:a},t(r,[2,9]),t(C,[2,115]),{13:n,16:s,18:115,38:P,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:j,96:k,97:101,99:103,103:106,105:109,106:113,108:110,109:L,114:26,115:o,125:96,126:F,130:a},t(T,[2,107]),{13:n,16:s,18:51,33:117,35:48,36:49,37:50,38:f,43:53,44:p,92:g,113:52,114:26,115:o,116:55,119:_,120:b,121:59,122:61,123:62,130:a,131:y,132:m,133:v,134:w,135:x,136:I},t(R,[2,22]),t(R,[2,21]),t(R,[2,18]),t(O,[2,109]),t(A,[2,85]),t(M,[2,31]),t(D,[2,113]),t(M,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(B,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:j,96:k,126:F}),t(B,[2,119]),t($,[2,116]),t(V,[2,128],{79:123}),t($,[2,35]),t(V,[2,59]),t($,[2,36],{71:124,66:125,67:U}),t(q,[2,61],{100:127,98:128,67:H}),t(G,[2,38]),{72:130,74:107,87:j,126:F},t(z,[2,64],{104:131,101:132,102:K}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(W,[2,68]),{13:n,16:s,18:115,38:P,105:135,106:113,114:26,115:o,130:a},{75:[2,124]},{75:[2,125]},t(W,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(Q,[2,74]),{13:n,16:s,18:115,38:P,97:140,99:103,103:106,105:109,106:113,108:110,109:L,114:26,115:o,130:a},t(T,[2,19]),{53:[1,141]},{53:[2,121]},{13:n,16:s,18:36,29:142,30:35,114:26,115:o,130:a},t(c,[2,23]),t($,[2,117]),t(B,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:n,16:s,44:[1,146],56:E,85:J,87:X,95:Y,96:k,115:o,128:Z,129:tt,130:a}),t($,[2,37],{66:159,67:U}),t(G,[2,122]),{68:160,72:104,73:105,74:107,87:j,96:k,126:F},t(q,[2,62],{98:161,67:H}),t(z,[2,134]),{13:n,16:s,18:115,38:P,99:162,103:106,105:109,106:113,108:110,109:L,114:26,115:o,130:a},t(G,[2,39]),t(z,[2,65],{101:163,102:K}),t(W,[2,136]),{13:n,16:s,18:115,38:P,103:164,105:109,106:113,108:110,109:L,114:26,115:o,130:a},{13:n,16:s,18:51,35:166,44:et,76:165,92:g,113:52,114:26,115:o,116:55,119:_,120:b,121:59,122:61,123:62,130:a,131:y,132:m,133:v,134:w,135:x,136:I},t(W,[2,69]),t(W,[2,67]),t(W,[2,71]),t(W,[2,72]),t(W,[2,73]),{40:[1,168]},t(D,[2,33]),{48:[1,170],49:169},t(V,[2,129]),t(V,[2,126]),t(V,[2,127]),{89:171,92:[1,172]},t(V,[2,43],{83:173,80:174,67:rt}),t(it,[2,45]),{13:n,16:s,18:150,23:154,55:74,56:E,84:176,85:J,86:152,87:X,94:155,95:Y,114:26,115:o,128:Z,129:tt,130:a},t(it,[2,47]),t(it,[2,48]),t(it,[2,49]),{75:[1,177]},t(it,[2,51]),t(it,[2,56]),{13:[1,178]},t(it,[2,132]),t(it,[2,133]),t(G,[2,123]),t(G,[2,34]),t(z,[2,135]),t(z,[2,60]),t(W,[2,137]),t(W,[2,63]),t(G,[2,40]),t(nt,[2,76]),t(st,[2,138],{112:179}),t(Q,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(V,[2,44],{80:181,67:rt}),t(it,[2,130]),{13:n,16:s,18:150,23:154,55:74,56:E,73:149,81:182,84:148,85:J,86:152,87:X,94:155,95:Y,96:k,114:26,115:o,128:Z,129:tt,130:a},t(it,[2,46]),{13:n,16:s,18:51,35:166,44:et,76:183,92:g,113:52,114:26,115:o,116:55,119:_,120:b,121:59,122:61,123:62,130:a,131:y,132:m,133:v,134:w,135:x,136:I},t(it,[2,57]),{13:n,16:s,18:51,35:185,46:[1,184],92:g,113:52,114:26,115:o,116:55,119:_,120:b,121:59,122:61,123:62,130:a,131:y,132:m,133:v,134:w,135:x,136:I},{91:186,92:[1,187],93:[1,188]},t(it,[2,131]),t(it,[2,42]),t(it,[2,50]),t(nt,[2,77]),t(st,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(V,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(t,e){if(!e.recoverable){var r=new Error(t);throw r.hash=e,r}this.trace(t)},parse:function(t){var e=this,r=[0],i=[null],n=[],s=this.table,o="",a=0,c=0,u=0,l=n.slice.call(arguments,1),h=Object.create(this.lexer),d={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(d.yy[f]=this.yy[f]);h.setInput(t,d.yy),d.yy.lexer=h,d.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var p=h.yylloc;n.push(p);var g=h.options&&h.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _,b,y,m,v,w,x,I,E,S=function(){var t;return"number"!=typeof(t=h.lex()||1)&&(t=e.symbols_[t]||t),t},T={};;){if(y=r[r.length-1],this.defaultActions[y]?m=this.defaultActions[y]:(null==_&&(_=S()),m=s[y]&&s[y][_]),void 0===m||!m.length||!m[0]){var R="";for(w in E=[],s[y])this.terminals_[w]&&w>2&&E.push("'"+this.terminals_[w]+"'");R=h.showPosition?"Parse error on line "+(a+1)+":\n"+h.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==_?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(R,{text:h.match,token:this.terminals_[_]||_,line:h.yylineno,loc:p,expected:E})}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+_);switch(m[0]){case 1:r.push(_),i.push(h.yytext),n.push(h.yylloc),r.push(m[1]),_=null,b?(_=b,b=null):(c=h.yyleng,o=h.yytext,a=h.yylineno,p=h.yylloc,u>0&&u--);break;case 2:if(x=this.productions_[m[1]][1],T.$=i[i.length-x],T._$={first_line:n[n.length-(x||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(x||1)].first_column,last_column:n[n.length-1].last_column},g&&(T._$.range=[n[n.length-(x||1)].range[0],n[n.length-1].range[1]]),void 0!==(v=this.performAction.apply(T,[o,c,a,d.yy,m[1],i,n].concat(l))))return v;x&&(r=r.slice(0,-1*x*2),i=i.slice(0,-1*x),n=n.slice(0,-1*x)),r.push(this.productions_[m[1]][0]),i.push(T.$),n.push(T._$),I=s[r[r.length-2]][r[r.length-1]],r.push(I);break;case 3:return!0}}return!0}};const at="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ct=at+"type",ut=at+"first",lt=at+"rest",ht=at+"nil",dt="http://www.w3.org/2001/XMLSchema#",ft=dt+"integer",pt=dt+"decimal",gt=dt+"double",_t=dt+"boolean",bt="http://www.w3.org/ns/shacl#",yt="http://www.w3.org/2002/07/owl#",mt="http://www.w3.org/2000/01/rdf-schema#",vt={[ft]:!0,[pt]:!0,[dt+"float"]:!0,[gt]:!0,[dt+"string"]:!0,[_t]:!0,[dt+"dateTime"]:!0,[dt+"nonPositiveInteger"]:!0,[dt+"negativeInteger"]:!0,[dt+"long"]:!0,[dt+"int"]:!0,[dt+"short"]:!0,[dt+"byte"]:!0,[dt+"nonNegativeInteger"]:!0,[dt+"unsignedLong"]:!0,[dt+"unsignedShort"]:!0,[dt+"unsignedByte"]:!0,[dt+"positiveInteger"]:!0,[at+"langString"]:!0};function wt(t,e=!1){let r=0,i=t.length;if(e&&0===i)return Dt.factory.namedNode(ht);const n=head=St();return 0===i&&At(head,Dt.factory.namedNode(lt),Dt.factory.namedNode(ht)),t.forEach((t=>{if(void 0===t)throw new Error("b");At(head,Dt.factory.namedNode(ut),t),At(head,Dt.factory.namedNode(lt),head=++r<i?St():Dt.factory.namedNode(ht))})),n}function xt(t){return Dt.n3Parser._resolveIRI("<"===t[0]?t.substring(1,t.length-1):t)}function It(t){const e=t.indexOf(":"),r=t.substr(0,e),i=Dt.prefixes[r];if(!i)throw new Error("Unknown prefix: "+r);return xt(i+t.substr(e+1))}function Et(t,e){return e&&"NamedNode"!==e.termType&&(e=Dt.factory.namedNode(e)),Dt.factory.literal(t,e)}function St(t){return"string"==typeof t?t.startsWith("e_")?Dt.factory.blankNode(t):Dt.factory.blankNode("e_"+t):Dt.factory.blankNode("g_"+Tt++)}var Tt=0;Dt._resetBlanks=function(){Tt=0};String.fromCharCode;function Rt(t,e){return Dt.n3Parser._lexer._unescape(t.substring(e,t.length-e))}function At(t,e,r){if(!t.termType||!e.termType||e.value.includes(",")||!r.termType)throw new Error(`boo ${t.value} ${e.value} ${r.value}`);Dt.onQuad(Dt.factory.quad(t,e,r))}function Ot(t,e){At(Dt.currentPropertyNode,Dt.factory.namedNode(bt+t),e)}function Nt(t){if(!Dt.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return t}var Ct=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===i.length?this.yylloc.first_column:0)+i[i.length-r.length].length-r[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var r,i,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],r=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var s in n)this[s]=n[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),s=0;s<n.length;s++)if((r=this._input.match(this.rules[n[s]]))&&(!e||r[0].length>e[0].length)){if(e=r,i=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(r,n[s])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,n[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(t,e,r,i){switch(r){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(e.yytext)}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return t}();function Dt(){this.yy={}}return ot.lexer=Ct,Dt.prototype=ot,ot.Parser=Dt,new Dt}();t.exports=e},7141:(t,e,r)=>{const i=r(5148).Parser,n=r(4366);class s{constructor(){}parse(t,{extendedSyntax:e,baseIRI:r}={}){this._parser=new i,this._parser.Parser.factory=n.DataFactory,this._parser.Parser.base=n.DataFactory.namedNode(r||"urn:x-base:default"),this._parser.Parser.extended=!0===e,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new n.Parser({baseIRI:r||"urn:x-base:default"});const s=[];return this._parser.Parser.onQuad=t=>{s.push(t)},this._parser.parse(t),s.prefixes=this._parser.Parser.prefixes,s}}t.exports.Parser=s,t.exports.parse=function(t,e){return(new s).parse(t,e)}},4366:(t,e,r)=>{"use strict";r.r(e),r.d(e,{BlankNode:()=>R,DataFactory:()=>I,DefaultGraph:()=>O,EntityIndex:()=>ft,Lexer:()=>b,Literal:()=>T,NamedNode:()=>S,Parser:()=>V,Quad:()=>D,Reasoner:()=>mt,Store:()=>pt,StoreFactory:()=>bt,StreamParser:()=>xt,StreamWriter:()=>It,Term:()=>E,Triple:()=>D,Util:()=>i,Variable:()=>A,Writer:()=>st,default:()=>Et,getRulesFromDataset:()=>yt,termFromId:()=>N,termToId:()=>C});var i={};r.r(i),r.d(i,{inDefaultGraph:()=>Q,isBlankNode:()=>G,isDefaultGraph:()=>W,isLiteral:()=>z,isNamedNode:()=>H,isVariable:()=>K,prefix:()=>J,prefixes:()=>X});var n=r(8287),s=r(9596),o=r.n(s);const a="http://www.w3.org/1999/02/22-rdf-syntax-ns#",c="http://www.w3.org/2001/XMLSchema#",u="http://www.w3.org/2000/10/swap/",l={xsd:{decimal:`${c}decimal`,boolean:`${c}boolean`,double:`${c}double`,integer:`${c}integer`,string:`${c}string`},rdf:{type:`${a}type`,nil:`${a}nil`,first:`${a}first`,rest:`${a}rest`,langString:`${a}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${u}reify#forSome`,forAll:`${u}reify#forAll`},log:{implies:`${u}log#implies`}},{xsd:h}=l,d=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,f={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},p=/[\x00-\x20<>\\"\{\}\|\^\`]/,g={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},_=/$0^/;class b{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const t in this)!(t in g)&&this[t]instanceof RegExp&&(this[t]=_)}else this._n3Mode=!1!==t.n3;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,e){let r=this._input,i=r.length;for(;;){let t,o;for(;t=this._newline.exec(r);)this.comments&&(o=this._comment.exec(t[0]))&&n("comment",o[1],"",this._line,t[0].length),r=r.substr(t[0].length,r.length),i=r.length,this._line++;if(!t&&(t=this._whitespace.exec(r))&&(r=r.substr(t[0].length,r.length)),this._endOfFile.test(r))return e&&(this.comments&&(o=this._comment.exec(r))&&n("comment",o[1],"",this._line,r.length),r=null,n("eof","","",this._line,0)),this._input=r;const a=this._line,c=r[0];let u="",l="",d="",f=null,g=0,_=!1;switch(c){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(g=1,u="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){_=!0;break}case"<":if(f=this._unescapedIri.exec(r))u="IRI",l=f[1];else if(f=this._iri.exec(r)){if(l=this._unescape(f[1]),null===l||p.test(l))return s(this);u="IRI"}else r.length>1&&"<"===r[1]?(u="<<",g=2):this._n3Mode&&r.length>1&&"="===r[1]&&(u="inverse",g=2,l=">");break;case">":r.length>1&&">"===r[1]&&(u=">>",g=2);break;case"_":((f=this._blank.exec(r))||e&&(f=this._blank.exec(`${r} `)))&&(u="blank",d="_",l=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(r))l=f[1];else if(({value:l,matchLength:g}=this._parseLiteral(r)),null===l)return s(this);null===f&&0===g||(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(r))l=f[1];else if(({value:l,matchLength:g}=this._parseLiteral(r)),null===l)return s(this);null===f&&0===g||(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(r))&&(u="var",l=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(r))?(u="langcode",l=f[1]):(f=this._keyword.exec(r))&&(u=f[0]);break;case".":if(1===r.length?e:r[1]<"0"||r[1]>"9"){u=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(r)||e&&(f=this._number.exec(`${r} `)))&&(u="literal",l=f[0],d="string"==typeof f[1]?h.double:"string"==typeof f[2]?h.decimal:h.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(r))?u=f[0].toUpperCase():_=!0;break;case"f":case"t":(f=this._boolean.exec(r))?(u="literal",l=f[0],d=h.boolean):_=!0;break;case"a":(f=this._shortPredicates.exec(r))?(u="abbreviation",l="a"):_=!0;break;case"=":this._n3Mode&&r.length>1&&(u="abbreviation",">"!==r[1]?(g=1,l="="):(g=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,u=c);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(u="{|",g=2):(u=c,g=1));break;case"|":r.length>=2&&"}"===r[1]&&(u="|}",g=2);break;default:_=!0}if(_&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(f=this._prefix.exec(r))?((f=this._prefixed.exec(r))||e&&(f=this._prefixed.exec(`${r} `)))&&(u="prefixed",d=f[1]||"",l=this._unescape(f[2])):(u="prefix",l=f[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const b=g||f[0].length,y=n(u,l,d,a,b);this.previousToken=y,this._previousMarker=u,r=r.substr(b,r.length)}function n(e,n,s,o,a){const c=r?i-r.length:i,u={type:e,value:n,prefix:s,line:o,start:c,end:c+a};return t(null,u),u}function s(e){t(e._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let e=!1;const r=t.replace(d,((t,r,i,n)=>{if("string"==typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"==typeof i){let t=Number.parseInt(i,16);return t<=65535?String.fromCharCode(Number.parseInt(i,16)):String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t))}return n in f?f[n]:(e=!0,"")}));return e?null:r}_parseLiteral(t){if(t.length>=3){const e=t.match(/^(?:"""|"|'''|'|)/)[0],r=e.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(e,i))>0;){let e=0;for(;"\\"===t[i-e-1];)e++;if(e%2==0){const e=t.substring(r,i),n=e.split(/\r\n|\r|\n/).length-1,s=i+r;if(1===r&&0!==n||3===r&&this._lineMode)break;return this._line+=n,{value:this._unescape(e),matchLength:s}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const e=new Error(`Unexpected "${t}" on line ${this._line}.`);return e.context={token:void 0,line:this._line,previousToken:this.previousToken},e}_readStartingBom(t){return t.startsWith("\ufeff")?t.substr(1):t}tokenize(t,e){if(this._line=1,"string"==typeof t){if(this._input=this._readStartingBom(t),"function"!=typeof e){const t=[];let e;if(this._tokenizeToEnd(((r,i)=>r?e=r:t.push(i)),!0),e)throw e;return t}o()((()=>this._tokenizeToEnd(e,!0)))}else this._pendingBuffer=null,"function"==typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",(t=>{null!==this._input&&0!==t.length&&(this._pendingBuffer&&(t=n.Buffer.concat([this._pendingBuffer,t]),this._pendingBuffer=null),128&t[t.length-1]?this._pendingBuffer=t:(void 0===this._input?this._input=this._readStartingBom("string"==typeof t?t:t.toString()):this._input+=t,this._tokenizeToEnd(e,!1)))})),t.on("end",(()=>{"string"==typeof this._input&&this._tokenizeToEnd(e,!0)})),t.on("error",e)}}const{rdf:y,xsd:m}=l;let v,w=0;const x={namedNode:P,blankNode:j,variable:L,literal:k,defaultGraph:function(){return v},quad:F,triple:F,fromTerm:M,fromQuad:B},I=x;class E{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof E?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class S extends E{get termType(){return"NamedNode"}}class T extends E{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let e=t.lastIndexOf('"')+1;return e<t.length&&"@"===t[e++]?t.substr(e).toLowerCase():""}get datatype(){return new S(this.datatypeString)}get datatypeString(){const t=this.id,e=t.lastIndexOf('"')+1,r=e<t.length?t[e]:"";return"^"===r?t.substr(e+2):"@"!==r?m.string:y.langString}equals(t){return t instanceof T?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class R extends E{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class A extends E{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class O extends E{constructor(){return super(""),v||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}}function N(t,e,r){if(e=e||x,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===x)return new T(t);if('"'===t[t.length-1])return e.literal(t.substr(1,t.length-2));const i=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,i-1),"@"===t[i+1]?t.substr(i+2):e.namedNode(t.substr(i+3)));case"[":t=JSON.parse(t);break;default:if(!r||!Array.isArray(t))return e.namedNode(t)}return e.quad(N(t[0],e,!0),N(t[1],e,!0),N(t[2],e,!0),t[3]&&N(t[3],e,!0))}function C(t,e){if("string"==typeof t)return t;if(t instanceof E&&"Quad"!==t.termType)return t.id;if(!t)return v.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==m.string?`^^${t.datatype.value}`:""}`;case"Quad":const r=[C(t.subject,!0),C(t.predicate,!0),C(t.object,!0)];return t.graph&&"DefaultGraph"!==t.graph.termType&&r.push(C(t.graph,!0)),e?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${t.termType}`)}}v=new O;class D extends E{constructor(t,e,r,i){super(""),this._subject=t,this._predicate=e,this._object=r,this._graph=i||v}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}}function P(t){return new S(t)}function j(t){return new R(t||"n3-"+w++)}function k(t,e){if("string"==typeof e)return new T(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return""===r&&("boolean"==typeof t?r=m.boolean:"number"==typeof t&&(Number.isFinite(t)?r=Number.isInteger(t)?m.integer:m.double:(r=m.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),""===r||r===m.string?new T(`"${t}"`):new T(`"${t}"^^${r}`)}function L(t){return new A(t)}function F(t,e,r,i){return new D(t,e,r,i)}function M(t){if(t instanceof E)return t;switch(t.termType){case"NamedNode":return P(t.value);case"BlankNode":return j(t.value);case"Variable":return L(t.value);case"DefaultGraph":return v;case"Literal":return k(t.value,t.language||t.datatype);case"Quad":return B(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function B(t){if(t instanceof D)return t;if("Quad"!==t.termType)throw new Error(`Unexpected termType: ${t.termType}`);return F(M(t.subject),M(t.predicate),M(t.object),M(t.graph))}let $=0;class V{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&q(this,t.factory);const e="string"==typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(e),i=/trig/.test(e),n=/triple/.test(e),s=/quad/.test(e),o=this._n3Mode=/n3/.test(e),a=n||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||n||o),this._supportsRDFStar=""===e||/star|\*$/.test(e),a&&(this._resolveRelativeIRI=t=>null),this._blankNodePrefix="string"!=typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new b({lineMode:a,n3:o}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){$=0}_setBase(t){if(t){const e=t.indexOf("#");e>=0&&(t=t.substr(0,e)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}else this._base="",this._basePath=""}_saveContext(t,e,r,i,n){const s=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:n,graph:e,inverse:!!s&&this._inversePredicate,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,e){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${e.type}`,e);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return null!==this._graph?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,e){let r;switch(t.type){case"IRI":case"typeIRI":const e=this._resolveIRI(t.value);if(null===e)return this._error("Invalid IRI",t);r=this._namedNode(e);break;case"type":case"prefixed":const i=this._prefixes[t.prefix];if(void 0===i)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(i+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!e&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(0===t.prefix.length)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._subject=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const e=t.type;switch(e){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${e}`,t):(this._subject=null,"]"===e?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if(void 0===(this._predicate=this._readEntity(t)))return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(0===t.prefix.length)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if(void 0===(this._object=this._readEntity(t)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return"{"===t.type?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return"{"!==t.type?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return"]"===t.type?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if("]"!==t.type)return this._readBlankNodePunctuation(t);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const e=null===this._predicate;return this._restoreContext("blank",t),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:e?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let e=null,r=null,i=this._readListItem;const n=this._subject,s=this._contextStack,o=s[s.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=e=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),0!==s.length&&"list"===s[s.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":0===t.prefix.length?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(e=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if(void 0===(e=this._readEntity(t)))return}if(null===r&&(this._subject=r=this._blankNode()),null===n?null===o.predicate?o.subject=r:o.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==e){if(this._n3Mode&&("IRI"===t.type||"prefixed"===t.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,e),this._subject=e,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,e,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let e=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(void 0===r)return;e=this._literal(this._literalValue,r),t=null;break;case"langcode":e=this._literal(this._literalValue,t.value),t=null}return{token:t,literal:e}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,e){const r=this._completeLiteral(t);if(r)return this._object=r.literal,e&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return"}"!==t.type?this._readPunctuation(t):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let e,r=this._graph;const i=this._subject,n=this._inversePredicate;switch(t.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,e=this._contextStack.length?this._readSubject:this._readInTopContext,n&&(this._inversePredicate=!1);break;case";":e=this._readPredicate;break;case",":e=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const s=this._predicate,o=this._object;this._subject=this._quad(i,s,o,this.DEFAULTGRAPH),e=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",t);this._subject=null,e=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(t))){e=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(null!==i){const t=this._predicate,e=this._object;n?this._emit(e,t,i,r):this._emit(i,t,e,r)}return e}_readBlankNodePunctuation(t){let e;switch(t.type){case";":e=this._readPredicate;break;case",":e=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),e}_readQuadPunctuation(t){return"."!==t.type?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return"prefix"!==t.type?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if("IRI"!==t.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const e=this._readEntity(t);return this._prefixes[this._prefix]=e.value,this._prefixCallback(this._prefix,e),this._readDeclarationPunctuation}_readBaseIRI(t){const e="IRI"===t.type&&this._resolveIRI(t.value);return e?(this._setBase(e),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return"]"!==t.type?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):"."!==t.type?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let e;switch(t.type){case"IRI":case"prefixed":if(void 0!==(e=this._readEntity(t,!0)))break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,e,this.QUANTIFIERS_GRAPH)):this._quantified[e.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return","===t.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const e=this._contextStack,r=e.length&&e[e.length-1];if(r&&"item"===r.type){const e=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,e,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let e,r;const i=this._blankNode();if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(e=this._subject,this._subject=i):(e=this._object,this._object=i),this._emit(e,r,i,this._graph),this._readPath}_readBackwardPath(t){const e=this._blankNode();let r,i;if(void 0!==(r=this._readEntity(t)))return null===this._predicate?(i=this._subject,this._subject=e):(i=this._object,this._object=e),this._emit(e,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return">>"!==t.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(t))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(">>"!==t.type)return this._error(`Expected >> but got ${t.type}`,t);const e=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),null===this._subject?(this._subject=e,this._readPredicate):(this._object=e,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,e,r,i){this._callback(null,this._quad(t,e,r,i||this.DEFAULTGRAPH))}_error(t,e){const r=new Error(`${t} on line ${e.line}.`);r.context={token:e,line:e.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=U}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const e=t.length;let r="",i=-1,n=-1,s=0,o="/";for(;i<e;){switch(o){case":":if(n<0&&"/"===t[++i]&&"/"===t[++i])for(;(n=i+1)<e&&"/"!==t[n];)i=n;break;case"?":case"#":i=e;break;case"/":if("."===t[i+1])switch(o=t[1+ ++i],o){case"/":r+=t.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+t.substring(s,i)+t.substr(i+1);case".":if(o=t[1+ ++i],void 0===o||"/"===o||"?"===o||"#"===o){if(r+=t.substring(s,i-2),(s=r.lastIndexOf("/"))>=n&&(r=r.substr(0,s)),"/"!==o)return`${r}/${t.substr(i+1)}`;s=i+1}}}o=t[++i]}return r+t.substring(s)}parse(t,e,r){let i,n,s;if(e&&(e.onQuad||e.onPrefix||e.onComment)?(i=e.onQuad,n=e.onPrefix,s=e.onComment):(i=e,n=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${$++}_`,this._prefixCallback=n||U,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const e=[];let r;if(this._callback=(t,i)=>{t?r=t:i&&e.push(i)},this._lexer.tokenize(t).every((t=>this._readCallback=this._readCallback(t))),r)throw r;return e}let o=(t,e)=>{null!==t?(this._callback(t),this._callback=U):this._readCallback&&(this._readCallback=this._readCallback(e))};s&&(this._lexer.comments=!0,o=(t,e)=>{null!==t?(this._callback(t),this._callback=U):this._readCallback&&("comment"===e.type?s(e.value):this._readCallback=this._readCallback(e))}),this._callback=i,this._lexer.tokenize(t,o)}}function U(){}function q(t,e){const r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(l.rdf.first),t.RDF_REST=r(l.rdf.rest),t.RDF_NIL=r(l.rdf.nil),t.N3_FORALL=r(l.r.forAll),t.N3_FORSOME=r(l.r.forSome),t.ABBREVIATIONS={a:r(l.rdf.type),"=":r(l.owl.sameAs),">":r(l.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}function H(t){return!!t&&"NamedNode"===t.termType}function G(t){return!!t&&"BlankNode"===t.termType}function z(t){return!!t&&"Literal"===t.termType}function K(t){return!!t&&"Variable"===t.termType}function W(t){return!!t&&"DefaultGraph"===t.termType}function Q(t){return W(t.graph)}function J(t,e){return X({"":t.value||t},e)("")}function X(t,e){const r=Object.create(null);for(const n in t)i(n,t[n]);function i(t,i){if("string"==typeof i){const n=Object.create(null);r[t]=t=>n[t]||(n[t]=e.namedNode(i+t))}else if(!(t in r))throw new Error(`Unknown prefix: ${t}`);return r[t]}return e=e||I,i}q(V.prototype,I);const Y=I.defaultGraph(),{rdf:Z,xsd:tt}=l,et=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,rt=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,it={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class nt extends E{equals(t){return t===this}}class st{constructor(t,e){if(this._prefixRegex=/$0^/,t&&"function"!=typeof t.write&&(e=t,t=null),e=e||{},this._lists=e.lists,t)this._outputStream=t,this._endStream=void 0===e.end||!!e.end;else{let t="";this._outputStream={write(e,r,i){t+=e,i&&i()},end:e=>{e&&e(null,t)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(e.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Y,this._prefixIRIs=Object.create(null),e.prefixes&&this.addPrefixes(e.prefixes),e.baseIRI&&(this._baseMatcher=new RegExp(`^${at(e.baseIRI)}${e.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=e.baseIRI.length))}get _inDefaultGraph(){return Y.equals(this._graph)}_write(t,e){this._outputStream.write(t,"utf8",e)}_writeQuad(t,e,r,i,n){try{i.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(Y.equals(i)?"":`${this._encodeIriOrBlank(i)} {\n`)),this._graph=i,this._subject=null),t.equals(this._subject)?e.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,n):this._write(`;\n    ${this._encodePredicate(this._predicate=e)} ${this._encodeObject(r)}`,n):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=e)} ${this._encodeObject(r)}`,n)}catch(s){n&&n(s)}}_writeQuadLine(t,e,r,i,n){delete this._prefixMatch,this._write(this.quadToString(t,e,r,i),n)}quadToString(t,e,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(e)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .\n`:" .\n"}`}quadsToString(t){let e="";for(const r of t)e+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return e}_encodeSubject(t){return"Quad"===t.termType?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if("NamedNode"!==t.termType)return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let e=t.value;this._baseMatcher&&this._baseMatcher.test(e)&&(e=e.substr(this._baseLength)),et.test(e)&&(e=e.replace(rt,ot));const r=this._prefixRegex.exec(e);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:e:`<${e}>`}_encodeLiteral(t){let e=t.value;if(et.test(e)&&(e=e.replace(rt,ot)),t.language)return`"${e}"@${t.language}`;if(this._lineMode){if(t.datatype.value===tt.string)return`"${e}"`}else switch(t.datatype.value){case tt.string:return`"${e}"`;case tt.boolean:if("true"===e||"false"===e)return e;break;case tt.integer:if(/^[+-]?\d+$/.test(e))return e;break;case tt.decimal:if(/^[+-]?\d*\.\d+$/.test(e))return e;break;case tt.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(e))return e}return`"${e}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===Z.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:e,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(e)} ${this._encodeObject(r)}${W(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,e,r,i,n){void 0===r?this._writeQuad(t.subject,t.predicate,t.object,t.graph,e):"function"==typeof i?this._writeQuad(t,e,r,Y,i):this._writeQuad(t,e,r,i||Y,n)}addQuads(t){for(let e=0;e<t.length;e++)this.addQuad(t[e])}addPrefix(t,e,r){const i={};i[t]=e,this.addPrefixes(i,r)}addPrefixes(t,e){if(!this._prefixIRIs)return e&&e();let r=!1;for(let i in t){let e=t[i];"string"!=typeof e&&(e=e.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[e]=i+=":",this._write(`@prefix ${i} <${e}>.\n`)}if(r){let t="",e="";for(const r in this._prefixIRIs)t+=t?`|${r}`:r,e+=(e?"|":"")+this._prefixIRIs[r];t=at(t),this._prefixRegex=new RegExp(`^(?:${e})[^/]*$|^(${t})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?"\n":"",e)}blank(t,e){let r,i,n=t;switch(void 0===t?n=[]:t.termType?n=[{predicate:t,object:e}]:"length"in t||(n=[t]),i=n.length){case 0:return new nt("[]");case 1:if(r=n[0],!(r.object instanceof nt))return new nt(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let e="[";for(let s=0;s<i;s++)r=n[s],r.predicate.equals(t)?e+=`, ${this._encodeObject(r.object)}`:(e+=`${(s?";\n  ":"\n  ")+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,t=r.predicate);return new nt(`${e}\n]`)}}list(t){const e=t&&t.length||0,r=new Array(e);for(let i=0;i<e;i++)r[i]=this._encodeObject(t[i]);return new nt(`(${r.join(" ")})`)}end(t){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let e=t&&((r,i)=>{e=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(e)}catch(r){}e&&e()}}function ot(t){let e=it[t];return void 0===e&&(1===t.length?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function at(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var ct=r(9198);const ut=Symbol("iter");function lt(t,e,r=4){if(0===r)return Object.assign(t,e);for(const i in e)t[i]=lt(t[i]||Object.create(null),e[i],r-1);return t}function ht(t,e,r=4){let i=!1;for(const n in t)if(n in e){const s=0===r?null:ht(t[n],e[n],r-1);if(!1!==s)i=i||Object.create(null),i[n]=s;else if(3===r)return!1}return i}function dt(t,e,r=4){let i=!1;for(const n in t)if(n in e){if(0!==r){const s=dt(t[n],e[n],r-1);if(!1!==s)i=i||Object.create(null),i[n]=s;else if(3===r)return!1}}else i=i||Object.create(null),i[n]=0===r?null:lt({},t[n],r-1);return i}class ft{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||I}_termFromId(t){if("."===t[0]){const e=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(e[r[1]]),this._termFromId(e[r[2]]),this._termFromId(e[r[3]]),r[4]&&this._termFromId(e[r[4]]))}return N(t,this._factory)}_termToNumericId(t){if("Quad"===t.termType){const e=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let n;return e&&r&&i&&(W(t.graph)||(n=this._termToNumericId(t.graph)))&&this._ids[n?`.${e}.${r}.${i}.${n}`:`.${e}.${r}.${i}`]}return this._ids[C(t)]}_termToNewNumericId(t){const e=t&&"Quad"===t.termType?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${W(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:C(t);return this._ids[e]||(this._ids[this._entities[++this._id]=e]=this._id)}createBlankNode(t){let e,r;if(t)for(e=t=`_:${t}`,r=1;this._ids[e];)e=t+r++;else do{e="_:b"+this._blankNodeIndex++}while(this._ids[e]);return this._ids[e]=++this._id,this._entities[this._id]=e,this._factory.blankNode(e.substr(2))}}class pt{constructor(t,e){this._size=0,this._graphs=Object.create(null),e||!t||t[0]||(e=t,t=null),e=e||{},this._factory=e.factory||I,this._entityIndex=e.entityIndex||new ft({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(null!==t)return t;t=0;const e=this._graphs;let r,i;for(const n in e)for(const s in r=e[n].subjects)for(const e in i=r[s])t+=Object.keys(i[e]).length;return this._size=t}_addToIndex(t,e,r,i){const n=t[e]||(t[e]={}),s=n[r]||(n[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(t,e,r,i){const n=t[e],s=n[r];delete s[i];for(const o in s)return;delete n[r];for(const o in n)return;delete t[e]}*_findInIndex(t,e,r,i,n,s,o,a){let c,u,l;const h=this._entities,d=this._termFromId(h[a]),f={subject:null,predicate:null,object:null};e&&((c=t,t={})[e]=c[e]);for(const p in t)if(u=t[p]){f[n]=this._termFromId(h[p]),r&&((c=u,u={})[r]=c[r]);for(const t in u)if(l=u[t]){f[s]=this._termFromId(h[t]);const e=i?i in l?[i]:[]:Object.keys(l);for(let t=0;t<e.length;t++)f[o]=this._termFromId(h[e[t]]),yield this._factory.quad(f.subject,f.predicate,f.object,d)}}}_loop(t,e){for(const r in t)e(r)}_loopByKey0(t,e,r){let i,n;if(i=t[e])for(n in i)r(n)}_loopByKey1(t,e,r){let i,n;for(i in t)n=t[i],n[e]&&r(i)}_loopBy2Keys(t,e,r,i){let n,s,o;if((n=t[e])&&(s=n[r]))for(o in s)i(o)}_countInIndex(t,e,r,i){let n,s,o,a=0;e&&((n=t,t={})[e]=n[e]);for(const c in t)if(s=t[c]){r&&((n=s,s={})[r]=n[r]);for(const t in s)(o=s[t])&&(i?i in o&&a++:a+=Object.keys(o).length)}return a}_getGraphs(t){return"number"!=typeof(t=""===t?1:t&&(this._termToNumericId(t)||-1))?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const e=Object.create(null);return r=>{r in e||(e[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,e,r,i){e||(i=t.graph,r=t.object,e=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let n=this._graphs[i];return n||(n=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(n)),t=this._termToNewNumericId(t),e=this._termToNewNumericId(e),r=this._termToNewNumericId(r),!!this._addToIndex(n.subjects,t,e,r)&&(this._addToIndex(n.predicates,e,r,t),this._addToIndex(n.objects,r,t,e),this._size=null,!0)}addQuads(t){for(let e=0;e<t.length;e++)this.addQuad(t[e])}delete(t){return this.removeQuad(t),this}has(t,e,r,i){return t&&t.subject&&({subject:t,predicate:e,object:r,graph:i}=t),!this.readQuads(t,e,r,i).next().done}import(t){return t.on("data",(t=>{this.addQuad(t)})),t}removeQuad(t,e,r,i){e||({subject:t,predicate:e,object:r,graph:i}=t),i=i?this._termToNumericId(i):1;const n=this._graphs;let s,o,a;if(!((t=t&&this._termToNumericId(t))&&(e=e&&this._termToNumericId(e))&&(r=r&&this._termToNumericId(r))&&(s=n[i])&&(o=s.subjects[t])&&(a=o[e])&&r in a))return!1;for(t in this._removeFromIndex(s.subjects,t,e,r),this._removeFromIndex(s.predicates,e,r,t),this._removeFromIndex(s.objects,r,t,e),null!==this._size&&this._size--,s.subjects)return!0;return delete n[i],!0}removeQuads(t){for(let e=0;e<t.length;e++)this.removeQuad(t[e])}remove(t){return t.on("data",(t=>{this.removeQuad(t)})),t}removeMatches(t,e,r,i){const n=new ct.Readable({objectMode:!0}),s=this.readQuads(t,e,r,i);return n._read=t=>{for(;--t>=0;){const{done:t,value:e}=s.next();if(t)return void n.push(null);n.push(e)}},this.remove(n)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,e,r,i){return[...this.readQuads(t,e,r,i)]}*readQuads(t,e,r,i){const n=this._getGraphs(i);let s,o,a,c;if(!(t&&!(o=this._termToNumericId(t))||e&&!(a=this._termToNumericId(e))||r&&!(c=this._termToNumericId(r))))for(const u in n)(s=n[u])&&(o?c?yield*this._findInIndex(s.objects,c,o,a,"object","subject","predicate",u):yield*this._findInIndex(s.subjects,o,a,null,"subject","predicate","object",u):a?yield*this._findInIndex(s.predicates,a,c,null,"predicate","object","subject",u):c?yield*this._findInIndex(s.objects,c,null,null,"object","subject","predicate",u):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",u))}match(t,e,r,i){return new _t(this,t,e,r,i,{entityIndex:this._entityIndex})}countQuads(t,e,r,i){const n=this._getGraphs(i);let s,o,a,c,u=0;if(t&&!(o=this._termToNumericId(t))||e&&!(a=this._termToNumericId(e))||r&&!(c=this._termToNumericId(r)))return 0;for(const l in n)(s=n[l])&&(u+=t?r?this._countInIndex(s.objects,c,o,a):this._countInIndex(s.subjects,o,a,c):e?this._countInIndex(s.predicates,a,c,o):this._countInIndex(s.objects,c,o,a));return u}forEach(t,e,r,i,n){this.some((e=>(t(e,this),!1)),e,r,i,n)}every(t,e,r,i,n){return!this.some((e=>!t(e,this)),e,r,i,n)}some(t,e,r,i,n){for(const s of this.readQuads(e,r,i,n))if(t(s))return!0;return!1}getSubjects(t,e,r){const i=[];return this.forSubjects((t=>{i.push(t)}),t,e,r),i}forSubjects(t,e,r,i){const n=this._getGraphs(i);let s,o,a;if(t=this._uniqueEntities(t),!(e&&!(o=this._termToNumericId(e))||r&&!(a=this._termToNumericId(r))))for(i in n)(s=n[i])&&(o?a?this._loopBy2Keys(s.predicates,o,a,t):this._loopByKey1(s.subjects,o,t):a?this._loopByKey0(s.objects,a,t):this._loop(s.subjects,t))}getPredicates(t,e,r){const i=[];return this.forPredicates((t=>{i.push(t)}),t,e,r),i}forPredicates(t,e,r,i){const n=this._getGraphs(i);let s,o,a;if(t=this._uniqueEntities(t),!(e&&!(o=this._termToNumericId(e))||r&&!(a=this._termToNumericId(r))))for(i in n)(s=n[i])&&(o?a?this._loopBy2Keys(s.objects,a,o,t):this._loopByKey0(s.subjects,o,t):a?this._loopByKey1(s.predicates,a,t):this._loop(s.predicates,t))}getObjects(t,e,r){const i=[];return this.forObjects((t=>{i.push(t)}),t,e,r),i}forObjects(t,e,r,i){const n=this._getGraphs(i);let s,o,a;if(t=this._uniqueEntities(t),!(e&&!(o=this._termToNumericId(e))||r&&!(a=this._termToNumericId(r))))for(i in n)(s=n[i])&&(o?a?this._loopBy2Keys(s.subjects,o,a,t):this._loopByKey1(s.objects,o,t):a?this._loopByKey0(s.predicates,a,t):this._loop(s.objects,t))}getGraphs(t,e,r){const i=[];return this.forGraphs((t=>{i.push(t)}),t,e,r),i}forGraphs(t,e,r,i){for(const n in this._graphs)this.some((e=>(t(e.graph),!0)),e,r,i,this._termFromId(this._entities[n]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:e=!1}={}){const r={},i=e?()=>!0:(t,e)=>{throw new Error(`${t.value} ${e}`)},n=this.getQuads(null,l.rdf.rest,l.rdf.nil,null),s=t?[...n]:[];return n.forEach((e=>{const n=[];let o,a,c=!1;const u=e.graph;let h=e.subject;for(;h&&!c;){const t=this.getQuads(null,null,h,null),e=this.getQuads(h,null,null,null);let r,d=null,f=null,p=null;for(let n=0;n<e.length&&!c;n++)r=e[n],r.graph.equals(u)?o?c=i(h,"has non-list arcs out"):r.predicate.value===l.rdf.first?d?c=i(h,"has multiple rdf:first arcs"):s.push(d=r):r.predicate.value===l.rdf.rest?f?c=i(h,"has multiple rdf:rest arcs"):s.push(f=r):t.length?c=i(h,"can't be subject and object"):(o=r,a="subject"):c=i(h,"not confined to single graph");for(let n=0;n<t.length&&!c;++n)r=t[n],o?c=i(h,"can't have coreferences"):r.predicate.value===l.rdf.rest?p?c=i(h,"has incoming rdf:rest arcs"):p=r:(o=r,a="object");d?n.unshift(d.object):c=i(h,"has no list head"),h=p&&p.subject}c?t=!1:o&&(r[o[a].value]=n)})),t&&this.removeQuads(s),r}addAll(t){if(t instanceof _t&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof pt&&t._entityIndex===this._entityIndex)0!==t._size&&(this._graphs=lt(this._graphs,t._graphs),this._size=null);else for(const e of t)this.add(e);return this}contains(t){if(t instanceof _t&&(t=t.filtered),t===this)return!0;if(!(t instanceof pt)||this._entityIndex!==t._entityIndex)return t.every((t=>this.has(t)));const e=this._graphs,r=t._graphs;let i,n,s,o,a;for(const c in r){if(!(i=e[c]))return!1;i=i.subjects;for(const t in n=r[c].subjects){if(!(s=i[t]))return!1;for(const e in o=n[t]){if(!(a=s[e]))return!1;for(const t in o[e])if(!(t in a))return!1}}}return!0}deleteMatches(t,e,r,i){for(const n of this.match(t,e,r,i))this.removeQuad(n);return this}difference(t){if(t&&t instanceof _t&&(t=t.filtered),t===this)return new pt({entityIndex:this._entityIndex});if(t instanceof pt&&t._entityIndex===this._entityIndex){const e=new pt({entityIndex:this._entityIndex}),r=dt(this._graphs,t._graphs);return r&&(e._graphs=r,e._size=null),e}return this.filter((e=>!t.has(e)))}equals(t){return t instanceof _t&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const e=new pt({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&e.add(r);return e}intersection(t){if(t instanceof _t&&(t=t.filtered),t===this){const t=new pt({entityIndex:this._entityIndex});return t._graphs=lt(Object.create(null),this._graphs),t._size=this._size,t}if(t instanceof pt&&this._entityIndex===t._entityIndex){const e=new pt({entityIndex:this._entityIndex}),r=ht(t._graphs,this._graphs);return r&&(e._graphs=r,e._size=null),e}return this.filter((e=>t.has(e)))}map(t){const e=new pt({entityIndex:this._entityIndex});for(const r of this)e.add(t(r,this));return e}reduce(t,e){const r=this.readQuads();let i=void 0===e?r.next().value:e;for(const n of r)i=t(i,n,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return(new st).quadsToString(this)}union(t){const e=new pt({entityIndex:this._entityIndex});return e._graphs=lt(Object.create(null),this._graphs),e._size=this._size,e.addAll(t),e}*[Symbol.iterator](){yield*this.readQuads()}}function gt(t,e,r=0){const i=e[r];if(i&&!(i in t))return!1;let n=!1;for(const s in i?{[i]:t[i]}:t){const i=2===r?null:gt(t[s],e,r+1);!1!==i&&(n=n||Object.create(null),n[s]=i)}return n}class _t extends ct.Readable{constructor(t,e,r,i,n,s){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:e,predicate:r,object:i,graph:n,options:s})}get filtered(){if(!this._filtered){const{n3Store:t,graph:e,object:r,predicate:i,subject:n}=this,s=this._filtered=new pt({factory:t._factory,entityIndex:this.options.entityIndex});let o,a,c;if(n&&!(o=s._termToNumericId(n))||i&&!(a=s._termToNumericId(i))||r&&!(c=s._termToNumericId(r)))return s;const u=t._getGraphs(e);for(const l in u){let t,e,r;!o&&a?(e=gt(u[l].predicates,[a,c,o]))&&(t=gt(u[l].subjects,[o,a,c]),r=gt(u[l].objects,[c,o,a])):c?(r=gt(u[l].objects,[c,o,a]))&&(t=gt(u[l].subjects,[o,a,c]),e=gt(u[l].predicates,[a,c,o])):(t=gt(u[l].subjects,[o,a,c]))&&(e=gt(u[l].predicates,[a,c,o]),r=gt(u[l].objects,[c,o,a])),t&&(s._graphs[l]={subjects:t,predicates:e,objects:r})}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[ut]&&(this[ut]=this[Symbol.iterator]());const e=this[ut];for(;--t>=0;){const{done:t,value:r}=e.next();if(t)return void this.push(null);this.push(r)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,e,r,i){return this.filtered.deleteMatches(t,e,r,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,e,r,i,n){return this.filtered.every(t,e,r,i,n)}filter(t){return this.filtered.filter(t)}forEach(t,e,r,i,n){return this.filtered.forEach(t,e,r,i,n)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,e,r,i,n){return this.filtered.some(t,e,r,i,n)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,e){return this.filtered.reduce(t,e)}toString(){return(new st).quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,e,r,i){return new _t(this.filtered,t,e,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class bt{dataset(t){return new pt(t)}}function yt(t){const e=[];for(const{subject:r,object:i}of t.match(null,I.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,I.defaultGraph())){const n=[...t.match(null,null,null,r)],s=[...t.match(null,null,null,i)];e.push({premise:n,conclusion:s})}return e}class mt{constructor(t){this._store=t}_add(t,e,r,i,n){this._store._addToIndex(i.subjects,t,e,r)&&(this._store._addToIndex(i.predicates,e,r,t),this._store._addToIndex(i.objects,r,t,e),n())}_evaluatePremise(t,e,r,i=0){let n,s,o,a,c;const[u,l,h]=t.premise[i].value,d=e[t.premise[i].content],f=!(o=u.value);for(o in f?d:{[o]:d[o]})if(a=d[o]){for(o in f&&(u.value=Number(o)),n=!(o=l.value),n?a:{[o]:a[o]})if(c=a[o]){for(o in n&&(l.value=Number(o)),s=!(o=h.value),s?c:{[o]:c[o]})s&&(h.value=Number(o)),i===t.premise.length-1?t.conclusion.forEach((t=>{this._add(t.subject.value,t.predicate.value,t.object.value,e,(()=>{r(t)}))})):this._evaluatePremise(t,e,r,i+1);s&&(h.value=null)}n&&(l.value=null)}f&&(u.value=null)}_evaluateRules(t,e,r){for(let i=0;i<t.length;i++)this._evaluatePremise(t[i],e,r)}_reasonGraphNaive(t,e){const r=[];function i(t){t.next&&t.next.forEach((e=>{r.push([t.subject.value,t.predicate.value,t.object.value,e])}))}const n=t=>{t.forEach((t=>{this._add(t.subject.value,t.predicate.value,t.object.value,e,(()=>{i(t)}))}))};let s;for(this._evaluateRules(t,e,i);void 0!==(s=r.pop());){const[t,r,o,a]=s,c=a.basePremise.subject.value;c||(a.basePremise.subject.value=t);const u=a.basePremise.predicate.value;u||(a.basePremise.predicate.value=r);const l=a.basePremise.object.value;l||(a.basePremise.object.value=o),0===a.premise.length?n(a.conclusion):this._evaluatePremise(a,e,i),c||(a.basePremise.subject.value=null),u||(a.basePremise.predicate.value=null),l||(a.basePremise.object.value=null)}}_createRule({premise:t,conclusion:e}){const r={},i=t=>"Variable"===t.termType?r[t.value]=r[t.value]||{}:{value:this._store._termToNewNumericId(t)},n=t=>({subject:i(t.subject),predicate:i(t.predicate),object:i(t.object)});return{premise:t.map((t=>n(t))),conclusion:e.map((t=>n(t))),variables:Object.values(r)}}reason(t){Array.isArray(t)||(t=yt(t)),t=t.map((t=>this._createRule(t)));for(const r of t)for(const e of t)for(let t=0;t<e.premise.length;t++){const i=e.premise[t];for(const n of r.conclusion){if(wt(i.subject,n.subject)&&wt(i.predicate,n.predicate)&&wt(i.object,n.object)){const r=new Set,s=[];i.subject.value=i.subject.value||1,i.object.value=i.object.value||1,i.predicate.value=i.predicate.value||1;for(let i=0;i<e.premise.length;i++)i!==t&&s.push(vt(e.premise[i],r));(n.next=n.next||[]).push({premise:s,conclusion:e.conclusion,basePremise:i})}e.variables.forEach((t=>{t.value=null}))}}for(const r of t){const t=new Set;r.premise=r.premise.map((e=>vt(e,t)))}const e=this._store._getGraphs();for(const r in e)this._reasonGraphNaive(t,e[r]);this._store._size=null}}function vt({subject:t,predicate:e,object:r},i){const n=t.value||i.has(t)||(i.add(t),!1),s=e.value||i.has(e)||(i.add(e),!1),o=r.value||i.has(r)||(i.add(r),!1);return!n&&s?{content:"predicates",value:[e,r,t]}:o?{content:"objects",value:[r,t,e]}:{content:"subjects",value:[t,e,r]}}function wt(t,e){return null===t.value&&(t.value=e.value),t.value===e.value}class xt extends ct.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const e=new V(t);let r,i;const n={onQuad:(t,e)=>{t&&this.emit("error",t)||e&&this.push(e)},onPrefix:(t,e)=>{this.emit("prefix",t,e)}};t&&t.comments&&(n.onComment=t=>{this.emit("comment",t)}),e.parse({on:(t,e)=>{switch(t){case"data":r=e;break;case"end":i=e}}},n),this._transform=(t,e,i)=>{r(t),i()},this._flush=t=>{i(),t()}}import(t){return t.on("data",(t=>{this.write(t)})),t.on("end",(()=>{this.end()})),t.on("error",(t=>{this.emit("error",t)})),this}}class It extends ct.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const e=this._writer=new st({write:(t,e,r)=>{this.push(t),r&&r()},end:t=>{this.push(null),t&&t()}},t);this._transform=(t,r,i)=>{e.addQuad(t,i)},this._flush=t=>{e.end(t)}}import(t){return t.on("data",(t=>{this.write(t)})),t.on("end",(()=>{this.end()})),t.on("error",(t=>{this.emit("error",t)})),t.on("prefix",((t,e)=>{this._writer.addPrefix(t,e)})),this}}const Et={Lexer:b,Parser:V,Writer:st,Store:pt,StoreFactory:bt,EntityIndex:ft,StreamParser:xt,StreamWriter:It,Util:i,Reasoner:mt,DataFactory:I,Term:E,NamedNode:S,Literal:T,BlankNode:R,Variable:A,DefaultGraph:O,Quad:D,Triple:D,termFromId:N,termToId:C}},3141:(t,e,r)=>{"use strict";var i=r(2861).Buffer,n=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===n||!n(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function l(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},s.prototype.text=function(t,e){var r=function(t,e,r){var i=e.length-1;if(i<r)return 0;var n=o(e[i]);if(n>=0)return n>0&&(t.lastNeed=n-1),n;if(--i<r||-2===n)return 0;if(n=o(e[i]),n>=0)return n>0&&(t.lastNeed=n-2),n;if(--i<r||-2===n)return 0;if(n=o(e[i]),n>=0)return n>0&&(2===n?n=0:t.lastNeed=n-3),n;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},7024:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(2300),e)},2300:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;const r=function(){const t="[!$&'()*+,;=]",e="%[a-fA-F0-9]{2}",r="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i=`${r}\\.${r}\\.${r}\\.${r}`,n="[a-fA-F0-9]{1,4}",s=`(${n}:${n}|${i})`,o="[a-zA-Z0-9\\-._~-----------------]",a=`(${o}|${e}|${t}|[:@])*`,c=`(${a})+`,u=`(${a})*`;return new RegExp(`^[a-zA-Z][a-zA-Z0-9+\\-.]*:${`(\\/\\/${`(${`(${o}|${e}|${t}|:)*`}@)?${`(${`\\[(${`((${n}:){6}${s}|::(${n}:){5}${s}|(${n})?::(${n}:){4}${s}|((${n}:){0,1}${n})?::(${n}:){3}${s}|((${n}:){0,2}${n})?::(${n}:){2}${s}|((${n}:){0,3}${n})?::${n}:${s}|((${n}:){0,4}${n})?::${s}|((${n}:){0,5}${n})?::${n}|((${n}:){0,6}${n})?::)`}|${`v[a-fA-F0-9]+\\.(${t}|${t}|":)+`})\\]`}|${i}|${`(${o}|${e}|${t})*`})`}(:[0-9]*)?`}${`(\\/${u})*`}|${`\\/(${c}(\\/${u})*)?`}|${`${c}(\\/${u})*`}|)`}(\\?${`(${a}|[---]|[\\/?])*`})?(#${`(${a}|[\\/?])*`})?$`,"u")}(),i=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var n;!function(t){t.Strict="strict",t.Pragmatic="pragmatic",t.None="none"}(n=e.IriValidationStrategy||(e.IriValidationStrategy={})),e.validateIri=function(t,e=n.Strict){switch(e){case n.Strict:return r.test(t)?void 0:new Error(`Invalid IRI according to RFC 3987: '${t}'`);case n.Pragmatic:return i.test(t)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${t}'`);case n.None:return;default:return new Error(`Not supported validation strategy "${e}"`)}}},1487:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="\t\n\r ---",e.S=" \t\r\n",e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");function r(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}e.S_LIST=[32,10,13,9],e.isChar=function(t){return t>=32&&t<=55295||10===t||13===t||9===t||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isS=function(t){return 32===t||10===t||13===t||9===t},e.isNameStartChar=r,e.isNameChar=function(t){return r(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},4797:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="---",e.RESTRICTED_CHAR="-\b\v\f---",e.S=" \t\r\n",e.NAME_START_CHAR=":A-Z_a-z-----------",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9--",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");function r(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}e.S_LIST=[32,10,13,9],e.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},e.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},e.isS=function(t){return 32===t||10===t||13===t||9===t},e.isNameStartChar=r,e.isNameChar=function(t){return r(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},446:(t,e)=>{"use strict";function r(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-z------------",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9--",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u"),e.isNCNameStartChar=r,e.isNCNameChar=function(t){return r(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}},5627:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isIterator=e.isIterable=e.isSourceExpression=e.isPromise=e.isEventEmitter=e.isFunction=e.range=e.union=e.fromIterable=e.fromIterator=e.fromArray=e.single=e.empty=e.wrap=e.WrappingIterator=e.ClonedIterator=e.UnionIterator=e.MultiTransformIterator=e.SimpleTransformIterator=e.TransformIterator=e.BufferedIterator=e.MappingIterator=e.DESTINATION=e.identity=e.IntegerIterator=e.ArrayIterator=e.SingletonIterator=e.EmptyIterator=e.AsyncIterator=e.DESTROYED=e.ENDED=e.CLOSED=e.CLOSING=e.OPEN=e.INIT=e.setTaskScheduler=e.getTaskScheduler=e.scheduleTask=e.LinkedList=void 0;const i=r(7007),n=r(288);Object.defineProperty(e,"LinkedList",{enumerable:!0,get:function(){return n.LinkedList}});let s=r(4683).createTaskScheduler();e.scheduleTask=function(t){s(t)},e.getTaskScheduler=function(){return s},e.setTaskScheduler=function(t){s=t},e.INIT=1,e.OPEN=2,e.CLOSING=4,e.CLOSED=8,e.ENDED=16,e.DESTROYED=32;class o extends i.EventEmitter{constructor(t=e.OPEN){super(),this._readable=!1,this._state=t,this.on("newListener",a)}_changeState(t,r=!1){const i=t>this._state&&this._state<e.ENDED;return i&&(this._state=t,t===e.ENDED&&(r?s((()=>this.emit("end"))):this.emit("end"))),i}read(){return null}forEach(t,e){this.on("data",P(t,e))}close(){this._changeState(e.CLOSED)&&this._endAsync()}destroy(t){this.done||this._destroy(t,(e=>{(t=t||e)&&this.emit("error",t),this._end(!0)}))}_destroy(t,e){e()}_end(t=!1){this._changeState(t?e.DESTROYED:e.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){s((()=>this._end()))}get readable(){return this._readable}set readable(t){t=Boolean(t)&&!this.done,this._readable!==t&&(this._readable=t,t&&s((()=>this.emit("readable"))))}get closed(){return this._state>=e.CLOSING}get ended(){return this._state===e.ENDED}get destroyed(){return this._state===e.DESTROYED}get done(){return this._state>=e.ENDED}toString(){const t=this._toStringDetails();return`[${this.constructor.name}${t?` ${t}`:""}]`}_toStringDetails(){return""}toArray(t){const e=[],r="number"==typeof(null==t?void 0:t.limit)?t.limit:1/0;return this.ended||r<=0?Promise.resolve(e):new Promise(((t,i)=>{const n=()=>t(e),s=o=>{e.push(o),e.length>=r&&(this.removeListener("error",i),this.removeListener("data",s),this.removeListener("end",n),t(e))};this.on("error",i),this.on("data",s),this.on("end",n)}))}getProperty(t,e){const r=this._properties;if(!e)return r&&r[t];if(r&&t in r)s((()=>e(r[t])));else{let r;(r=this._propertyCallbacks)||(this._propertyCallbacks=r=Object.create(null)),t in r?r[t].push(e):r[t]=[e]}}setProperty(t,e){(this._properties||(this._properties=Object.create(null)))[t]=e;const r=this._propertyCallbacks||{},i=r[t];if(i){for(t in delete r[t],s((()=>{for(const t of i)t(e)})),r)return;delete this._propertyCallbacks}}getProperties(){const t=this._properties,e={};for(const r in t)e[r]=t[r];return e}setProperties(t){for(const e in t)this.setProperty(e,t[e])}copyProperties(t,e){for(const r of e)t.getProperty(r,(t=>this.setProperty(r,t)))}transform(t){return new E(this,t)}map(t,e){return new g(this,P(t,e))}filter(t,e){return this.map((function(r){return t.call(e||this,r)?r:null}))}uniq(t=p){const e=new Set;return this.filter((function(r){const i=t.call(this,r);return!e.has(i)&&(e.add(i),!0)}))}prepend(t){return this.transform({prepend:t})}append(t){return this.transform({append:t})}surround(t,e){return this.transform({prepend:t,append:e})}skip(t){return this.map((e=>t-- >0?null:e))}take(t){return this.transform({limit:t})}range(t,e){return this.transform({offset:t,limit:Math.max(e-t+1,0)})}clone(){return new R(this)}[Symbol.asyncIterator](){const t=this;let e=null,r=null,i=null;function n(){if(null!==e)if(null!==i)s(i);else if(t.done)e({done:!0,value:void 0}),e=r=null,o();else{const i=t.read();null!==i&&(e({done:!1,value:i}),e=r=null)}}function s(t){null!==r?(r(t),e=r=i=null,o()):null===i&&(i=t)}function o(){t.removeListener("readable",n),t.removeListener("end",n),t.removeListener("error",s)}return t.addListener("readable",n),t.addListener("end",n),t.addListener("error",s),{next:()=>new Promise(((t,i)=>{e=t,r=i,n()}))}}}function a(t){"data"===t&&(this.removeListener("newListener",a),u(this,"readable",c),this.readable&&s((()=>c.call(this))))}function c(){let t;for(;0!==this.listenerCount("data")&&null!==(t=this.read());)this.emit("data",t);0!==this.listenerCount("data")||this.done||(this.removeListener("readable",c),u(this,"newListener",a))}function u(t,e,r){t.listeners(e).includes(r)||t.on(e,r)}e.AsyncIterator=o;class l extends o{constructor(){super(),this._changeState(e.ENDED,!0)}}e.EmptyIterator=l;class h extends o{constructor(t){super(),this._item=t,null===t?this.close():this.readable=!0}read(){const t=this._item;return this._item=null,this.close(),t}_toStringDetails(){return null===this._item?"":`(${this._item})`}}e.SingletonIterator=h;class d extends o{constructor(t=[],{autoStart:e=!0,preserve:r=!0}={}){super();const i=r||!Array.isArray(t)?[...t]:t;this._index=0,this._sourceStarted=!1!==e,this._truncateThreshold=r?-1:64,this._sourceStarted&&0===i.length?this.close():this._buffer=i,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let t=null;return this._buffer&&(this._index<this._buffer.length&&(t=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),t}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(t,e){delete this._buffer,e()}toArray(t={}){if(!this._buffer)return Promise.resolve([]);const{length:e}=this._buffer,r=this._index,i="number"!=typeof t.limit?e:r+t.limit,n=this._buffer.slice(r,i);return this._index=i,i>=e&&this.close(),Promise.resolve(n)}}e.ArrayIterator=d;class f extends o{constructor({start:t=0,step:e=1,end:r}={}){super(),Number.isFinite(t)&&(t=Math.trunc(t)),this._next=t,Number.isFinite(e)&&(e=Math.trunc(e)),this._step=e;const i=e>=0,n=i?1/0:-1/0;Number.isFinite(r)?r=Math.trunc(r):r!==-n&&(r=n),this._last=r,!Number.isFinite(t)||(i?t>r:t<r)?this.close():this.readable=!0}read(){if(this.closed)return null;const t=this._next,e=this._step,r=this._last,i=this._next+=e;return(e>=0?i>r:i<r)&&this.close(),t}_toStringDetails(){return`(${this._next}...${this._last})`}}function p(t){return t}e.IntegerIterator=f,e.identity=p,e.DESTINATION=Symbol("destination");class g extends o{constructor(t,r=p,i={}){super(),this._map=r,this._source=_(t),this._destroySource=!1!==i.destroySource,t.done?this.close():(this._source[e.DESTINATION]=this,this._source.on("end",w),this._source.on("error",v),this._source.on("readable",m),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let t,e;for(;null!==(t=this._source.read());)if(null!==(e=this._map(t)))return e}this.readable=!1,this._source.done&&this.close()}return null}_end(t){this._source.removeListener("end",w),this._source.removeListener("error",v),this._source.removeListener("readable",m),delete this._source[e.DESTINATION],this._destroySource&&this._source.destroy(),super._end(t)}}function _(t,r=!1){if(!t||!j(t.read)||!j(t.on))throw new TypeError(`Invalid source: ${t}`);if(!r&&t[e.DESTINATION])throw new Error("The source already has a destination");return t}e.MappingIterator=g;class b extends o{constructor({maxBufferSize:t=4,autoStart:r=!0}={}){super(e.INIT),this._buffer=new n.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=t,s((()=>this._init(r))),this._sourceStarted=!1!==r}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(t){t!==1/0&&(t=Number.isFinite(t)?Math.max(Math.trunc(t),1):4),this._maxBufferSize!==t&&(this._maxBufferSize=t,this._state===e.OPEN&&this._fillBuffer())}_init(t){let r=!1;this._reading=!0,this._begin((()=>{if(r)throw new Error("done callback called multiple times");r=!0,this._reading=!1,this._changeState(e.OPEN),t?this._fillBufferAsync():this.readable=!0}))}_begin(t){t()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const t=this._buffer;let e;return t.empty?(e=null,this.readable=!1):e=t.shift(),!this._reading&&t.length<this._maxBufferSize&&(this.closed?t.empty&&this._endAsync():this._fillBufferAsync()),e}_read(t,e){e()}_push(t){this.done||(this._pushedCount++,this._buffer.push(t),this.readable=!0)}_fillBuffer(){let t;this._reading||(this.closed?this._completeClose():(t=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(t,(()=>{if(!t)throw new Error("done callback called multiple times");t=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())}))))}_fillBufferAsync(){this._reading||(this._reading=!0,s((()=>{this._reading=!1,this._fillBuffer()})))}close(){this._reading?this._changeState(e.CLOSING):this._completeClose()}_completeClose(){this._changeState(e.CLOSED)&&(this._reading=!0,this._flush((()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()})))}_destroy(t,e){this._buffer.clear(),e()}_flush(t){t()}_toStringDetails(){const t=this._buffer;return`{${t.empty?"":`next: ${t.first}, `}buffer: ${t.length}}`}}e.BufferedIterator=b;class y extends b{constructor(t,e=t||{}){super(e),this._boundPush=t=>this._push(t),F(t)||(t=e.source),k(t)?this.source=t:t&&(this._createSource=L(t)?()=>t:t,this._sourceStarted&&this._loadSourceAsync()),this._optional=Boolean(e.optional),this._destroySource=!1!==e.destroySource}get source(){return j(this._createSource)&&this._loadSourceAsync(),this._source}set source(t){const r=this._source=this._validateSource(t);r[e.DESTINATION]=this,this.done?this._destroySource&&r.destroy():r.done?this.close():(r.on("end",x),r.on("readable",I),r.on("error",v))}_loadSourceAsync(){j(this._createSource)&&(Promise.resolve(this._createSource()).then((t=>{delete this._createSource,this.source=t,this._fillBuffer()}),(t=>this.emit("error",t))),this._createSource=null)}_validateSource(t,e=!1){if(this._source||void 0!==this._createSource)throw new Error("The source cannot be changed after it has been set");return _(t,e)}_read(t,e){const r=()=>{this._pushedCount<t&&!this.closed?s((()=>this._readAndTransform(r,e))):e()};this._readAndTransform(r,e)}_readAndTransform(t,e){let r;const i=this.source;!i||i.done||null===(r=i.read())?e():this._optional?this._optionalTransform(r,t):this._transform(r,t,this._boundPush)}_optionalTransform(t,e){const r=this._pushedCount;this._transform(t,(()=>{r===this._pushedCount&&this._push(t),e()}),this._boundPush)}_transform(t,e,r){r(t),e()}_closeWhenDone(){this.close()}_end(t){const r=this._source;r&&(r.removeListener("end",x),r.removeListener("error",v),r.removeListener("readable",I),delete r[e.DESTINATION],this._destroySource&&r.destroy()),super._end(t)}}function m(){this[e.DESTINATION].readable=!0}function v(t){this[e.DESTINATION].emit("error",t)}function w(){this[e.DESTINATION].close()}function x(){this[e.DESTINATION]._closeWhenDone()}function I(){!1!==this[e.DESTINATION]._sourceStarted&&this[e.DESTINATION]._fillBuffer()}e.TransformIterator=y;class E extends y{constructor(t,e){if(super(t,e),this._offset=0,this._limit=1/0,this._filter=t=>!0,e=e||(F(t)?null:t)){const t=j(e)?e:e.transform,{limit:r,offset:i,filter:n,map:s,prepend:o,append:a}=e;i===1/0||r===-1/0?this._limit=0:(Number.isFinite(i)&&(this._offset=Math.max(Math.trunc(i),0)),Number.isFinite(r)&&(this._limit=Math.max(Math.trunc(r),0)),j(n)&&(this._filter=n),j(s)&&(this._map=s),this._transform=j(t)?t:null),o&&(this._prepender=k(o)?o:D(o)),a&&(this._appender=k(a)?a:D(a))}}_read(t,e){const r=()=>this._readAndTransformSimple(t,i,e);function i(){s(r)}this._readAndTransformSimple(t,i,e)}_readAndTransformSimple(t,e,r){let i;const{source:n}=this;if(n&&!n.done){for(0===this._limit&&this.close();!this.closed&&this._pushedCount<t&&null!==(i=n.read());){if(!this._filter(i)||0!==this._offset&&this._offset--)continue;const t=void 0===this._map?i:this._map(i);if(null===t)this._optional&&this._push(i);else{if(j(this._transform))return void(this._optional?this._optionalTransform(t,e):this._transform(t,e,this._boundPush));this._push(t)}0==--this._limit&&this.close()}r()}else r()}_begin(t){this._insert(this._prepender,t),delete this._prepender}_flush(t){this._insert(this._appender,t),delete this._appender}_insert(t,e){const r=t=>this._push(t);!t||t.done?e():(t.on("data",r),t.on("end",(function i(){t.removeListener("data",r),t.removeListener("end",i),e()})))}}e.SimpleTransformIterator=E;e.MultiTransformIterator=class extends y{constructor(t,e){if(super(t,e),this._transformerQueue=[],e){const t=j(e)?e:e.multiTransform;t&&(this._createTransformer=t)}}_read(t,r){const i=this._transformerQueue,n=this._optional;let s,o;for(;(s=i[0])&&s.transformer.done;){n&&null!==s.item&&(t--,this._push(s.item)),i.shift();const{transformer:e}=s;e.removeListener("end",I),e.removeListener("readable",I),e.removeListener("error",v)}const{source:a}=this;for(;a&&!a.done&&i.length<this.maxBufferSize&&(o=a.read(),null!==o);){const t=this._createTransformer(o)||new l;t[e.DESTINATION]=this,t.on("end",I),t.on("readable",I),t.on("error",v),i.push({transformer:t,item:o})}if(s=i[0],s){const{transformer:e}=s;for(;t-- >0&&null!==(o=e.read());)this._push(o),n&&(s.item=null)}else a&&a.done&&this.close();r()}_createTransformer(t){return new h(t)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(t){if(super._end(t),this._destroySource)for(const e of this._transformerQueue)e.transformer.destroy()}};class S extends b{constructor(t,e={}){super(e),this._sources=[],this._currentSource=-1;const r=!1!==e.autoStart;if(k(t))t.on("error",(t=>this.emit("error",t))),this._pending={loading:!1,sources:t},r&&this._loadSources();else if(Array.isArray(t)&&t.length>0)for(const i of t)this._addSource(i);else r&&this.close();this._destroySources=!1!==e.destroySources}_loadSources(){const t=this._pending.sources;this._pending.loading=!0,t.done?(delete this._pending,this.close()):(t.on("data",(t=>{this._addSource(t),this._fillBufferAsync()})),t.on("end",(()=>{delete this._pending,this._fillBuffer()})))}_addSource(t){L(t)&&(t=N(t)),t.done||(this._sources.push(t),t[e.DESTINATION]=this,t.on("error",v),t.on("readable",I),t.on("end",T))}_removeEmptySources(){this._sources=this._sources.filter(((t,e)=>(t.done&&e<=this._currentSource&&this._currentSource--,!t.done))),this._fillBuffer()}_read(t,e){var r;!1===(null===(r=this._pending)||void 0===r?void 0:r.loading)&&this._loadSources();let i,n=0;for(;n!==(n=t);)for(let e=0;e<this._sources.length&&t>0;e++){this._currentSource=(this._currentSource+1)%this._sources.length;null!==(i=this._sources[this._currentSource].read())&&(t--,this._push(i))}this._pending||0!==this._sources.length||this.close(),e()}_end(t=!1){if(super._end(t),this._destroySources){for(const t of this._sources)t.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}function T(){this[e.DESTINATION]._removeEmptySources()}e.UnionIterator=S;class R extends y{constructor(t){super(t,{autoStart:!1}),this._readPosition=0,this._reading=!1,t&&(this.readable=!0)}_init(){}close(){o.prototype.close.call(this)}get source(){return super.source}set source(t){const r=this._source=this._validateSource(t),i=r&&r[e.DESTINATION]||(r[e.DESTINATION]=new A(r));this.done?this._destroySource&&r.destroy():i.endsAt(0)?this.close():(i.register(this),!1!==r._sourceStarted&&null===i.readAt(0)||(this.readable=!0));const n=this._propertyCallbacks;for(const e in n){const t=n[e];for(const r of t)this._getSourceProperty(e,r)}}_validateSource(t,r=!1){const i=t&&t[e.DESTINATION];return super._validateSource(t,!i||i instanceof A)}getProperty(t,e){const{source:r}=this,i=this._properties,n=i&&t in i;if(!e)return n?i&&i[t]:r&&r.getProperty(t);super.getProperty(t,e),r&&!n&&this._getSourceProperty(t,e)}_getSourceProperty(t,e){this.source.getProperty(t,(r=>{this._properties&&t in this._properties||e(r)}))}getProperties(){const t=this.source?this.source.getProperties():{},e=this._properties;for(const r in e)t[r]=e[r];return t}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const t=this.source;let r=null;if(!this.done&&t){const i=t[e.DESTINATION];null!==(r=i.readAt(this._readPosition))?this._readPosition++:this.readable=!1,i.endsAt(this._readPosition)&&this.close()}return r}_end(t){const r=this.source,i=null==r?void 0:r[e.DESTINATION];i&&i.unregister(this),b.prototype._end.call(this,t)}}e.ClonedIterator=R;class A{constructor(t){if(this._history=[],this._trackers=new Set,this._source=t,!t.done){const e=()=>{for(const t of this._trackers)t.readable=!0},r=t=>{for(const e of this._trackers)e.emit("error",t)},i=()=>{for(const t of this._trackers)!1!==t._sourceStarted&&t._readPosition===this._history.length&&t.close();this._trackers.clear(),t.removeListener("end",i),t.removeListener("error",r),t.removeListener("readable",e)};t.on("end",i),t.on("error",r),t.on("readable",e)}}register(t){this._source.done||this._trackers.add(t)}unregister(t){this._trackers.delete(t)}readAt(t){let e=null;return t<this._history.length?e=this._history[t]:this._source.done||null===(e=this._source.read())||(this._history[t]=e),e}endsAt(t){return this._source.done&&this._history.length===t}}class O extends o{constructor(t,e){super(),this._source=null,this._destroySource=!1!==(null==e?void 0:e.destroySource),L(t)?(this._source=new o,t.then((t=>{this._source=null,this.source=t})).catch((t=>this.emit("error",t)))):t&&(this.source=t)}set source(t){let r=t;if(null!==this._source)throw new Error("The source cannot be changed after it has been set");if(M(r)&&(r=r[Symbol.iterator]()),B(r)){let t=r;r=new i.EventEmitter,r.read=()=>{if(null!==t){let e;for(;!(e=t.next()).done;)if(null!==e.value)return e.value;t=null,this.close()}return null}}else r=_(r);this.done?this._destroySource&&j(r.destroy)&&r.destroy():(r[e.DESTINATION]=this,r.on("end",w),r.on("error",v),r.on("readable",m),this._source=r,this.readable=!1!==r.readable)}read(){if(null!==this._source&&!1!==this._source.readable){const t=this._source.read();if(null!==t)return t;this.readable=!1}return null}_end(t=!1){null!==this._source&&(this._source.removeListener("end",w),this._source.removeListener("error",v),this._source.removeListener("readable",m),delete this._source[e.DESTINATION],this._destroySource&&j(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(t)}}function N(t,e){if(e&&("autoStart"in e||"optional"in e||"source"in e||"maxBufferSize"in e))return t&&!k(t)&&(t=new O(t)),new y(t,e);if(!t)return C();if(L(t))return new O(t,e);if(t instanceof o)return t;if(Array.isArray(t))return D(t);if(M(t)||B(t)||k(t))return new O(t,e);throw new TypeError(`Invalid source: ${t}`)}function C(){return new l}function D(t){return new d(t)}function P(t,e){return e?t.bind(e):t}function j(t){return"function"==typeof t}function k(t){return j(null==t?void 0:t.on)}function L(t){return j(null==t?void 0:t.then)}function F(t){return t&&(k(t)||L(t)||j(t))}function M(t){return t&&Symbol.iterator in t}function B(t){return j(null==t?void 0:t.next)}e.WrappingIterator=O,e.wrap=N,e.empty=C,e.single=function(t){return new h(t)},e.fromArray=D,e.fromIterator=function(t){return new O(t)},e.fromIterable=function(t){return new O(t)},e.union=function(t){return new S(t)},e.range=function(t,e,r){return new f({start:t,end:e,step:r})},e.isFunction=j,e.isEventEmitter=k,e.isPromise=L,e.isSourceExpression=F,e.isIterable=M,e.isIterator=B},288:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;e.LinkedList=class{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var t;return null===(t=this._head)||void 0===t?void 0:t.value}get last(){var t;return null===(t=this._tail)||void 0===t?void 0:t.value}get empty(){return null===this._head}push(t){const e={value:t,next:null};null===this._tail?this._head=this._tail=e:this._tail.next=this._tail=e,this._length++}shift(){if(null===this._head)return;const{value:t,next:e}=this._head;return this._head=e,null===e&&(this._tail=null),this._length--,t}clear(){this._length=0,this._head=this._tail=null}}},4683:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTaskScheduler=void 0;const r=Promise.resolve(void 0);e.createTaskScheduler=function(){const t="function"==typeof queueMicrotask?queueMicrotask:t=>r.then(t),e="function"==typeof setImmediate?setImmediate:t=>setTimeout(t,0);let i=0,n=null;return r=>{null!==n?n.push(r):++i<100?t(r):(n=[r],e((()=>{for(const e of n)t(e);n=null,i=0})))}}},952:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=e.ReadableFromWeb=void 0;const i=r(9198);class n extends i.Readable{constructor(t,e){super(e),this.reader=t.getReader(),this.readerClosed=!1,this.reader.closed.then((()=>{this.readerClosed=!0})).catch((t=>{this.readerClosed=!0,this.destroy(t)}))}_read(){this.reader.read().then((t=>this.push(t.done?null:t.value))).catch((t=>this.destroy(t)))}destroy(t){return this.readerClosed||this.reader.cancel(t).then().catch((()=>{})),super.destroy(t)}}e.ReadableFromWeb=n,e.readableFromWeb=function(t,e){return new n(t,e)}},5806:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readableFromWeb=void 0;var i=r(952);Object.defineProperty(e,"readableFromWeb",{enumerable:!0,get:function(){return i.readableFromWeb}})},8393:t=>{"use strict";t.exports=JSON.parse('{"name":"@comunica/actor-http-fetch","version":"4.0.2","description":"A fetch http actor","lsd:module":true,"license":"MIT","funding":{"type":"opencollective","url":"https://opencollective.com/comunica-association"},"homepage":"https://comunica.dev/","repository":{"type":"git","url":"https://github.com/comunica/comunica.git","directory":"packages/actor-http-fetch"},"bugs":{"url":"https://github.com/comunica/comunica/issues"},"keywords":["comunica","runner"],"sideEffects":false,"main":"lib/index.js","typings":"lib/index","publishConfig":{"access":"public"},"files":["components","lib/**/*.d.ts","lib/**/*.js","lib/**/*.js.map"],"scripts":{"build":"yarn run build:ts && yarn run build:components","build:ts":"node \\"../../node_modules/typescript/bin/tsc\\"","build:components":"componentsjs-generator"},"dependencies":{"@comunica/bus-http":"^4.0.2","@comunica/context-entries":"^4.0.2","@comunica/core":"^4.0.2","@comunica/mediatortype-time":"^4.0.2"},"browser":{"./lib/FetchInitPreprocessor.js":"./lib/FetchInitPreprocessor-browser.js"},"gitHead":"b60deab76821557f8d027208ab743d3c66fc60ea"}')},8395:t=>{"use strict";t.exports=JSON.parse('{"http://schema.org/":{"properties":{"additionalType":{"subPropertyOf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}}')},5180:t=>{"use strict";t.exports=JSON.parse('{"@context":{"alternate":"http://www.w3.org/1999/xhtml/vocab#alternate","appendix":"http://www.w3.org/1999/xhtml/vocab#appendix","cite":"http://www.w3.org/1999/xhtml/vocab#cite","bookmark":"http://www.w3.org/1999/xhtml/vocab#bookmark","contents":"http://www.w3.org/1999/xhtml/vocab#contents","chapter":"http://www.w3.org/1999/xhtml/vocab#chapter","copyright":"http://www.w3.org/1999/xhtml/vocab#copyright","first":"http://www.w3.org/1999/xhtml/vocab#first","glossary":"http://www.w3.org/1999/xhtml/vocab#glossary","help":"http://www.w3.org/1999/xhtml/vocab#help","icon":"http://www.w3.org/1999/xhtml/vocab#icon","index":"http://www.w3.org/1999/xhtml/vocab#index","last":"http://www.w3.org/1999/xhtml/vocab#last","license":"http://www.w3.org/1999/xhtml/vocab#license","meta":"http://www.w3.org/1999/xhtml/vocab#meta","next":"http://www.w3.org/1999/xhtml/vocab#next","prev":"http://www.w3.org/1999/xhtml/vocab#prev","previous":"http://www.w3.org/1999/xhtml/vocab#previous","section":"http://www.w3.org/1999/xhtml/vocab#section","start":"http://www.w3.org/1999/xhtml/vocab#start","stylesheet":"http://www.w3.org/1999/xhtml/vocab#stylesheet","subsection":"http://www.w3.org/1999/xhtml/vocab#subsection","top":"http://www.w3.org/1999/xhtml/vocab#top","up":"http://www.w3.org/1999/xhtml/vocab#up","p3pv1":"http://www.w3.org/1999/xhtml/vocab#p3pv1"}}')},532:t=>{"use strict";t.exports=JSON.parse('{"@context":{"as":"https://www.w3.org/ns/activitystreams#","cat":"http://www.w3.org/ns/dcat#","cc":"http://creativecommons.org/ns#","cnt":"http://www.w3.org/2008/content#","csvw":"http://www.w3.org/ns/csvw#","ctag":"http://commontag.org/ns#","dc":"http://purl.org/dc/terms/","dc11":"http://purl.org/dc/elements/1.1/","dcat":"http://www.w3.org/ns/dcat#","dcterms":"http://purl.org/dc/terms/","dqv":"http://www.w3.org/ns/dqv#","duv":"https://www.w3.org/TR/vocab-duv#","earl":"http://www.w3.org/ns/earl#","foaf":"http://xmlns.com/foaf/0.1/","gldp":"http://www.w3.org/ns/people#","gr":"http://purl.org/goodrelations/v1#","grddl":"http://www.w3.org/2003/g/data-view#","ht":"http://www.w3.org/2006/http#","ical":"http://www.w3.org/2002/12/cal/icaltzd#","ldp":"http://www.w3.org/ns/ldp#","ma":"http://www.w3.org/ns/ma-ont#","oa":"http://www.w3.org/ns/oa#","odrl":"http://www.w3.org/ns/odrl/2/","og":"http://ogp.me/ns#","org":"http://www.w3.org/ns/org#","owl":"http://www.w3.org/2002/07/owl#","prov":"http://www.w3.org/ns/prov#","ptr":"http://www.w3.org/2009/pointers#","qb":"http://purl.org/linked-data/cube#","rev":"http://purl.org/stuff/rev#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfa":"http://www.w3.org/ns/rdfa#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","rif":"http://www.w3.org/2007/rif#","rr":"http://www.w3.org/ns/r2rml#","schema":"http://schema.org/","sd":"http://www.w3.org/ns/sparql-service-description#","sioc":"http://rdfs.org/sioc/ns#","skos":"http://www.w3.org/2004/02/skos/core#","skosxl":"http://www.w3.org/2008/05/skos-xl#","ssn":"http://www.w3.org/ns/ssn/","sosa":"http://www.w3.org/ns/sosa/","time":"http://www.w3.org/2006/time#","v":"http://rdf.data-vocabulary.org/#","vcard":"http://www.w3.org/2006/vcard/ns#","void":"http://rdfs.org/ns/void#","wdr":"http://www.w3.org/2007/05/powder#","wdrs":"http://www.w3.org/2007/05/powder-s#","xhv":"http://www.w3.org/1999/xhtml/vocab#","xml":"http://www.w3.org/XML/1998/namespace","xsd":"http://www.w3.org/2001/XMLSchema#","describedby":"http://www.w3.org/2007/05/powder-s#describedby","license":"http://www.w3.org/1999/xhtml/vocab#license","role":"http://www.w3.org/1999/xhtml/vocab#role"}}')}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{"use strict";r.r(i);var t=r(5050),e=r(4326),n=r(3347),s=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};self.onmessage=r=>{const i={};r.data.proxy&&(i["@comunica/actor-http-proxy:httpProxyHandler"]=new t.ProxyHandlerStatic(r.data.proxy)),function(t,r,i,n,o){s(this,void 0,void 0,(function*(){try{const{data:s}=yield e.rdfDereferencer.dereference(t,r);let a=0;o(a,!1),s.on("data",(t=>{o(++a,!1),i(t)})).on("error",n).on("end",(()=>{o(a,!0)}))}catch(s){n(s)}}))}(r.data.url,i,(t=>postMessage({type:"quad",quad:(0,n.Tt)(t)},void 0)),(t=>postMessage({type:"err",error:t.message},void 0)),((t,e)=>postMessage({type:"counter",counter:t,done:e},void 0)))}})();for(var n in i)this[n]=i[n];i.__esModule&&Object.defineProperty(this,"__esModule",{value:!0})})();